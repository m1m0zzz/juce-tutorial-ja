<!doctype html>
<html lang="ja" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-plugins/tutorial_audio_processor_graph" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">カスケード・プラグイン・エフェクト | JUCE日本語版チュートリアル</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://m1m0zzz.github.io/juce-tutorial-ja/img/juce-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://m1m0zzz.github.io/juce-tutorial-ja/img/juce-social-card.jpg"><meta data-rh="true" property="og:url" content="https://m1m0zzz.github.io/juce-tutorial-ja/plugins/tutorial_audio_processor_graph/"><meta data-rh="true" property="og:locale" content="ja"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" name="keywords" content="JUCE, plugin, VST, 日本語, チュートリアル"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="カスケード・プラグイン・エフェクト | JUCE日本語版チュートリアル"><meta data-rh="true" name="description" content="Create your own channel strip by learning how to daisy chain audio processors or plugins using an オーディオ・プロセッサ・グラフ. Learn how to use the オーディオ・プロセッサ・グラフ in both a plugin and standalone application context."><meta data-rh="true" property="og:description" content="Create your own channel strip by learning how to daisy chain audio processors or plugins using an オーディオ・プロセッサ・グラフ. Learn how to use the オーディオ・プロセッサ・グラフ in both a plugin and standalone application context."><link data-rh="true" rel="icon" href="/juce-tutorial-ja/img/juce.png"><link data-rh="true" rel="canonical" href="https://m1m0zzz.github.io/juce-tutorial-ja/plugins/tutorial_audio_processor_graph/"><link data-rh="true" rel="alternate" href="https://m1m0zzz.github.io/juce-tutorial-ja/plugins/tutorial_audio_processor_graph/" hreflang="ja"><link data-rh="true" rel="alternate" href="https://m1m0zzz.github.io/juce-tutorial-ja/plugins/tutorial_audio_processor_graph/" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Plugins","item":"https://m1m0zzz.github.io/juce-tutorial-ja/category/plugins"},{"@type":"ListItem","position":2,"name":"カスケード・プラグイン・エフェクト","item":"https://m1m0zzz.github.io/juce-tutorial-ja/plugins/tutorial_audio_processor_graph"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1662Y26YFC"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-1662Y26YFC",{anonymize_ip:!0})</script><link rel="stylesheet" href="/juce-tutorial-ja/assets/css/styles.975efe75.css">
<script src="/juce-tutorial-ja/assets/js/runtime~main.a65cd0b8.js" defer="defer"></script>
<script src="/juce-tutorial-ja/assets/js/main.a4f1eeca.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="メインコンテンツまでスキップ"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">メインコンテンツまでスキップ</a></div><nav aria-label="ナビゲーション" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="ナビゲーションバーを開く" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/juce-tutorial-ja/"><div class="navbar__logo"><img src="/juce-tutorial-ja/img/juce.png" alt="Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/juce-tutorial-ja/img/juce.png" alt="Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">JUCE日本語版チュートリアル</b></a><a class="navbar__item navbar__link" href="/juce-tutorial-ja/tags/初級/">tag:初級</a><a class="navbar__item navbar__link" href="/juce-tutorial-ja/tags/中級/">tag:中級</a><a class="navbar__item navbar__link" href="/juce-tutorial-ja/tags/上級/">tag:上級</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/m1m0zzz/juce-tutorial-ja" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="システムモード" aria-label="ダークモードを切り替える(現在はシステムモード)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="先頭へ戻る" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="ドキュメントのサイドバー" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/juce-tutorial-ja/">About / このサイトについて</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/juce-tutorial-ja/category/getting-started/">Getting Started</a><button aria-label="&#x27;Getting Started&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/juce-tutorial-ja/category/audio/">Audio</a><button aria-label="&#x27;Audio&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/juce-tutorial-ja/category/synth/">Synth</a><button aria-label="&#x27;Synth&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/juce-tutorial-ja/category/midi/">MIDI</a><button aria-label="&#x27;MIDI&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/juce-tutorial-ja/category/plugins/">Plugins</a><button aria-label="&#x27;Plugins&#x27;の目次を隠す" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/juce-tutorial-ja/plugins/tutorial_audio_parameter/">プラグインパラメータの追加</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/juce-tutorial-ja/plugins/tutorial_audio_processor_value_tree_state/">プラグイン状態の保存と読み込み</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/juce-tutorial-ja/plugins/tutorial_audio_bus_layouts/">プラグインに適切なバスレイアウトを設定する</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/juce-tutorial-ja/plugins/tutorial_audio_processor_graph/">カスケード・プラグイン・エフェクト</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/juce-tutorial-ja/plugins/tutorial_plugin_examples/">プラグインの例</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/juce-tutorial-ja/category/dsp/">DSP</a><button aria-label="&#x27;DSP&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/juce-tutorial-ja/category/graphics/">Graphics</a><button aria-label="&#x27;Graphics&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/juce-tutorial-ja/category/interface-design/">Interface Design</a><button aria-label="&#x27;Interface Design&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/juce-tutorial-ja/category/mobile/">Mobile</a><button aria-label="&#x27;Mobile&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/juce-tutorial-ja/category/utility-classes/">Utility Classes</a><button aria-label="&#x27;Utility Classes&#x27;の目次を開く" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="パンくずリストのナビゲーション"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="ホームページ" class="breadcrumbs__link" href="/juce-tutorial-ja/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/juce-tutorial-ja/category/plugins/"><span>Plugins</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">カスケード・プラグイン・エフェ クト</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">このページの見出し</button></div><div class="theme-doc-markdown markdown"><header><h1>カスケードプラグインエフェクト</h1></header>
<p><a href="https://docs.juce.com/master/tutorial_audio_processor_graph.html">📚 Source Page</a></p>
<p>Create your own channel strip by learning how to daisy chain audio processors or plugins using an <a href="https://docs.juce.com/master/classAudioProcessorGraph" target="_blank" rel="noopener noreferrer" title="A type of AudioProcessor which plays back a graph of other AudioProcessors.">オーディオ・プロセッサ・グラフ</a>. Learn how to use the <a href="https://docs.juce.com/master/classAudioProcessorGraph" target="_blank" rel="noopener noreferrer" title="A type of AudioProcessor which plays back a graph of other AudioProcessors.">オーディオ・プロセッサ・グラフ</a> in both a plugin and standalone application context.</p>
<p>レベル：中級</p>
<p>プラットフォーム：Windows, macOS, Linux</p>
<p>クラス：<a href="https://docs.juce.com/master/classAudioProcessor.html">AudioProcessor</a>, <a href="https://docs.juce.com/master/classAudioProcessorPlayer.html">AudioProcessorPlayer</a>, <a href="https://docs.juce.com/master/classAudioProcessorGraph.html">AudioProcessorGraph</a>, <a href="https://docs.juce.com/master/structAudioProcessorGraph_1_1AudioGraphIOProcessor.html">AudioProcessorGraph::AudioGraphIOProcessor</a>, <a href="https://docs.juce.com/master/structAudioProcessorGraph_1_1Node.html">AudioProcessorGraph::Node</a>, <a href="https://docs.juce.com/master/classAudioDeviceManager.html">AudioDeviceManager</a>, </p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="はじめる">はじめる<a href="#はじめる" class="hash-link" aria-label="はじめる への直接リンク" title="はじめる への直接リンク">​</a></h2>
<p>Download the demo project for this tutorial here: <a href="https://docs.juce.com/tutorials/PIPs/AudioProcessorGraphTutorial.zip" target="_blank" rel="noopener noreferrer">ピップ</a> | <a href="https://docs.juce.com/tutorials/ZIPs/AudioProcessorGraphTutorial.zip" target="_blank" rel="noopener noreferrer">ジップ</a>. Unzip the project and open the first header file in the Projucer.</p>
<p>If you need help with this step, see <a href="/juce-tutorial-ja/getting-started/tutorial_new_projucer_project/">チュートリアルProjucerパート1：Projucerを始める</a>.</p>
<h1>The demo project</h1>
<p>このデモ・プロジェクトは、異なるオーディオ・プロセッサーを直列に適用できるチャンネル・ストリップをシミュレートしています。個別にバイパスできる3つのスロットと、オシレーター、ゲインコントロール、フィルターを含む3つの異なるプロセッサーから選択できる。このプラグインは、入力されたオーディオに処理を適用し、変更された信号を出力に伝搬します。</p>
<figure><img src="https://docs.juce.com/master/tutorial_audio_processor_graph_screenshot1.png" alt="The channel strip plugin window"><figcaption><b>The channel strip plugin window</b></figcaption></figure>
<h1>Setting up the AudioProcessorGraph</h1>
<p>The <a href="https://docs.juce.com/master/classAudioProcessorGraph" target="_blank" rel="noopener noreferrer" title="A type of AudioProcessor which plays back a graph of other AudioProcessors.">オーディオ・プロセッサ・グラフ</a> is a special type of <a href="https://docs.juce.com/master/classAudioProcessor" target="_blank" rel="noopener noreferrer" title="Base class for audio processing classes or plugins.">オーディオプロセッサ</a> that allows us to connect several <a href="https://docs.juce.com/master/classAudioProcessor" target="_blank" rel="noopener noreferrer" title="Base class for audio processing classes or plugins.">オーディオプロセッサ</a> objects together as nodes in a graph and play back the result of the combined processing. In order to wire-up graph nodes together, we have to add connections between channels of nodes in the order we wish to process the audio signal.</p>
<p>The <a href="https://docs.juce.com/master/classAudioProcessorGraph" target="_blank" rel="noopener noreferrer" title="A type of AudioProcessor which plays back a graph of other AudioProcessors.">オーディオ・プロセッサ・グラフ</a> class also offers special node types for input and output handling of audio and midi signals within the graph. An example graph of the channel strip would look something like this when connected properly:</p>
<p><b>このブラウザではSVGを表示できません: 代わりにFirefox、Chrome、Safari、またはOperaをお試しください。</b></p>
<p>Let&#x27;s start by setting up the main <a href="https://docs.juce.com/master/classAudioProcessorGraph" target="_blank" rel="noopener noreferrer" title="A type of AudioProcessor which plays back a graph of other AudioProcessors.">オーディオ・プロセッサ・グラフ</a> to receive incoming signals and send them back to the corresponding output unprocessed.</p>
<p>In order to reduce the character count for nested classes used frequently in this tutorial, we first declare a <code>使用して</code> for the AudioGraphIOProcessor class and the Node class in the <code>チュートリアルプロセッサー</code> class as follows:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using AudioGraphIOProcessor = juce::AudioProcessorGraph::AudioGraphIOProcessor；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    using Node = juce::AudioProcessorGraph::Node；</span><br></span></code></pre></div></div>
<p>次に、以下のようにクラス名を短縮してプライベート・メンバー変数を宣言する：</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Node::Ptr audioInputNode；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Node::Ptr audioOutputNode；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Node::Ptr midiInputNode；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Node::Ptr midiOutputNode；</span><br></span></code></pre></div></div>
<p>Here we create pointers to the main <a href="https://docs.juce.com/master/classAudioProcessorGraph" target="_blank" rel="noopener noreferrer" title="A type of AudioProcessor which plays back a graph of other AudioProcessors.">オーディオ・プロセッサ・グラフ</a> as well as the input and output processor nodes which will be instantiated later on within the graph.</p>
<p>Next, in the <code>チュートリアルプロセッサー</code> constructor we set the default bus properties for the plugin and instantiate the main <a href="https://docs.juce.com/master/classAudioProcessorGraph" target="_blank" rel="noopener noreferrer" title="A type of AudioProcessor which plays back a graph of other AudioProcessors.">オーディオ・プロセッサ・グラフ</a> as shown here:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">チュートリアルプロセッサ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        : AudioProcessor (BusesProperties().withInput (&quot;Input&quot;, juce::AudioChannelSet::stereo(), true)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                           .withOutput (&quot;Output&quot;, juce::AudioChannelSet::stereo(), true))、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          mainProcessor (new juce::AudioProcessorGraph())、</span><br></span></code></pre></div></div>
<p>プラグインを扱うので、isBusesLayoutSupported()コールバックを実装して、プラグインホストやDAWに、どのチャンネルセットをサポートしているかを通知する必要があります。この例では、このようにモノからモノ、ステレオからステレオの構成のみをサポートすることにします：</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">bool isBusesLayoutSupported (const BusesLayout&amp; layouts) const override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (layouts.getMainInputChannelSet() == juce::AudioChannelSet::disabled())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         || layouts.getMainOutputChannelSet() == juce::AudioChannelSet::disabled())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            false を返します；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (layouts.getMainOutputChannelSet() != juce::AudioChannelSet::mono())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &amp;&amp; layouts.getMainOutputChannelSet() != juce::AudioChannelSet::stereo())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            false を返します；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return layouts.getMainInputChannelSet() == layouts.getMainOutputChannelSet()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注記</div><div class="admonitionContent_BuS1"><p>If you want to learn more about bus layouts of plugins, please refer to <a href="/juce-tutorial-ja/plugins/tutorial_audio_bus_layouts/">チュートリアルプラグインに適切なバスレイアウトを設定する</a>.</p></div></div>
<p>For the <code>チュートリアルプロセッサー</code> to be able to process audio through the graph provided, we have to override the three main functions of the <a href="https://docs.juce.com/master/classAudioProcessor" target="_blank" rel="noopener noreferrer" title="Base class for audio processing classes or plugins.">オーディオプロセッサ</a> class that perform signal processing namely the prepareToPlay(), releaseResources() and processBlock() functions and call the same respective functions on the <a href="https://docs.juce.com/master/classAudioProcessorGraph" target="_blank" rel="noopener noreferrer" title="A type of AudioProcessor which plays back a graph of other AudioProcessors.">オーディオ・プロセッサ・グラフ</a>.</p>
<p>Let&#x27;s start with the prepareToPlay() function. First we inform the <a href="https://docs.juce.com/master/classAudioProcessorGraph" target="_blank" rel="noopener noreferrer" title="A type of AudioProcessor which plays back a graph of other AudioProcessors.">オーディオ・プロセッサ・グラフ</a> on the number of I/O channels, the sample rate and the number of samples per block by calling the setPlayConfigDetails() function like follows:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void prepareToPlay (double sampleRate, int samplesPerBlock) override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        mainProcessor-&gt;setPlayConfigDetails（getMainBusNumInputChannels()、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                             getMainBusNumOutputChannels()、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                             sampleRate, samplesPerBlock)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        mainProcessor-&gt;prepareToPlay (sampleRate, samplesPerBlock)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        initialiseGraph()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre></div></div>
<p>We then call the prepareToPlay() function on the <a href="https://docs.juce.com/master/classAudioProcessorGraph" target="_blank" rel="noopener noreferrer" title="A type of AudioProcessor which plays back a graph of other AudioProcessors.">オーディオ・プロセッサ・グラフ</a> with the same information and call the <code>initialiseGraph()</code> helper function which we define later on to create and connect the nodes in the graph.</p>
<p>The releaseResources() function is self-explanatory and simply calls the same function on the <a href="https://docs.juce.com/master/classAudioProcessorGraph" target="_blank" rel="noopener noreferrer" title="A type of AudioProcessor which plays back a graph of other AudioProcessors.">オーディオ・プロセッサ・グラフ</a> instance:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void releaseResources() override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        mainProcessor-&gt;releaseResources()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre></div></div>
<p>Finally in the processBlock() function, we clear the samples contained in any additional channels that may contain garbage data just in case and call the <code>updateGraph()</code> helper function later defined that will rebuild the graph if the channel strip configuration was changed. The processBlock() function is eventually called on the <a href="https://docs.juce.com/master/classAudioProcessorGraph" target="_blank" rel="noopener noreferrer" title="A type of AudioProcessor which plays back a graph of other AudioProcessors.">オーディオ・プロセッサ・グラフ</a> at the end of the function:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void processBlock (juce::AudioSampleBuffer&amp; buffer, juce::MidiBuffer&amp; midiMessages) override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (int i = getTotalNumInputChannels(); i &lt; getTotalNumOutputChannels(); ++i)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            buffer.clear (i, 0, buffer.getNumSamples())；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        updateGraph()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        mainProcessor-&gt;processBlock (buffer, midiMessages)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre></div></div>
<p>The <code>initialiseGraph()</code> function called earlier in the prepareToPlay() callback starts by clearing the <a href="https://docs.juce.com/master/classAudioProcessorGraph" target="_blank" rel="noopener noreferrer" title="A type of AudioProcessor which plays back a graph of other AudioProcessors.">オーディオ・プロセッサ・グラフ</a> of any nodes and connections that were previously present. This also takes care of deleting the corresponding <a href="https://docs.juce.com/master/classAudioProcessor" target="_blank" rel="noopener noreferrer" title="Base class for audio processing classes or plugins.">オーディオプロセッサ</a> instances associated to the deleted nodes in the graph. We then proceed to instantiate the AudioGraphIOProcessor objects for the graph I/O and add the <a href="https://docs.juce.com/master/classAudioProcessor" target="_blank" rel="noopener noreferrer" title="Base class for audio processing classes or plugins.">オーディオプロセッサ</a> objects as nodes in the graph.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    void initialiseGraph()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        mainProcessor-&gt;clear();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        audioInputNode  = mainProcessor-&gt;addNode (std::make_unique (AudioGraphIOProcessor::audioInputNode));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        audioOutputNode = mainProcessor-&gt;addNode (std::make_unique (AudioGraphIOProcessor::audioOutputNode));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        midiInputNode   = mainProcessor-&gt;addNode (std::make_unique (AudioGraphIOProcessor::midiInputNode));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        midiOutputNode  = mainProcessor-&gt;addNode (std::make_unique(AudioGraphIOProcessor::midiOutputNode))；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        connectAudioNodes()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        connectMidiNodes()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre></div></div>
<p>オーディオ／ミディデータを伝搬するために、グラフ内の新しく作成されたノード間に接続を追加する必要がありますが、これは以下のヘルパー関数で実行されます：</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void connectAudioNodes()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (int channel = 0; channel &lt; 2; ++channel)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            mainProcessor-&gt;addConnection ({ audioInputNode-&gt;nodeID, channel }、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                            { audioOutputNode-&gt;nodeID, channel }); }.});</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre></div></div>
<p>Here we call the addConnection() function on the <a href="https://docs.juce.com/master/classAudioProcessorGraph" target="_blank" rel="noopener noreferrer" title="A type of AudioProcessor which plays back a graph of other AudioProcessors.">オーディオ・プロセッサ・グラフ</a> instance by passing the source and destination nodes we wish to connect in the form of a Connection object. These require a nodeID and a channel index for building the appropriate connections and the whole process is repeated for all the required channels.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void connectMidiNodes()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        mainProcessor-&gt;addConnection ({ midiInputNode-&gt;nodeID, juce::AudioProcessorGraph::midiChannelIndex }、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        juce::AudioProcessorGraph::midiChannelIndex }, { midiOutputNode-&gt;nodeID, juce::AudioProcessorGraph::midiChannelIndex }.});</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre></div></div>
<p>The same is performed on the midi I/O nodes with the exception of the channel index argument. Since the midi signals are not sent through regular audio channels, we have to supply a special channel index specified as an enum in the <a href="https://docs.juce.com/master/classAudioProcessorGraph" target="_blank" rel="noopener noreferrer" title="A type of AudioProcessor which plays back a graph of other AudioProcessors.">オーディオ・プロセッサ・グラフ</a> class.</p>
<p>チュートリアルのこの段階では、信号がグラフを通過する音を、変化させることなく聞くことができるはずだ。</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>警告</div><div class="admonitionContent_BuS1"><p>内蔵入出力でプラグインをテストする場合、悲鳴のよう なフィードバックに注意してください。ヘッドホンを使えばこの問題を回避できます。</p></div></div>
<h1>Implementing different processors</h1>
<p>このチュートリアルのパートでは、入力されるオーディオ信号を変化させるために、チャンネルストリッププラグイン内で使用できるさまざまなプロセッサを作成します。他のプロセッサーを作ったり、以下のプロセッサーを好みに合わせてカスタマイズしてください。</p>
<p>In order to avoid repeated code for the different processors we want to create, let&#x27;s start by declaring an <a href="https://docs.juce.com/master/classAudioProcessor" target="_blank" rel="noopener noreferrer" title="Base class for audio processing classes or plugins.">オーディオプロセッサ</a> base class that will be inherited by the individual processors and override the necessary functions only once for simplicity&#x27;s sake.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class ProcessorBase : public juce::AudioProcessor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">を公開します：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //==============================================================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    プロセッサベース()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        : AudioProcessor(BusesProperties().withInput(&quot;Input&quot;, juce::AudioChannelSet::stereo())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                           .withOutput(&quot;Output&quot;, juce::AudioChannelSet::stereo()))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //==============================================================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void prepareToPlay (double, int) override {} オーバーライド {}.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void releaseResources() オーバーライド {}.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void processBlock (juce::AudioSampleBuffer&amp;, juce::MidiBuffer&amp;) override {}.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //==============================================================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    juce::AudioProcessorEditor* createEditor() override { return nullptr; }.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bool hasEditor() const override { return false; }.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //==============================================================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    juce::String getName() override { return {}; } // juce::String getName() override { return {}; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bool acceptsMidi() const override { return false; }.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bool producesMidi() const override { return false; }.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    double getTailLengthSeconds() const override { return 0; }.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //==============================================================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int getNumPrograms() override { return 0; }.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int getCurrentProgram() override { return 0; }.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void setCurrentProgram(int) override {}.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const juce::String getProgramName (int) override { return {}; }.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void changeProgramName (int, const juce::String&amp;) override {}.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //==============================================================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void getStateInformation (juce::MemoryBlock&amp;) override {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void setStateInformation (const void*, int) override {}.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">プライベート：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //==============================================================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    JUCE_DECLARE_NON_COPYABLE_WITH_LEAK_DETECTOR (ProcessorBase)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注記</div><div class="admonitionContent_BuS1"><p>The following three processors will make use of the DSP module to facilitate implementation and if you want to learn more about DSP you can refer to <a href="/juce-tutorial-ja/dsp/tutorial_dsp_introduction/">チュートリアルDSP入門</a> for a more in-depth explanation.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="implementing-an-oscillator">Implementing an oscillator<a href="#implementing-an-oscillator" class="hash-link" aria-label="Implementing an oscillator への直接リンク" title="Implementing an oscillator への直接リンク">​</a></h2>
<p>最初のプロセッサーは、440Hzの一定の正弦波トーンを生成するシンプルなオシレーターである。</p>
<p>We derive the <code>オシレーター・プロセッサー</code> class from the previously-defined <code>プロセッサベース</code>, override the getName() function to provide a meaningful name and declare a <a href="https://docs.juce.com/master/classdsp_1_1Oscillator" target="_blank" rel="noopener noreferrer" title="Generates a signal based on a user-supplied function.">dsp::Oscillator</a> object from the DSP module:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class OscillatorProcessor  : public ProcessorBase</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const juce::String getName() const override { return &quot;Oscillator&quot;; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    juce::dsp::Oscillator発振器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre></div></div>
<p>In the constructor, we set the frequency and the waveform of the oscillator by calling respectively the setFrequency() and initialise() functions on the <a href="https://docs.juce.com/master/classdsp_1_1Oscillator" target="_blank" rel="noopener noreferrer" title="Generates a signal based on a user-supplied function.">dsp::Oscillator</a> object as follows:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">OscillatorProcessor()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        oscillator.setFrequency (440.0f)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        oscillator.initialise ([] (float x) { return std::sin (x); })；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre></div></div>
<p>In the prepareToPlay() function, we create a <a href="https://docs.juce.com/master/structdsp_1_1ProcessSpec" target="_blank" rel="noopener noreferrer" title="This structure is passed into a DSP algorithm&#x27;s prepare() method, and contains information about vari...">dsp::ProcessSpec</a> object to describe the sample rate and number of samples per block to the <a href="https://docs.juce.com/master/classdsp_1_1Oscillator" target="_blank" rel="noopener noreferrer" title="Generates a signal based on a user-supplied function.">dsp::Oscillator</a> object and pass the specifications by calling the prepare() function on it like so:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    void prepareToPlay (double sampleRate, int samplesPerBlock) override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        juce::dsp::ProcessSpec spec { sampleRate, static_cast(samplesPerBlock）, 2 }；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        oscillator.prepare (spec)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre></div></div>
<p>Next, in the processBlock() function we create a <a href="https://docs.juce.com/master/classdsp_1_1AudioBlock" target="_blank" rel="noopener noreferrer" title="Minimal and lightweight data-structure which contains a list of pointers to channels containing some ...">dsp::AudioBlock</a> object from the AudioSampleBuffer passed as an argument and declare the processing context from it as a <a href="https://docs.juce.com/master/structdsp_1_1ProcessContextReplacing" target="_blank" rel="noopener noreferrer" title="Contains context information that is passed into an algorithm&#x27;s process method.">dsp::ProcessContextReplacing</a> object that is subsequently passed to the process() function of the <a href="https://docs.juce.com/master/classdsp_1_1Oscillator" target="_blank" rel="noopener noreferrer" title="Generates a signal based on a user-supplied function.">dsp::Oscillator</a> object as shown here:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    void processBlock (juce::AudioSampleBuffer&amp; buffer, juce::MidiBuffer&amp;) override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        juce::dsp::AudioBlock block (buffer);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        juce::dsp::ProcessContextReplacingコンテキスト（ブロック）；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        oscillator.process (context)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre></div></div>
<p>Finally, we can reset the state of the <a href="https://docs.juce.com/master/classdsp_1_1Oscillator" target="_blank" rel="noopener noreferrer" title="Generates a signal based on a user-supplied function.">dsp::Oscillator</a> object by overriding the reset() function of the <a href="https://docs.juce.com/master/classAudioProcessor" target="_blank" rel="noopener noreferrer" title="Base class for audio processing classes or plugins.">オーディオプロセッサ</a> and calling the same function onto it:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void reset() オーバーライド</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        oscillator.reset()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre></div></div>
<p>これで、チャンネル・ストリップ・プラグインで使えるオシレーターができました。</p>
<p>発振器のinitialise()関数を変更して、異なる波形を生成し、ターゲット周波数を変更する。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="implementing-a-gain-control">Implementing a gain control<a href="#implementing-a-gain-control" class="hash-link" aria-label="Implementing a gain control への直接リンク" title="Implementing a gain control への直接リンク">​</a></h2>
<p>つ目のプロセッサーは、入力信号を-6dB減衰させるシンプルなゲイン・コントロールである。</p>
<p>We derive the <code>ゲインプロセッサー</code> class from the previously-defined <code>プロセッサベース</code>, override the getName() function to provide a meaningful name and declare a <a href="https://docs.juce.com/master/classdsp_1_1Gain" target="_blank" rel="noopener noreferrer" title="Applies a gain to audio samples as single samples or AudioBlocks.">dsp::Gain</a> object from the DSP module:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class GainProcessor  : public ProcessorBase</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const juce::String getName() const override { return &quot;Gain&quot;; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    juce::dsp::Gainゲイン；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre></div></div>
<p>In the constructor, we set the gain in decibels of the gain control by calling the setGainDecibels() function on the <a href="https://docs.juce.com/master/classdsp_1_1Gain" target="_blank" rel="noopener noreferrer" title="Applies a gain to audio samples as single samples or AudioBlocks.">dsp::Gain</a> object as follows:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ゲインプロセッサー()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        gain.setGainDecibels (-6.0f)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre></div></div>
<p>In the prepareToPlay() function, we create a <a href="https://docs.juce.com/master/structdsp_1_1ProcessSpec" target="_blank" rel="noopener noreferrer" title="This structure is passed into a DSP algorithm&#x27;s prepare() method, and contains information about vari...">dsp::ProcessSpec</a> object to describe the sample rate, number of samples per block and number of channels to the <a href="https://docs.juce.com/master/classdsp_1_1Gain" target="_blank" rel="noopener noreferrer" title="Applies a gain to audio samples as single samples or AudioBlocks.">dsp::Gain</a> object and pass the specifications by calling the prepare() function on it like so:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    void prepareToPlay (double sampleRate, int samplesPerBlock) override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        juce::dsp::ProcessSpec spec { sampleRate, static_cast(samplesPerBlock）, 2 }；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        gain.prepare (spec)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre></div></div>
<p>Next, in the processBlock() function we create a <a href="https://docs.juce.com/master/classdsp_1_1AudioBlock" target="_blank" rel="noopener noreferrer" title="Minimal and lightweight data-structure which contains a list of pointers to channels containing some ...">dsp::AudioBlock</a> object from the AudioSampleBuffer passed as an argument and declare the processing context from it as a <a href="https://docs.juce.com/master/structdsp_1_1ProcessContextReplacing" target="_blank" rel="noopener noreferrer" title="Contains context information that is passed into an algorithm&#x27;s process method.">dsp::ProcessContextReplacing</a> object that is subsequently passed to the process() function of the <a href="https://docs.juce.com/master/classdsp_1_1Gain" target="_blank" rel="noopener noreferrer" title="Applies a gain to audio samples as single samples or AudioBlocks.">dsp::Gain</a> object as shown here:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    void processBlock (juce::AudioSampleBuffer&amp; buffer, juce::MidiBuffer&amp;) override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        juce::dsp::AudioBlock block (buffer);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        juce::dsp::ProcessContextReplacingコンテキスト（ブロック）；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        gain.process (context)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre></div></div>
<p>Finally, we can reset the state of the <a href="https://docs.juce.com/master/classdsp_1_1Gain" target="_blank" rel="noopener noreferrer" title="Applies a gain to audio samples as single samples or AudioBlocks.">dsp::Gain</a> object by overriding the reset() function of the <a href="https://docs.juce.com/master/classAudioProcessor" target="_blank" rel="noopener noreferrer" title="Base class for audio processing classes or plugins.">オーディオプロセッサ</a> and calling the same function onto it:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void reset() オーバーライド</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ゲイン.リセット()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre></div></div>
<p>これで、チャンネル・ストリップ・プラグインで使えるゲイン・コントロールができました。</p>
<p>ゲインコントロールのsetGainDecibels()関数を変更して、さらにゲインを下げたり、信号をブーストしたりする。(ブーストするときは、レベルに注意してください！）。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="implementing-a-filter">Implementing a filter<a href="#implementing-a-filter" class="hash-link" aria-label="Implementing a filter への直接リンク" title="Implementing a filter への直接リンク">​</a></h2>
<p>3つ目のプロセッサーは、1kHz以下の周波数を下げるシンプルなハイパスフィルターだ。</p>
<p>We derive the <code>フィルタープロセッサー</code> class from the previously-defined <code>プロセッサベース</code>, override the getName() function to provide a meaningful name and declare a <a href="https://docs.juce.com/master/structdsp_1_1ProcessorDuplicator" target="_blank" rel="noopener noreferrer" title="Converts a mono processor class into a multi-channel version by duplicating it and applying multichan...">dsp::ProcessorDuplicator</a> object from the DSP module. This allows us to use a mono processor of the <a href="https://docs.juce.com/master/classdsp_1_1IIR_1_1Filter" target="_blank" rel="noopener noreferrer" title="A processing class that can perform IIR filtering on an audio signal, using the Transposed Direct For...">dsp::IIR::Filter</a> class and convert it into a multi-channel version by providing its shared state as a <a href="https://docs.juce.com/master/structdsp_1_1IIR_1_1Coefficients" target="_blank" rel="noopener noreferrer" title="A set of coefficients for use in an Filter object.">dsp::IIR::Coefficients</a> class:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class FilterProcessor  : public ProcessorBase</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    FilterProcessor() {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const juce::String getName() const override { return &quot;Filter&quot;; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    juce::dsp::ProcessorDuplicator, juce::dsp::IIR::Coefficients&gt; フィルター；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre></div></div>
<p>In the prepareToPlay() function, we first generate the coefficients used for the filter by using the makeHighPass() function and assign it as the shared processing state to the duplicator. We then create a <a href="https://docs.juce.com/master/structdsp_1_1ProcessSpec" target="_blank" rel="noopener noreferrer" title="This structure is passed into a DSP algorithm&#x27;s prepare() method, and contains information about vari...">dsp::ProcessSpec</a> object to describe the sample rate, number of samples per block and number of channels to the <a href="https://docs.juce.com/master/structdsp_1_1ProcessorDuplicator" target="_blank" rel="noopener noreferrer" title="Converts a mono processor class into a multi-channel version by duplicating it and applying multichan...">dsp::ProcessorDuplicator</a> object and pass the specifications by calling the prepare() function on it like so:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    void prepareToPlay (double sampleRate, int samplesPerBlock) override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        *filter.state = *juce::dsp::IIR::Coefficients::makeHighPass (sampleRate, 1000.0f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        juce::dsp::ProcessSpec spec { sampleRate, static_cast(samplesPerBlock）, 2 }；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        filter.prepare (spec)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre></div></div>
<p>Next, in the processBlock() function we create a <a href="https://docs.juce.com/master/classdsp_1_1AudioBlock" target="_blank" rel="noopener noreferrer" title="Minimal and lightweight data-structure which contains a list of pointers to channels containing some ...">dsp::AudioBlock</a> object from the AudioSampleBuffer passed as an argument and declare the processing context from it as a <a href="https://docs.juce.com/master/structdsp_1_1ProcessContextReplacing" target="_blank" rel="noopener noreferrer" title="Contains context information that is passed into an algorithm&#x27;s process method.">dsp::ProcessContextReplacing</a> object that is subsequently passed to the process() function of the <a href="https://docs.juce.com/master/structdsp_1_1ProcessorDuplicator" target="_blank" rel="noopener noreferrer" title="Converts a mono processor class into a multi-channel version by duplicating it and applying multichan...">dsp::ProcessorDuplicator</a> object as shown here:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    void processBlock (juce::AudioSampleBuffer&amp; buffer, juce::MidiBuffer&amp;) override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        juce::dsp::AudioBlock block (buffer);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        juce::dsp::ProcessContextReplacingコンテ  キスト（ブロック）；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        filter.process (context)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre></div></div>
<p>Finally, we can reset the state of the <a href="https://docs.juce.com/master/structdsp_1_1ProcessorDuplicator" target="_blank" rel="noopener noreferrer" title="Converts a mono processor class into a multi-channel version by duplicating it and applying multichan...">dsp::ProcessorDuplicator</a> object by overriding the reset() function of the <a href="https://docs.juce.com/master/classAudioProcessor" target="_blank" rel="noopener noreferrer" title="Base class for audio processing classes or plugins.">オーディオプロセッサ</a> and calling the same function onto it:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void reset() オーバーライド</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        filter.reset()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre></div></div>
<p>これでチャンネル・ストリップ・プラグインで使えるフィルターができた。</p>
<p>フィルタの係数を変更して、カットオフ周波数と共振が異なるローパスまたはバンドパスフィルタを作成します。</p>
<h1>Connecting graph nodes together</h1>
<p>Now that we have implemented multiple processors that can be used within the <a href="https://docs.juce.com/master/classAudioProcessorGraph" target="_blank" rel="noopener noreferrer" title="A type of AudioProcessor which plays back a graph of other AudioProcessors.">オーディオ・プロセッサ・グラフ</a>, let&#x27;s start connecting them together depending on the user selection.</p>
<p>In the <code>チュートリアルプロセッサー</code> class, we add three <a href="https://docs.juce.com/master/classAudioParameterChoice" target="_blank" rel="noopener noreferrer" title="Provides a class of AudioProcessorParameter that can be used to select an indexed,...">オーディオパラメータ選択</a> and four <a href="https://docs.juce.com/master/classAudioParameterBool" target="_blank" rel="noopener noreferrer" title="Provides a class of AudioProcessorParameter that can be used as a boolean value.">AudioParameterBool</a> pointers as private member variables to store the parameters chosen in the channel strip and their corresponding bypass states. We also declare node pointers to the three processor slots when later instantiated within the graph and provide the selectable choices as a <a href="https://docs.juce.com/master/classStringArray" target="_blank" rel="noopener noreferrer" title="A special array for holding a list of strings.">文字列配列</a> for convenience.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    juce::StringArray processorChoices { &quot;Empty&quot;, &quot;Oscillator&quot;, &quot;Gain&quot;, &quot;Filter&quot; };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    std::unique_ptrmainProcessor；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    juce::AudioParameterBool* muteInput；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    juce::AudioParameterChoice* processorSlot1；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    juce::AudioParameterChoice* processorSlot2；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    juce::AudioParameterChoice* processorSlot3；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    juce::AudioParameterBool* bypassSlot1；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    juce::AudioParameterBool* bypassSlot2；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    juce::AudioParameterBool* bypassSlot3；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Node::Ptr audioInputNode；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Node::Ptr audioOutputNode；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Node::Ptr midiInputNode；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Node::Ptr midiOutputNode；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Node::Ptr slot1Node；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Node::Ptr slot2Node；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Node::Ptr slot3Node；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //==============================================================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    JUCE_DECLARE_NON_COPYABLE_WITH_LEAK_DETECTOR (TutorialProcessor)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre></div></div>
<p>Then in the constructor we can instantiate the audio parameters and call the addParameter() function to tell the <a href="https://docs.juce.com/master/classAudioProcessor" target="_blank" rel="noopener noreferrer" title="Base class for audio processing classes or plugins.">オーディオプロセッサ</a> about which parameters should be available in the plugin.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">チュートリアルプロセッサ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        : AudioProcessor (BusesProperties().withInput (&quot;Input&quot;, juce::AudioChannelSet::stereo(), true)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                           .withOutput (&quot;Output&quot;, juce::AudioChannelSet::stereo(), true))、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          mainProcessor (new juce::AudioProcessorGraph())、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          muteInput (new juce::AudioParameterBool (&quot;mute&quot;, &quot;Mute Input&quot;, true))、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          processorSlot1 (new juce::AudioParameterChoice (&quot;slot1&quot;, &quot;Slot 1&quot;, processorChoices, 0))、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          processorSlot2 (new juce::AudioParameterChoice (&quot;slot2&quot;, &quot;Slot 2&quot;, processorChoices, 0))、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          processorSlot3 (new juce::AudioParameterChoice (&quot;slot3&quot;, &quot;Slot 3&quot;, processorChoices, 0))、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          bypassSlot1 (new juce::AudioParameterBool (&quot;bypass1&quot;, &quot;Bypass 1&quot;, false))、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          bypassSlot2 (new juce::AudioParameterBool (&quot;bypass2&quot;, &quot;Bypass 2&quot;, false))、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          bypassSlot3 (new juce::AudioParameterBool (&quot;bypass3&quot;, &quot;Bypass 3&quot;, false)))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        addParameter (muteInput)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        addParameter (processorSlot1)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        addParameter (processorSlot2)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        addParameter (processorSlot3)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        addParameter (bypassSlot1)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        addParameter (bypassSlot2)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        addParameter (bypassSlot3)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre></div></div>
<p>This tutorial makes use of the <a href="https://docs.juce.com/master/classGenericAudioProcessorEditor" target="_blank" rel="noopener noreferrer" title="A type of UI component that displays the parameters of an AudioProcessor as a simple list of sliders,...">GenericAudioProcessorEditor (ジェネリックオーディオプロセッサーエディター)</a> class, which automatically creates a <a href="https://docs.juce.com/master/classComboBox" target="_blank" rel="noopener noreferrer" title="A component that lets the user choose from a drop-down list of choices.">コンボボックス</a> for each of the parameters in the plug-in&#x27;s processor that is an <a href="https://docs.juce.com/master/classAudioParameterChoice" target="_blank" rel="noopener noreferrer" title="Provides a class of AudioProcessorParameter that can be used to select an indexed,...">オーディオパラメータ選択</a> type and a <a href="https://docs.juce.com/master/classToggleButton" target="_blank" rel="noopener noreferrer" title="A button that can be toggled on/off.">トグルボタン</a> for each <a href="https://docs.juce.com/master/classAudioParameterBool" target="_blank" rel="noopener noreferrer" title="Provides a class of AudioProcessorParameter that can be used as a boolean value.">AudioParameterBool</a> type.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注記</div><div class="admonitionContent_BuS1"><p>To learn more about audio parameters and how to customise them, please refer to <a href="/juce-tutorial-ja/plugins/tutorial_audio_parameter/">チュートリアルプラグインパラメータの追加</a>. For a more seamless and elegant method for saving and loading parameters, you can take a look at <a href="/juce-tutorial-ja/plugins/tutorial_audio_processor_value_tree_state/">チュートリアルプラグイン状態の保存と読み込み</a>.</p></div></div>
<p>In the first part of the tutorial when setting up the <a href="https://docs.juce.com/master/classAudioProcessorGraph" target="_blank" rel="noopener noreferrer" title="A type of AudioProcessor which plays back a graph of other AudioProcessors.">オーディオ・プロセッサ・グラフ</a>, we noticed that we call the <code>updateGraph()</code> helper function in the processBlock() callback of the <code>チュートリアルプロセッサー</code> class. The purpose of this function is to update the graph by reinstantiating the proper <a href="https://docs.juce.com/master/classAudioProcessor" target="_blank" rel="noopener noreferrer" title="Base class for audio processing classes or plugins.">オーディオプロセッサ</a> objects and nodes as well as reconnecting the graph depending on the current choices selected by the user so let&#x27;s implement that helper function like this:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    void updateGraph()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        bool hasChanged = false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        juce::Array choices { processorSlot1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                           processorSlot2,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                           processorSlot3 };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        juce::Array bypasses { bypassSlot1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                          bypassSlot2,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                          bypassSlot3 };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        juce::ReferenceCountedArrayスロットを追加します；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        slots.add (slot1Node)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        slots.add (slot2Node)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        slots.add (slot3Node)；</span><br></span></code></pre></div></div>
<p>この関数は、グラフの状態を表すローカル変数と、オーディオブロック処理の最後の繰り返しから変更されたかどうかを宣言することから始まります。また、プロセッサの選択肢、バイパスの状態、およびグラフ内の対応するノードの反復処理を容易にするための配列を作成します。</p>
<p>In the next part, we iterate over the three available processor slots and check the options that were selected for each of the <a href="https://docs.juce.com/master/classAudioParameterChoice" target="_blank" rel="noopener noreferrer" title="Provides a class of AudioProcessorParameter that can be used to select an indexed,...">オーディオパラメータ選択</a> objects as follows:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        for (int i = 0; i &lt; 3; ++i)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            auto&amp; choice = choices.getReference (i);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            auto  slot   = slots  .getUnchecked (i);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (choice-&gt;getIndex() == 0)            // [1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (slot != nullptr)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    mainProcessor-&gt;removeNode (slot.get());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    slots.set (i, nullptr);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    hasChanged = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            else if (choice-&gt;getIndex() == 1)       // [2]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (slot != nullptr)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if (slot-&gt;getProcessor()-&gt;getName() == &quot;Oscillator&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        continue;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    mainProcessor-&gt;removeNode (slot.get());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                slots.set (i, mainProcessor-&gt;addNode (std::make_unique()));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                hasChanged = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            else if (choice-&gt;getIndex() == 2)       // [3]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (slot != nullptr)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if (slot-&gt;getProcessor()-&gt;getName() == &quot;Gain&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        continue;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    mainProcessor-&gt;removeNode (slot.get());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                slots.set (i, mainProcessor-&gt;addNode (std::make_unique()));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                hasChanged = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            else if (choice-&gt;getIndex() == 3)       // [4]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (slot != nullptr)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if (slot-&gt;getProcessor()-&gt;getName() == &quot;Filter&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        continue;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    mainProcessor-&gt;removeNode (slot.get());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                slots.set (i, mainProcessor-&gt;addNode (std::make_unique()));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                hasChanged = true；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span></code></pre></div></div>
<ul>
<li>[1]: If the choice remains in the &quot;Empty&quot; state, we first check whether the node was previously instantiated to a different processor and if so, we remove the node from the graph, clear the reference to the node and set the <code>hasChanged</code> flag to true. Otherwise, the state has not changed and the graph does not need rebuilding.</li>
<li>[2]: If the user chooses the &quot;Oscillator&quot; state, we first check whether the currently instantiated node is already an oscillator processor and if so, the state has not changed and we continue onto the next slot. Otherwise, if the slot was already occupied we remove the node from the graph, set the reference to a new node by instantiating the oscillator and set the <code>hasChanged</code> flag to true.</li>
<li>[3]: We proceed to do the same for the &quot;Gain&quot; state and instantiate a gain processor if necessary.</li>
<li>[4]: Again, we repeat the same process for the &quot;Filter&quot; state and instantiate a filter processor if needed.</li>
</ul>
<p>次のセクションは、グラフの状態が変化した場合にのみ実行され、以下のようにノードの接続を開始する：</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        if (hasChanged)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            for (auto connection : mainProcessor-&gt;getConnections())     // [5]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                mainProcessor-&gt;removeConnection (connection);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            juce::ReferenceCountedArrayアクティブスロット；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            for (auto slot : slots)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (slot != nullptr)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    activeSlots.add (slot); // [6].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    slot-&gt;getProcessor()-&gt;setPlayConfigDetails (getMainBusNumInputChannels()、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                                getMainBusNumOutputChannels()、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                                getSampleRate(), getBlockSize())；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (activeSlots.isEmpty()) // [7].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                connectAudioNodes()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                for (int i = 0; i &lt; activeSlots.size() - 1; ++i) // [8].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    for (int channel = 0; channel &lt; 2; ++channel)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        mainProcessor-&gt;addConnection ({ { activeSlots.getUnchecked (i)-&gt;nodeID, channel }、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                        { activeSlots.getUnchecked (i + 1)-&gt;nodeID, channel }.});</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                for (int channel = 0; channel &lt; 2; ++channel) // [9].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    mainProcessor-&gt;addConnection ({ { audioInputNode-&gt;nodeID, channel }、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                    { activeSlots.getFirst()-&gt;nodeID, channel }.});</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    mainProcessor-&gt;addConnection ({ { activeSlots.getLast()-&gt;nodeID, channel }、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                    { audioOutputNode-&gt;nodeID, channel }.});</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            connectMidiNodes()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            for (auto node : mainProcessor-&gt;getNodes()) // [10].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                node-&gt;getProcessor()-&gt;enableAllBuses()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span></code></pre></div></div>
<ul>
<li>[5]: First we remove all the connections in the graph to start from a blank state.</li>
<li>[6]: Then, we iterate over the slots and check whether they have an <a href="https://docs.juce.com/master/classAudioProcessor" target="_blank" rel="noopener noreferrer" title="Base class for audio processing classes or plugins.">オーディオプロセッサ</a> node within the graph. If so we add the node to our temporary array of active nodes and make sure to call the setPlayConfigDetails() function on the corresponding processor instance with channel, sample rate and block size information to prepare the node for future processing.</li>
<li>[7]: Next, if there are no active slots found this means that all the choices are in an &quot;Empty&quot; state and the audio I/O processor nodes can be simply connected together.</li>
<li>[8]: Otherwise, it means that there is at least one node that should lie between the audio I/O processor nodes. Therefore we can start connecting the active slots together in an ascending order of slot number. Notice here that the number of pairs of connections we need is only the number of active slots minus one.</li>
<li>[9]: We can then finish connecting the graph by linking the audio input processor node to the first active slot in the chain and the last active slot to the audio output processor node.</li>
<li>[10]: Finally, we connect the midi I/O nodes together and make sure that all the buses in the audio processors are enabled.</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">for (int i = 0; i &lt; 3; ++i)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            auto slot = slots .getUnchecked (i)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            auto&amp; bypass = bypasses.getReference (i)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (slot != nullptr)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                slot-&gt;setBypassed (bypass-&gt;get())；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        audioInputNode-&gt;setBypassed (muteInput-&gt;get())；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        slot1Node = slots.getUnchecked (0)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        slot2Node = slots.getUnchecked (1)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        slot3Node = slots.getUnchecked (2)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre></div></div>
<p>In the last section of the <code>updateGraph()</code> helper function, we deal with the bypass state of the processors by checking whether the slot is active and bypass the <a href="https://docs.juce.com/master/classAudioProcessor" target="_blank" rel="noopener noreferrer" title="Base class for audio processing classes or plugins.">オーディオプロセッサ</a> if the check box is toggled. We also check whether to mute the input to avoid feedback loops when testing. Then, we assign back the newly-created nodes to their corresponding slots for the next iteration.</p>
<p>プラグインは、グラフ内にロードされたプロセッサーを通して入力されたオーディオを処理し、実行されるはずです。</p>
<p>Create an additional processor node of your choice and add it to the <a href="https://docs.juce.com/master/classAudioProcessorGraph" target="_blank" rel="noopener noreferrer" title="A type of AudioProcessor which plays back a graph of other AudioProcessors.">オーディオ・プロセッサ・グラフ</a>. (For example a processor handling midi messages.)</p>
<h1>Convert the plugin into an application</h1>
<p>If you are interested in using the <a href="https://docs.juce.com/master/classAudioProcessorGraph" target="_blank" rel="noopener noreferrer" title="A type of AudioProcessor which plays back a graph of other AudioProcessors.">オーディオ・プロセッサ・グラフ</a> within a standalone app, this optional section will delve into this in detail.</p>
<p>First of all, we have to convert our main <code>チュートリアルプロセッサー</code> class into a subclass of <a href="https://docs.juce.com/master/classComponent" target="_blank" rel="noopener noreferrer" title="The base class for all JUCE user-interface objects.">コンポーネント</a> instead of <a href="https://docs.juce.com/master/classAudioProcessor" target="_blank" rel="noopener noreferrer" title="Base class for audio processing classes or plugins.">オーディオプロセッサ</a>. To match the naming convention of other JUCE GUI applications we also rename the class name to <code>メインコンポーネント</code> as follows:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class MainComponent : public juce::Component、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                       private juce::Timer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public：</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注記</div><div class="admonitionContent_BuS1"><p>If using a pip file to follow this tutorial, make sure to change the &quot;mainClass&quot; and &quot;type&quot; fields to reflect the change and amend the &quot;dependencies&quot; field appropriately. If using the ZIP version of the project, make sure that the <code>メイン.cpp</code> file follows the &quot;GUI Application&quot; template format.</p></div></div>
<p>When creating a plugin, all the IO device management and playback functionalities are controlled by the host and therefore we don&#x27;t need to worry about setting these up. However, in a standalone application we have to manage this ourselves. This is why we declare an <a href="https://docs.juce.com/master/classAudioDeviceManager" target="_blank" rel="noopener noreferrer" title="Manages the state of some audio and midi i/o devices.">オーディオデバイスマネージャー</a> and an <a href="https://docs.juce.com/master/classAudioProcessorPlayer" target="_blank" rel="noopener noreferrer" title="An AudioIODeviceCallback object which streams audio through an AudioProcessor.">オーディオ・プロセッサー・プレーヤー</a> as private member variables in the <code>メインコンポーネント</code> class to allow communication between our <a href="https://docs.juce.com/master/classAudioProcessorGraph" target="_blank" rel="noopener noreferrer" title="A type of AudioProcessor which plays back a graph of other AudioProcessors.">オーディオ・プロセッサ・グラフ</a> and the audio IO devices available on the system.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">juce::AudioDeviceManager deviceManager；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    juce::AudioProcessorPlayer player；</span><br></span></code></pre></div></div>
<p>The <a href="https://docs.juce.com/master/classAudioDeviceManager" target="_blank" rel="noopener noreferrer" title="Manages the state of some audio and midi i/o devices.">オーディオデバイスマネージャー</a> is a convenient class that manages audio and midi devices on all platforms and the <a href="https://docs.juce.com/master/classAudioProcessorPlayer" target="_blank" rel="noopener noreferrer" title="An AudioIODeviceCallback object which streams audio through an AudioProcessor.">オーディオ・プロセッサー・プレーヤー</a> allows for easy playback through an <a href="https://docs.juce.com/master/classAudioProcessorGraph" target="_blank" rel="noopener noreferrer" title="A type of AudioProcessor which plays back a graph of other AudioProcessors.">オーディオ・プロセッサ・グラフ</a>.</p>
<p>In the constructor, instead of initialising plugin parameters we create regular GUI components and initialise the <a href="https://docs.juce.com/master/classAudioDeviceManager" target="_blank" rel="noopener noreferrer" title="Manages the state of some audio and midi i/o devices.">オーディオデバイスマネージャー</a> and the <a href="https://docs.juce.com/master/classAudioProcessorPlayer" target="_blank" rel="noopener noreferrer" title="An AudioIODeviceCallback object which streams audio through an AudioProcessor.">オーディオ・プロセッサー・プレーヤー</a> like so:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">メインコンポーネント</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        : mainProcessor (new juce::AudioProcessorGraph())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span></code></pre></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">auto inputDevice = juce::MidiInput::getDefaultDevice()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto outputDevice = juce::MidiOutput::getDefaultDevice()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        mainProcessor-&gt;enableAllBuses()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        deviceManager.initialiseWithDefaultDevices (2, 2); // [1].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        deviceManager.addAudioCallback (&amp;player); // [2].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        deviceManager.setMidiInputDeviceEnabled (inputDevice.identifier, true)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        deviceManager.addMidiInputDeviceCallback (inputDevice.identifier, &amp;player); // [3].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        deviceManager.setDefaultMidiOutputDevice (outputDevice.identifier)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        initialiseGraph()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        player.setProcessor (mainProcessor.get()); // [4] プレイヤー・プロセッサを設定します。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        setSize (600, 400)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        startTimer (100)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre></div></div>
<p>Here we first initialise the device manager with the default audio device and two inputs and outputs each [1]. We then add the <a href="https://docs.juce.com/master/classAudioProcessorPlayer" target="_blank" rel="noopener noreferrer" title="An AudioIODeviceCallback object which streams audio through an AudioProcessor.">オーディオ・プロセッサー・プレーヤー</a> as an audio callback to the device manager [2]and as a midi callback by using the default midi device [3]. After graph initialisation, we can set the <a href="https://docs.juce.com/master/classAudioProcessorGraph" target="_blank" rel="noopener noreferrer" title="A type of AudioProcessor which plays back a graph of other AudioProcessors.">オーディオ・プロセッサ・グラフ</a> as the processor to play by calling the setProcessor() function on the <a href="https://docs.juce.com/master/classAudioProcessorPlayer" target="_blank" rel="noopener noreferrer" title="An AudioIODeviceCallback object which streams audio through an AudioProcessor.">オーディオ・プロセッサー・プレーヤー</a> [4].</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">~メインコンポーネント() オーバーライド</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto device = juce::MidiInput::getDefaultDevice()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        deviceManager.removeAudioCallback (&amp;player)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        deviceManager.setMidiInputDeviceEnabled (device.identifier, false)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        deviceManager.removeMidiInputDeviceCallback (device.identifier, &amp;player)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre></div></div>
<p>Then in the destructor, we make sure to remove the <a href="https://docs.juce.com/master/classAudioProcessorPlayer" target="_blank" rel="noopener noreferrer" title="An AudioIODeviceCallback object which streams audio through an AudioProcessor.">オーディオ・プロセッサー・プレーヤー</a> as an audio and midi callback on application shutdown.</p>
<p>Notice that unlike the plugin implementation, the <a href="https://docs.juce.com/master/classAudioProcessorPlayer" target="_blank" rel="noopener noreferrer" title="An AudioIODeviceCallback object which streams audio through an AudioProcessor.">オーディオ・プロセッサー・プレーヤー</a> deals with processing the audio automatically and therefore it will take care of calling the prepareToPlay() and processBlock() functions on the <a href="https://docs.juce.com/master/classAudioProcessorGraph" target="_blank" rel="noopener noreferrer" title="A type of AudioProcessor which plays back a graph of other AudioProcessors.">オーディオ・プロセッサ・グラフ</a> for us.</p>
<p>However we still need to find a way to update the graph when the user changes parameters and we do so by deriving the <code>メインコンポーネント</code> from the <a href="https://docs.juce.com/master/classTimer" target="_blank" rel="noopener noreferrer" title="Makes repeated callbacks to a virtual method at a specified time interval.">タイマー</a> class and overriding the timerCallback() function like so:</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注記</div><div class="admonitionContent_BuS1"><p>タイマーのコールバックを使用することは、最も効率的な解決策ではなく、一般的には、適切なコンポーネントのリスナーとして登録することがベストプラクティスである。</p></div></div>
<p>Finally, we modify the <code>updateGraph()</code> function to set the playback configuration details from the <a href="https://docs.juce.com/master/classAudioProcessorGraph" target="_blank" rel="noopener noreferrer" title="A type of AudioProcessor which plays back a graph of other AudioProcessors.">オーディオ・プロセッサ・グラフ</a> instead of the main <a href="https://docs.juce.com/master/classAudioProcessor" target="_blank" rel="noopener noreferrer" title="Base class for audio processing classes or plugins.">オーディオプロセッサ</a> since the latter was replaced by the <a href="https://docs.juce.com/master/classAudioProcessorPlayer" target="_blank" rel="noopener noreferrer" title="An AudioIODeviceCallback object which streams audio through an AudioProcessor.">オーディオ・プロセッサー・プレーヤー</a> in our standalone app scenario:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">for (auto slot : slots)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (slot != nullptr)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    activeSlots.add (slot)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    slot-&gt;getProcessor()-&gt;setPlayConfigDetails (mainProcessor-&gt;getMainBusNumInputChannels()、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                                mainProcessor-&gt;getMainBusNumOutputChannels()、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                                mainProcessor-&gt;getSampleRate()、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                                mainProcessor-&gt;getBlockSize())；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span></code></pre></div></div>
<p>これらの変更後、プラグインはアプリケーションとして実行されるはずです。</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>警告</div><div class="admonitionContent_BuS1"><p>繰り返しになるが、内蔵入出力でアプリをテストする場合、悲鳴のようなフィードバックに注意すること。ヘッドフォンを使えばこの問題を回避できる。</p><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注記</div><div class="admonitionContent_BuS1"><p>The source code for this modified version of the plug-in can be found in the <code>AudioProcessorGraphTutorial_02.h</code> file of the demo project.</p></div></div></div></div>
<h1>概要</h1>
<p>In this tutorial, we have learnt how to manipulate an <a href="https://docs.juce.com/master/classAudioProcessorGraph" target="_blank" rel="noopener noreferrer" title="A type of AudioProcessor which plays back a graph of other AudioProcessors.">オーディオ・プロセッサ・グラフ</a> to cascade the effects of plugins. In particular, we have:</p>
<ul>
<li>一連のオーディオプロセッサーでチャンネルストリップを構築。</li>
<li>Learnt how to connect nodes in an <a href="https://docs.juce.com/master/classAudioProcessorGraph" target="_blank" rel="noopener noreferrer" title="A type of AudioProcessor which plays back a graph of other AudioProcessors.">オーディオ・プロセッサ・グラフ</a>.</li>
<li>Created a standalone app from the graph using an <a href="https://docs.juce.com/master/classAudioProcessorPlayer" target="_blank" rel="noopener noreferrer" title="An AudioIODeviceCallback object which streams audio through an AudioProcessor.">オーディオ・プロセッサー・プレーヤー</a>.</li>
</ul>
<h1>関連項目</h1>
<ul>
<li><a href="/juce-tutorial-ja/plugins/tutorial_audio_parameter/">チュートリアルプラグインパラメータの追加</a></li>
<li><a href="/juce-tutorial-ja/plugins/tutorial_audio_processor_value_tree_state/">チュートリアルプラグイン状態の保存と読み込み</a></li>
<li><a href="/juce-tutorial-ja/plugins/tutorial_audio_bus_layouts/">チュートリアルプラグインに適切なバスレイアウトを設定する</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>タグ:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/juce-tutorial-ja/tags/中級/">中級</a></li></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/m1m0zzz/juce-tutorial-ja/tree/main/docs/plugins/tutorial_audio_processor_graph.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>このページを編集</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="ドキュメントページ"><a class="pagination-nav__link pagination-nav__link--prev" href="/juce-tutorial-ja/plugins/tutorial_audio_bus_layouts/"><div class="pagination-nav__sublabel">前へ</div><div class="pagination-nav__label">プラグインに適切なバスレイアウトを設定する</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/juce-tutorial-ja/plugins/tutorial_plugin_examples/"><div class="pagination-nav__sublabel">次へ</div><div class="pagination-nav__label">プラグインの例</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#はじめる" class="table-of-contents__link toc-highlight">はじめる</a></li><li><a href="#implementing-an-oscillator" class="table-of-contents__link toc-highlight">Implementing an oscillator</a></li><li><a href="#implementing-a-gain-control" class="table-of-contents__link toc-highlight">Implementing a gain control</a></li><li><a href="#implementing-a-filter" class="table-of-contents__link toc-highlight">Implementing a filter</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Tutorial</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/juce-tutorial-ja/category/getting-started/">Getting Started</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">JUCE</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://juce.com/learn/tutorials/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Tutorials<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://juce.com/learn/documentation/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Documentation<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://forum.juce.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/m1m0zzz/juce-tutorial-ja" target="_blank" rel="noopener noreferrer" class="footer__link-item">repo<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/juce-framework/JUCE" target="_blank" rel="noopener noreferrer" class="footer__link-item">JUCE GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2025 Raw Material Software Limited. translation: mimoz</div></div></div></footer></div>
</body>
</html>