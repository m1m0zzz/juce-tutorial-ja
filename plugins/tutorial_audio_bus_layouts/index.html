<!doctype html>
<html lang="ja" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-plugins/tutorial_audio_bus_layouts" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">プラグインに適切なバスレイアウトを設定する | JUCE日本語版チュートリアル</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://m1m0zzz.github.io/juce-tutorial-ja/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://m1m0zzz.github.io/juce-tutorial-ja/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://m1m0zzz.github.io/juce-tutorial-ja/plugins/tutorial_audio_bus_layouts/"><meta data-rh="true" property="og:locale" content="ja"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="プラグインに適切なバスレイアウトを設定する | JUCE日本語版チュートリアル"><meta data-rh="true" name="description" content="プラグインのバスレイアウトを設定し、制限する方法をご紹介します。AppleのLogic Proに搭載されているauvalツールを使って、AUプラグインのバスレイアウトを確認しましょう。"><meta data-rh="true" property="og:description" content="プラグインのバスレイアウトを設定し、制限する方法をご紹介します。AppleのLogic Proに搭載されているauvalツールを使って、AUプラグインのバスレイアウトを確認しましょう。"><link data-rh="true" rel="icon" href="/juce-tutorial-ja/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://m1m0zzz.github.io/juce-tutorial-ja/plugins/tutorial_audio_bus_layouts/"><link data-rh="true" rel="alternate" href="https://m1m0zzz.github.io/juce-tutorial-ja/plugins/tutorial_audio_bus_layouts/" hreflang="ja"><link data-rh="true" rel="alternate" href="https://m1m0zzz.github.io/juce-tutorial-ja/plugins/tutorial_audio_bus_layouts/" hreflang="x-default"><link rel="stylesheet" href="/juce-tutorial-ja/assets/css/styles.ee4ac6b4.css">
<script src="/juce-tutorial-ja/assets/js/runtime~main.5add7671.js" defer="defer"></script>
<script src="/juce-tutorial-ja/assets/js/main.cf826c6e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="メインコンテンツまでスキップ"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">メインコンテンツまでスキップ</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/juce-tutorial-ja/"><div class="navbar__logo"><img src="/juce-tutorial-ja/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/juce-tutorial-ja/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">JUCE日本語版チュートリアル</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/juce-tutorial-ja/">Tutorial</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/m1m0zzz/juce-tutorial-ja" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="ダークモードを切り替える(現在はライトモード)" aria-label="ダークモードを切り替える(現在はライトモード)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="先頭へ戻る" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/juce-tutorial-ja/">About / このサイトについて</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/getting-started/">Getting Started</a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/audio/">Audio</a><button aria-label="Expand sidebar category &#x27;Audio&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/synth/">Synth</a><button aria-label="Expand sidebar category &#x27;Synth&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/midi/">MIDI</a><button aria-label="Expand sidebar category &#x27;MIDI&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/juce-tutorial-ja/category/plugins/">Plugins</a><button aria-label="Collapse sidebar category &#x27;Plugins&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/juce-tutorial-ja/plugins/tutorial_audio_parameter/">プラグインパラメータの追加</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/juce-tutorial-ja/plugins/tutorial_audio_processor_value_tree_state/">プラグイン状態の保存と読み込み</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/juce-tutorial-ja/plugins/tutorial_audio_bus_layouts/">プラグインに適切なバスレイアウトを設定する</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/juce-tutorial-ja/plugins/tutorial_audio_processor_graph/">カスケード・プラグイン・エフェクト</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/juce-tutorial-ja/plugins/tutorial_plugin_examples/">プラグインの例</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/juce-tutorial-ja/plugins/tutorial_new_projucer_project/">ウェーブテーブル・シンセシス</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/dsp/">DSP</a><button aria-label="Expand sidebar category &#x27;DSP&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/graphics/">Graphics</a><button aria-label="Expand sidebar category &#x27;Graphics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/interface-design/">Interface Design</a><button aria-label="Expand sidebar category &#x27;Interface Design&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/mobile/">Mobile</a><button aria-label="Expand sidebar category &#x27;Mobile&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/utility-classes/">Utility Classes</a><button aria-label="Expand sidebar category &#x27;Utility Classes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="パンくずリストのナビゲーション"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ホームページ" class="breadcrumbs__link" href="/juce-tutorial-ja/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/juce-tutorial-ja/category/plugins/"><span itemprop="name">Plugins</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">プラグインに適切なバスレイアウトを設定する</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">このページの見出し</button></div><div class="theme-doc-markdown markdown"><h1>チュートリアルプラグインに適切なバスレイアウトを設定する</h1>
<p>プラグインのバスレイアウトを設定し、制限する方法をご紹介します。AppleのLogic Proに搭載されているauvalツールを使って、AUプラグインのバスレイアウトを確認しましょう。</p>
<p>レベル Beginner</p>
<p>プラットフォーム Windows, macOS, Linux</p>
<p>プラグイン形式： VST, VST3, AU, Standalone</p>
<p>クラス： <a href="https://docs.juce.com/master/structAudioProcessor_1_1BusesLayout" target="_blank" rel="noopener noreferrer" title="Represents the bus layout state of a plug-in.">オーディオプロセッサ::バスレイアウト</a>, <a href="https://docs.juce.com/master/structAudioProcessor_1_1BusesProperties" target="_blank" rel="noopener noreferrer" title="Structure used for AudioProcessor Callbacks.">AudioProcessor::BusesProperties</a>, <a href="https://docs.juce.com/master/classAudioChannelSet" target="_blank" rel="noopener noreferrer" title="Represents a set of audio channel types.">オーディオチャンネルセット</a>, <a href="https://docs.juce.com/master/classAudioProcessor" target="_blank" rel="noopener noreferrer" title="Base class for audio processing classes or plugins.">オーディオプロセッサ</a></p>
<h1>Getting started</h1>
<p>To follow this tutorial, please make sure that you have a plugin project opened or alternatively create a new <strong>オーディオ・プラグイン</strong> project within the Projucer.</p>
<p>If you need help with this step, see <a href="/juce-tutorial-ja/plugins/tutorial_create_projucer_basic_plugin/">チュートリアル基本的なAudio/MIDIプラグインを作る, パート1：セットアップ</a>.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>警告</div><div class="admonitionContent_BuS1"><p>AudioUnitプラグインをビルドし、auvalツールを使ってテストするには、macOS上でビルドし、Logic Pro Xがインストールされている必要があります。</p></div></div>
<h1>Introduction</h1>
<p>The <a href="https://docs.juce.com/master/classAudioProcessor" target="_blank" rel="noopener noreferrer" title="Base class for audio processing classes or plugins.">オーディオプロセッサ</a> class in JUCE takes a number of input channels, processes the incoming data and then supplies the result to a number of output channels as represented in the following figure:</p>
<figure><img src="https://docs.juce.com/master/tutorial_audio_bus_layouts_screenshot1.png" alt="Plugin with I/O channels"><figcaption><b>Plugin with I/O channels</b></figcaption></figure>
<p>多くのオーディオプロセッサでは、これで十分です。しかし、ホストとプロセッサーの間のコミュニケーションを容易にするために、これらの個々のチャンネルをグループとして表現したいことがよくあります。例えば、下図のように、最初の4つの入力チャンネルをメインチャンネルとして使い、最後の2つの入力チャンネルをサイドチェインとして使うことができます：</p>
<figure><img src="https://docs.juce.com/master/tutorial_audio_bus_layouts_screenshot2.png" alt="Plugin with I/O buses"><figcaption><b>Plugin with I/O buses</b></figcaption></figure>
<p>A yellow arrow in the figure above is called a <em>バス</em>. A bus is therefore a group of channels which typically share the same signal path inside your plugin, for example the main audio signal path or the sidechain signal path. In JUCE each bus has a name so that you can identify its specific purpose in the plugin.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注記</div><div class="admonitionContent_BuS1"><p>In almost every DAW, the first input bus or first output bus is referred to as the <em>メイン</em> bus. In JUCE you will sometimes find comments or method names referring to the main bus which is simply the first input or output bus.</p></div></div>
<p>However, grouping your audio processor&#x27;s input and output channels and naming these groups is not sufficient. You also need to convey information about spatial positioning for each channel inside each bus. For example, you could configure your bus as a stereo bus (Left, Right), a quadraphonic bus (Left, Right, Left Surround, Right Surround) or a mono bus (Centre) etc. In JUCE, each bus is assigned an <a href="https://docs.juce.com/master/classAudioChannelSet" target="_blank" rel="noopener noreferrer" title="Represents a set of audio channel types.">オーディオチャンネルセット</a> that describes spatial positions for these sets of channels (for example: <a title="Creates a one-channel mono set (centre)." href="/juce-tutorial-ja/plugins/tutorial_audio_bus_layouts/classAudioChannelSet.html/#a17a0a8ab8f24eebf463baf8d99a39617">AudioChannelSet::mono()</a>, <a title="Creates a set containing a stereo set (left, right)." href="/juce-tutorial-ja/plugins/tutorial_audio_bus_layouts/classAudioChannelSet.html/#a2f5463f3941cf8ca3ecf1eadf1537c19">AudioChannelSet::stereo()</a>, <a title="Creates a set for quadraphonic surround setup (left, right, leftSurround, rightSurround)" href="/juce-tutorial-ja/plugins/tutorial_audio_bus_layouts/classAudioChannelSet.html/#ab216c3d458cbd3965e321a29d12d591d">AudioChannelSet::quadraphonic()</a>).</p>
<p>It&#x27;s important to note that the <a href="https://docs.juce.com/master/classAudioChannelSet" target="_blank" rel="noopener noreferrer" title="Represents a set of audio channel types.">オーディオチャンネルセット</a> of each bus is not fixed throughout the lifetime of a plugin. A DAW may request a different <a href="https://docs.juce.com/master/classAudioChannelSet" target="_blank" rel="noopener noreferrer" title="Represents a set of audio channel types.">オーディオチャンネルセット</a> for a particular bus at any time, for example when the DAW user switches the sidechain source from mono to stereo. To implement this, JUCE supports a callback to interrogate the plugin on which <a href="https://docs.juce.com/master/classAudioChannelSet" target="_blank" rel="noopener noreferrer" title="Represents a set of audio channel types.">オーディオチャンネルセット</a> objects each bus supports.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注記</div><div class="admonitionContent_BuS1"><p>There is one special <a href="https://docs.juce.com/master/classAudioChannelSet" target="_blank" rel="noopener noreferrer" title="Represents a set of audio channel types.">オーディオチャンネルセット</a> called <a title="Creates a zero-channel set which can be used to indicate that a bus is disabled." href="/juce-tutorial-ja/plugins/tutorial_audio_bus_layouts/classAudioChannelSet.html/#a18675dc100238ac22868c41717ef2ffe">AudioChannelSet::disabled()</a> which does not contain any channel. This <a href="https://docs.juce.com/master/classAudioChannelSet" target="_blank" rel="noopener noreferrer" title="Represents a set of audio channel types.">オーディオチャンネルセット</a> is used to indicate that a particular bus is not used at the moment, for instance when a sidechain is not connected in a DAW.</p></div></div>
<p>要約すると、プラグインの各チャンネルに関する情報をいつでも通信するには、DAWとプラグインが必要です：</p>
<ul>
<li>チャンネルをバスにグループ化する情報を交換する。</li>
<li>Exchange information on the name and current <a href="https://docs.juce.com/master/classAudioChannelSet" target="_blank" rel="noopener noreferrer" title="Represents a set of audio channel types.">オーディオチャンネルセット</a> of each bus.</li>
<li>Negotiate which <a href="https://docs.juce.com/master/classAudioChannelSet" target="_blank" rel="noopener noreferrer" title="Represents a set of audio channel types.">オーディオチャンネルセット</a> objects are supported on each bus.</li>
</ul>
<p>プラグイン開発者として、この情報をホストに伝える方法を探ることから始めよう。</p>
<h1>Assigning BusesProperties</h1>
<p>We will first focus on the first two points (grouping and naming of channels into buses and selecting an <a href="https://docs.juce.com/master/classAudioChannelSet" target="_blank" rel="noopener noreferrer" title="Represents a set of audio channel types.">オーディオチャンネルセット</a> for each bus) when writing a plugin. This information is communicated to the DAW by passing an <a href="https://docs.juce.com/master/structAudioProcessor_1_1BusesProperties" target="_blank" rel="noopener noreferrer" title="Structure used for AudioProcessor Callbacks.">AudioProcessor::BusesProperties</a> instance to the constructor of the <a href="https://docs.juce.com/master/classAudioProcessor" target="_blank" rel="noopener noreferrer" title="Base class for audio processing classes or plugins.">オーディオプロセッサ</a> as follows:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ExampleAudioProcessor()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    : AudioProcessor (BusesProperties().withInput (&quot;Input&quot;, juce::AudioChannelSet::stereo(), true)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                       .withOutput (&quot;Output&quot;, juce::AudioChannelSet::stereo(), true))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AudioChannelSetRepresents a set of audio channel types.Definition juce_AudioChannelSet.h:50</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AudioProcessor オーディオ処理クラスまたはプラグイン用の基底クラスです。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">定義 juce_AudioWorkgroup_mac.h:24</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The code above informs the DAW that this plugin has two buses: one input bus named &quot;Input&quot; and one output bus named &quot;Output&quot;. The second parameter in the <code>withInput()</code> and <code>withOutput()</code> functions describes the initial <a href="https://docs.juce.com/master/classAudioChannelSet" target="_blank" rel="noopener noreferrer" title="Represents a set of audio channel types.">オーディオチャンネルセット</a> of the respective bus. It&#x27;s important to remember that the DAW can change this at any time. The third parameter indicates whether the bus is initially enabled or disabled. Since these two buses are main buses, it would not make much sense to disable them.</p>
<p>先ほどの例は通常、エフェクト・プラグインで使われる。しかし、シンセ・プラグインには通常、出力バスしかないので、コンストラクタは次のようになる：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ExampleAudioProcessor()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    : AudioProcessor (BusesProperties().withOutput (&quot;Output&quot;, juce::AudioChannelSet::stereo(), true))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>JUCEでサポートされているもう1つのプラグイン・タイプは、MIDIエフェクト・プラグインです。これらはMIDIを処理するだけなので、オーディオ・バスは一切持っていません：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">例AudioProcessor()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    : AudioProcessor (BusesProperties())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注記</div><div class="admonitionContent_BuS1"><p>The above constructor code should not be confused with invoking the default <a href="https://docs.juce.com/master/classAudioProcessor" target="_blank" rel="noopener noreferrer" title="Base class for audio processing classes or plugins.">オーディオプロセッサ</a> constructor. For backward compatibility, the default constructor will create a plugin with one initially disabled input bus named &quot;Input&quot; and one initially disabled output bus named &quot;Output&quot; — each as an <a title="Creates a set containing a stereo set (left, right)." href="/juce-tutorial-ja/plugins/tutorial_audio_bus_layouts/classAudioChannelSet.html/#a2f5463f3941cf8ca3ecf1eadf1537c19">AudioChannelSet::stereo()</a>.</p></div></div>
<h1>Configuring the BusesLayout</h1>
<p>The only step required now is to configure the <a href="https://docs.juce.com/master/classAudioChannelSet" target="_blank" rel="noopener noreferrer" title="Represents a set of audio channel types.">オーディオチャンネルセット</a> objects that a particular bus supports as the DAW may wish to change the initial <a href="https://docs.juce.com/master/classAudioChannelSet" target="_blank" rel="noopener noreferrer" title="Represents a set of audio channel types.">オーディオチャンネルセット</a> provided in the constructor at any time. It&#x27;s important to note that there is no way for a plugin to actively change its own layout: the plugin is passive and will always be &quot;at the mercy&quot; of the host. It can only reject or accept requested <a href="https://docs.juce.com/master/classAudioChannelSet" target="_blank" rel="noopener noreferrer" title="Represents a set of audio channel types.">オーディオチャンネルセット</a> configurations.</p>
<p>To do this, the plugin needs to override the <a title="Callback to query if the AudioProcessor supports a specific layout." href="/juce-tutorial-ja/plugins/tutorial_audio_bus_layouts/classAudioProcessor.html/#a6e206c1d2987a250a2d6c2af4c3af01a">AudioProcessor::isBusesLayoutSupported()</a> callback. This callback takes a single BusesLayout parameter which is simply an array of <a href="https://docs.juce.com/master/classAudioChannelSet" target="_blank" rel="noopener noreferrer" title="Represents a set of audio channel types.">オーディオチャンネルセット</a> objects for each bus of the plugin.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注記</div><div class="admonitionContent_BuS1"><p>The number of elements in the arrays of supported input and output buses will always match the number of buses you specified in your <a href="https://docs.juce.com/master/classAudioProcessor" target="_blank" rel="noopener noreferrer" title="Base class for audio processing classes or plugins.">オーディオプロセッサ</a> constructor.</p></div></div>
<p>In your <a title="Callback to query if the AudioProcessor supports a specific layout." href="/juce-tutorial-ja/plugins/tutorial_audio_bus_layouts/classAudioProcessor.html/#a6e206c1d2987a250a2d6c2af4c3af01a">AudioProcessor::isBusesLayoutSupported()</a> callback, you need to return whether the given BusesLayout is supported or not. For example, the default callback is to accept any BusesLayout that the DAW requests as shown here:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">bool isBusesLayoutSupported (const BusesLayout&amp; layouts) const</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    trueを返します；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Most effects plugins will only have a single main input and output bus. Typically, they require the <a href="https://docs.juce.com/master/classAudioChannelSet" target="_blank" rel="noopener noreferrer" title="Represents a set of audio channel types.">オーディオチャンネルセット</a> to be the same on the input and output side like so:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">bool isBusesLayoutSupported (const BusesLayout&amp; layouts) const</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return layouts.getMainInputChannelSet() == layouts.getMainOutputChannelSet()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Remember that there is a special <a href="https://docs.juce.com/master/classAudioChannelSet" target="_blank" rel="noopener noreferrer" title="Represents a set of audio channel types.">オーディオチャンネルセット</a> called <a title="Creates a zero-channel set which can be used to indicate that a bus is disabled." href="/juce-tutorial-ja/plugins/tutorial_audio_bus_layouts/classAudioChannelSet.html/#a18675dc100238ac22868c41717ef2ffe">AudioChannelSet::disabled()</a> which indicates that a specific bus is disabled. Most effects plugins will not want their main buses to be disabled, so we can include a check for that in our callback as follows:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">bool isBusesLayoutSupported (const BusesLayout&amp; layouts) const</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (layouts.getMainInputChannelSet() == juce::AudioChannelSet::disabled())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     || layouts.getMainOutputChannelSet() == juce::AudioChannelSet::disabled()) { if (layouts.getMainInputChannelSet() == juce::AudioChannelSet::disabled())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        false を返します；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return layouts.getMainInputChannelSet() == layouts.getMainOutputChannelSet()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>プラグインがモノからモノ、またはステレオからステレオのコンフィギュレーションにしか対応できないとしましょう。上のコードの最後の行は、入力と出力のレイアウトが同じでなければならないことをすでにチェックしています。したがって  、入力バスか出力バスのどちらか一方に対して、次のようなチェックを行うだけでよいのです：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">bool isBusesLayoutSupported (const BusesLayout&amp; layouts) const</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (layouts.getMainInputChannelSet() == juce::AudioChannelSet::disabled())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     || layouts.getMainOutputChannelSet() == juce::AudioChannelSet::disabled()) { if (layouts.getMainInputChannelSet() == juce::AudioChannelSet::disabled())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        false を返します；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (layouts.getMainOutputChannelSet() != juce::AudioChannelSet::mono())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     &amp;&amp; layouts.getMainOutputChannelSet() != juce::AudioChannelSet::stereo())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        false を返します；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return layouts.getMainInputChannelSet() == layouts.getMainOutputChannelSet()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>Testing the BusesLayout</h1>
<p>isBusesLayoutSupported()関数で定義されたレイアウトのエッジケースを見落とすことは非常に簡単であるため、プラグインでサポートするバスレイアウト構成は、さまざまなツールを使ってテストすることができます。</p>
<p>In this tutorial we present two solutions, the <strong>オーバル</strong> tool included in Apple&#x27;s Logic Pro to test and validate AudioUnits and the Audio Plugin Host included within JUCE that supports VST and AU plugins.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="testing-with-the-auval-tool">Testing With the auval Tool<a href="#testing-with-the-auval-tool" class="hash-link" aria-label="Testing With the auval Tool への直接リンク" title="Testing With the auval Tool への直接リンク">​</a></h2>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注記</div><div class="admonitionContent_BuS1"><p>このセクションでは、AudioUnitsのmacOSでのみ使用可能なツールについて説明します。</p></div></div>
<p>The <strong>オーバル</strong> tool validates AudioUnits before they can be loaded in Apple&#x27;s plugin hosts such as Logic Pro X and Final Cut Pro X. It performs a variety of useful tests on your plugins but for the sake of this tutorial, we focus on the bus layout tests.</p>
<p>The <strong>オーバル</strong> tool can be accessed within Logic Pro X by navigating to <strong>Logic Pro X &gt; Preferences &gt; Plug-in Manager...</strong> and invoking the validation by clicking on <strong>リセット＆再スキャン選択</strong> as shown here:</p>
<figure><img src="https://docs.juce.com/master/tutorial_audio_bus_layouts_screenshot3.png" alt="The Plug-in Manager in Logic Pro X"><figcaption><b>The Plug-in Manager in Logic Pro X</b></figcaption></figure>
<p>しかし、次のようにコマンドラインから呼び出すこともできる：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">auval -v aufx Test Manu</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>第1引数はAUメインタイプを表し、エフェクトプラグインを実装する場合のデフォルトは&#x27;aufx&#x27;です。第2引数と第3引数は、プロジェクトのProjucer設定で指定されたプラグインコードとメーカーコードです：</p>
<figure><img src="https://docs.juce.com/master/tutorial_audio_bus_layouts_screenshot4.png" alt="The Projucer plugin settings"><figcaption><b>The Projucer plugin settings</b></figcaption></figure>
<p>例として、AUバリデーションの出力は以下のようになる：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">au検証ツール</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    バージョン: 1.6.1a1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Copyright 2003-2013, Apple Inc. All Rights Reserved.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    コマンドオプションに -h (-help) を指定する</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">オーディオユニットの検証: &#x27;aufx&#x27; - &#x27;Test&#x27; - &#x27;Manu&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">メーカー文字列: Manu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">オーディオユニット名: TestPlugin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">コンポーネントバージョン: 1.0.0 (0x10000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  * PASS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">フォーマットテスト：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">報告されたチャネル能力（明示的）：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [1, 1] [2, 2]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">入出力チャネルの処理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1-1 1-2 1-4 1-5 1-6 1-7 1-8 2-2 2-4 2-5 2-6 2-7 2-8 4-4 4-5 5-5 6-6 7-7 8-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">X X</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># AudioChannelLayouts (5)、入力スコープ：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">オーディオチャンネルレイアウトは利用可能か：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">モノステレオ Binau.  AU_4 Ambi.   au_5 au_5_0 au_6 au_6_0 au_7_0 au_7_0f au_8 au_5_1 au_6_1 au_7_1 au_7_1f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">X X X</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># # AudioChannelLayouts (5)、出力スコープ：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">利用可能なオーディオチャンネルレイアウト：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">モノステレオ Binau.  AU_4 Ambi.   au_5 au_5_0 au_6 au_6_0 au_7_0 au_7_0f au_8 au_5_1 au_6_1 au_7_1 au_7_1f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">X X X</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  * パス</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">au の検証に成功しました。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--------------------------------------------------</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>上の出力でわかるように、このテスト・プラグインはモノからモノ、ステレオからステレオのコンフィギュレーションしか受け付けないことが確認できる。</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>警告</div><div class="admonitionContent_BuS1"><p>10.12.0から10.13.1までのmacOSバージョンを使用している場合、auvalにバグが含まれており、プラグインのバスレイアウトが正しく報告されない可能性があります。</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="testing-with-the-plugin-host">Testing With the Plugin Host<a href="#testing-with-the-plugin-host" class="hash-link" aria-label="Testing With the Plugin Host への直接リンク" title="Testing With the Plugin Host への直接リンク">​</a></h2>
<p>The other useful tool is the Audio Plugin Host included with JUCE that can be found in the <code>JUCE/例</code> folder of the library. This tool allows you to test VST and AU plugins by changing the bus layouts at runtime.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注記</div><div class="admonitionContent_BuS1"><p>If you need help with building and using the Audio Plugin Host, please refer to <a href="/juce-tutorial-ja/plugins/tutorial_create_projucer_basic_plugin/">チュートリアル基本的なAudio/MIDIプラグインを作る, パート1：セットアップ</a> for detailed instructions.</p></div></div>
<p>Open the Audio Plugin Host and load an instance of the plugin you want to test. If you right click on the plugin and select <strong>オーディオI/Oの設定</strong>, you should see the following window appearing:</p>
<figure><img src="https://docs.juce.com/master/tutorial_audio_bus_layouts_screenshot5.png" alt="Audio I/O settings of a plugin"><figcaption><b>Audio I/O settings of a plugin</b></figcaption></figure>
<p>ここでは、プラグインが許可している場合、インプットまたはアウトプットのバスを追加または削除し、選択したバスのチャンネルセットを変更し、バスを自由に有効/無効にすることができます。</p>
<p>Notice here that when you lead the plugin for the first time, you can see the input and output pins displaying the default BusesLayout configuration set in the <a href="https://docs.juce.com/master/classAudioProcessor" target="_blank" rel="noopener noreferrer" title="Base class for audio processing classes or plugins.">オーディオプロセッサ</a> constructor.</p>
<p>Experiment with different bus layouts and check the behaviour of your plugin in the <strong>オーバル</strong> tool and the Audio Plugin Host.</p>
<h1>Summary</h1>
<p>このチュートリアルを読めば、次のことができるようになるはずだ：</p>
<ul>
<li>異なるチャンネルセットで入力、出力、サイドチェーンバスを定義。</li>
<li>プラグインタイプに適したバスレイアウトを設定します。</li>
<li>auvalツールを使ってAudioUnitsのバス配置構成を確認します。</li>
<li>JUCEオーディオ・プラグイン・ホストで、異なるバス・プロパティを割り当てます。</li>
</ul>
<h1>See also</h1>
<ul>
<li><a href="/juce-tutorial-ja/plugins/tutorial_create_projucer_basic_plugin/">チュートリアル基本的なAudio/MIDIプラグインを作る, パート1：セットアップ</a></li>
<li><a href="/juce-tutorial-ja/plugins/tutorial_code_basic_plugin/">チュートリアル基本的なAudio/MIDIプラグインを作る, パート2: プラグインのコーディング</a></li>
<li><a href="/juce-tutorial-ja/plugins/tutorial_plugin_examples/">チュートリアルプラグインの例</a></li>
<li><a href="/juce-tutorial-ja/plugins/tutorial_audio_processor_graph/">チュートリアルカスケードプラグインエフェクト</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/m1m0zzz/juce-tutorial-ja/tree/main/docs/plugins/tutorial_audio_bus_layouts.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>このページを編集</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="ドキュメントページ"><a class="pagination-nav__link pagination-nav__link--prev" href="/juce-tutorial-ja/plugins/tutorial_audio_processor_value_tree_state/"><div class="pagination-nav__sublabel">前へ</div><div class="pagination-nav__label">プラグイン状態の保存と読み込み</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/juce-tutorial-ja/plugins/tutorial_audio_processor_graph/"><div class="pagination-nav__sublabel">次へ</div><div class="pagination-nav__label">カスケード・プラグイン・エフェクト</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#testing-with-the-auval-tool" class="table-of-contents__link toc-highlight">Testing With the auval Tool</a></li><li><a href="#testing-with-the-plugin-host" class="table-of-contents__link toc-highlight">Testing With the Plugin Host</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Tutorial</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/juce-tutorial-ja/category/getting-started/">Getting Started</a></li></ul></div><div class="col footer__col"><div class="footer__title">JUCE</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://juce.com/learn/tutorials/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Tutorials<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://juce.com/learn/documentation/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Documentation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://forum.juce.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/m1m0zzz/juce-tutorial-ja" target="_blank" rel="noopener noreferrer" class="footer__link-item">repo<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/juce-framework/JUCE" target="_blank" rel="noopener noreferrer" class="footer__link-item">JUCE GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2024 Raw Material Software Limited. translation: mimoz</div></div></div></footer></div>
</body>
</html>