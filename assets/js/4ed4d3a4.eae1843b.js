"use strict";(self.webpackChunkjuce_tutorial_ja=self.webpackChunkjuce_tutorial_ja||[]).push([[7730],{5713:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>c,toc:()=>h});var n=i(4848),s=i(8453),r=i(3449),o=i(6378);const a={title:"Package your app or plugin for distribution",sidebar_position:8},l="Tutorial: Package your app or plugin for distribution",c={id:"utility-classes/tutorial_app_plugin_packaging",title:"Package your app or plugin for distribution",description:"Learn how to prepare your audio application or plugin for distribution on various marketplaces. Create installers for all plugin types on different OS platforms.",source:"@site/docs/utility-classes/tutorial_app_plugin_packaging.mdx",sourceDirName:"utility-classes",slug:"/utility-classes/tutorial_app_plugin_packaging",permalink:"/juce-tutorial-ja/utility-classes/tutorial_app_plugin_packaging",draft:!1,unlisted:!1,editUrl:"https://github.com/m1m0zzz/juce-tutorial-ja/tree/main/docs/utility-classes/tutorial_app_plugin_packaging.mdx",tags:[],version:"current",sidebarPosition:8,frontMatter:{title:"Package your app or plugin for distribution",sidebar_position:8},sidebar:"tutorialSidebar",previous:{title:"Unlock your plugins through online registration",permalink:"/juce-tutorial-ja/utility-classes/tutorial_online_unlock_status"},next:{title:"Implement the OSC protocol in your app",permalink:"/juce-tutorial-ja/utility-classes/tutorial_osc_sender_receiver"}},d={},h=[{value:"Installation locations",id:"installation-locations",level:2},{value:"Creating a disk image",id:"creating-a-disk-image",level:2},{value:"Creating a drag and drop installer",id:"creating-a-drag-and-drop-installer",level:2},{value:"Runtime library linking",id:"runtime-library-linking",level:2}];function p(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.A,{path:"tutorial_app_plugin_packaging"}),"\n",(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"tutorial-package-your-app-or-plugin-for-distribution",children:"Tutorial: Package your app or plugin for distribution"})}),"\n",(0,n.jsx)(t.p,{children:"Learn how to prepare your audio application or plugin for distribution on various marketplaces. Create installers for all plugin types on different OS platforms."}),"\n",(0,n.jsx)(t.p,{children:"Level: Advanced"}),"\n",(0,n.jsx)(t.p,{children:"Platforms: Windows, macOS"}),"\n",(0,n.jsx)(t.p,{children:"Plugin Format: VST, VST3, AU, AUv3, RTAS, AAX"}),"\n",(0,n.jsx)(t.h1,{id:"introduction",children:"Introduction"}),"\n",(0,n.jsx)(t.p,{children:"So you just finished implementing the perfect plugin, bug-free on all wrappers with the best optimisation possible but don't know where to start when it comes to distributing your masterpiece?"}),"\n",(0,n.jsx)(t.p,{children:"Then this tutorial is made for you! Preparing your application for distribution can be quite daunting when it comes to installations on your users' systems across a multitude of platforms. Marketplaces have become increasingly strict on their review process and the slight oversight can cause a resubmission of your binaries."}),"\n",(0,n.jsx)(t.p,{children:"In this tutorial we will first look at installation locations for plugins, then jump into creating installers for Mac and Windows and finally end with marketplace submission best practices."}),"\n",(0,n.jsx)(t.admonition,{type:"note",children:(0,n.jsx)(t.p,{children:"To get the most out of this tutorial please have your built plugins and binaries ready for packaging."})}),"\n",(0,n.jsx)(t.h2,{id:"installation-locations",children:"Installation locations"}),"\n",(0,n.jsx)(t.p,{children:"Installing a plugin is nothing more than a simple copy step of the plugin into the right folder location on the user's machine."}),"\n",(0,n.jsx)(t.p,{children:"When distributing a plugin, it's important to understand the installation locations for different plugin wrappers out there. The following table lists the directories in which your installer must copy the files into, depending on the target OS:"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Plugin Type"}),(0,n.jsx)(t.th,{children:"Directory Type"}),(0,n.jsx)(t.th,{children:"Mac Installation Directory"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"VST"}),(0,n.jsx)(t.td,{children:"User"}),(0,n.jsx)(t.td,{children:"~/Library/Audio/Plug-Ins/VST"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"System"}),(0,n.jsx)(t.td,{children:"Macintosh HD/Library/Audio/Plug-Ins/VST"}),(0,n.jsx)(t.td,{})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"VST3"}),(0,n.jsx)(t.td,{children:"User"}),(0,n.jsx)(t.td,{children:"~/Library/Audio/Plug-Ins/VST3"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"System"}),(0,n.jsx)(t.td,{children:"Macintosh HD/Library/Audio/Plug-Ins/VST3"}),(0,n.jsx)(t.td,{})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"AU"}),(0,n.jsx)(t.td,{children:"User"}),(0,n.jsx)(t.td,{children:"~/Library/Audio/Plug-Ins/Components"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"System"}),(0,n.jsx)(t.td,{children:"Macintosh HD/Library/Audio/Plug-Ins/Components"}),(0,n.jsx)(t.td,{})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"RTAS"}),(0,n.jsx)(t.td,{children:"System"}),(0,n.jsx)(t.td,{children:"Macintosh HD/Library/Application Support/Digidesign/Plug-Ins"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"AAX"}),(0,n.jsx)(t.td,{children:"System"}),(0,n.jsx)(t.td,{children:"Macintosh HD/Library/Application Support/Avid/Audio/Plug-Ins"})]})]})]}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Plugin Type"}),(0,n.jsx)(t.th,{children:"Directory Type"}),(0,n.jsx)(t.th,{children:"Windows Installation Directory"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"VST"}),(0,n.jsx)(t.td,{children:"Shared"}),(0,n.jsx)(t.td,{children:"C:\\Program Files\\VstPlugins"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Shared"}),(0,n.jsx)(t.td,{children:"C:\\Program Files\\Steinberg\\VstPlugins"}),(0,n.jsx)(t.td,{})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Shared"}),(0,n.jsx)(t.td,{children:"C:\\Program Files\\Common Files\\VST2"}),(0,n.jsx)(t.td,{})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Shared"}),(0,n.jsx)(t.td,{children:"C:\\Program Files\\Common Files\\Steinberg\\VST2"}),(0,n.jsx)(t.td,{})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"VST3"}),(0,n.jsx)(t.td,{children:"Shared"}),(0,n.jsx)(t.td,{children:"C:\\Program Files\\Common Files\\VST3"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"RTAS"}),(0,n.jsx)(t.td,{children:"Shared"}),(0,n.jsx)(t.td,{children:"C:\\Program Files\\Common Files\\Digidesign\\DAE\\Plug-Ins"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"AAX"}),(0,n.jsx)(t.td,{children:"Shared"}),(0,n.jsx)(t.td,{children:"C:\\Program Files\\Common Files\\Avid\\Audio\\Plug-Ins"})]})]})]}),"\n",(0,n.jsx)(t.admonition,{type:"note",children:(0,n.jsx)(t.p,{children:'Add the " (x86)" suffix to the "Program Files" folder for 32-bit plugins on 64-bit systems.'})}),"\n",(0,n.jsx)(t.p,{children:'It is generally recommended to install the plugins in the system folder or the "Common Files" directory as this is where most plugin manufacturers will install theirs and will have the benefit of making your plugin available to all users on the system. It will however require administrator permissions to perform the installation.'}),"\n",(0,n.jsx)(t.admonition,{type:"note",children:(0,n.jsx)(t.p,{children:"For certain plugin formats such as AUv3 and AAX, extra steps such as code-signing and certificates are required for the installation process to succeed."})}),"\n",(0,n.jsx)(t.h1,{id:"installers-for-mac",children:"Installers for Mac"}),"\n",(0,n.jsx)(t.admonition,{type:"note",children:(0,n.jsxs)(t.p,{children:["If you are only interested in distributing for Windows, please skip to the next section ",(0,n.jsx)(t.a,{href:"#tutorial_app_plugin_packaging_installers_windows",children:"Installers for Windows"})," for more information."]})}),"\n",(0,n.jsxs)(t.p,{children:["Although manually creating an installer is possible, there are many tools out there that can perform this task easily for you. One such example is the free software ",(0,n.jsx)(t.a,{href:"https://docs.juce.com/master/http://s.sudre.free.fr/Software/Packages/about",children:"Packages"})," which we will use in this section to create the Mac installer."]}),"\n",(0,n.jsx)(t.p,{children:"Install the software from the website and launch the application. You should come across a window prompting you for the type of project to create:"}),"\n",(0,n.jsx)(r.A,{src:"https://docs.juce.com/master/tutorial_app_plugin_distribution_screenshot1.png",caption:"New project window"}),"\n",(0,n.jsxs)(t.p,{children:['Select "Distribution" and click the next ',(0,n.jsx)(t.strong,{children:"Next"})," button. You may now choose a name and a location to save the project as well as the required resources on the following screen:"]}),"\n",(0,n.jsx)(r.A,{src:"https://docs.juce.com/master/tutorial_app_plugin_distribution_screenshot2.png",caption:"Choosing a name and location for the project"}),"\n",(0,n.jsxs)(t.p,{children:["Click on ",(0,n.jsx)(t.strong,{children:"Create"})," to start assembling the installer. The main project window should open now."]}),"\n",(0,n.jsxs)(t.p,{children:["In the main window, start by adding packages by clicking on the ",(0,n.jsx)(t.strong,{children:"+"})," sign on the left panel for the number of plugin formats you want to install on the user's computer. For example to install VST/VST3/AU/RTAS/AAX, add five packages named accordingly with corresponding identifiers as shown in the following screenshot:"]}),"\n",(0,n.jsx)(r.A,{src:"https://docs.juce.com/master/tutorial_app_plugin_distribution_screenshot3.png",caption:"Adding packages"}),"\n",(0,n.jsx)(t.p,{children:'Next, select each package on the left panel and assign a unique identifier such as "com.yourcompany.pkg.format" and make sure that the "Require admin password for installation" checkbox is checked. (This is necessary to install plugins in the system folders as opposed to the user directories.)'}),"\n",(0,n.jsx)(r.A,{src:"https://docs.juce.com/master/tutorial_app_plugin_distribution_screenshot4.png",caption:"Setting identifiers"}),"\n",(0,n.jsxs)(t.p,{children:["The next step consists in configuring the payload which essentially tells the installer the location to copy the plugins. Make sure that the plugins are copied somewhere in the project directory for easy referencing. Select the ",(0,n.jsx)(t.strong,{children:"Payload"})," tab at the top of the interface and navigate to the installation directories for the corresponding plugin format as described in the previous section of this tutorial. If the necessary folder structure is not appearing in the navigation window, you can add the missing folders using ",(0,n.jsx)(t.strong,{children:"Hierarchy > New Folder"})," and name them accordingly. Then add the plugin to the desired location by clicking on ",(0,n.jsx)(t.strong,{children:"Hierarchy > Add Files..."})," and select the previously-copied plugins from your project folder."]}),"\n",(0,n.jsx)(r.A,{src:"https://docs.juce.com/master/tutorial_app_plugin_distribution_screenshot5.png",caption:"Configuring the payload"}),"\n",(0,n.jsxs)(t.p,{children:["Now let's customise the messages displayed during the installation process by choosing the ",(0,n.jsx)(t.strong,{children:"Project"})," entry from the left panel and selecting the ",(0,n.jsx)(t.strong,{children:"Presentation"})," tab as shown here:"]}),"\n",(0,n.jsx)(r.A,{src:"https://docs.juce.com/master/tutorial_app_plugin_distribution_screenshot6.png",caption:"Customising messages"}),"\n",(0,n.jsxs)(t.p,{children:["In this screen, you can specify a location for a text file that will be used to show a custom message on the introduction screen of the installer. Click on the ",(0,n.jsx)(t.strong,{children:"+"})," sign to add an entry in the right hand side table and select ",(0,n.jsx)(t.strong,{children:"Choose..."}),' to specify the location of the text file. Make sure to copy the text file into the project folder for easy referencing. You can repeat the process for the "Read Me" and "License" steps by clicking on the respective labels on the preview interface.']}),"\n",(0,n.jsx)(t.p,{children:'By selecting the "Installation Type" step of the interface we can modify the order of the package names to be installed, add descriptions to them and specify their default states as well as visibility.'}),"\n",(0,n.jsx)(r.A,{src:"https://docs.juce.com/master/tutorial_app_plugin_distribution_screenshot7.png",caption:"Listing packages"}),"\n",(0,n.jsxs)(t.p,{children:["If you are happy with the distribution and package settings, we can proceed to the final stage. Hit ",(0,n.jsx)(t.strong,{children:"File > Save"})," then ",(0,n.jsx)(t.strong,{children:"Build > Build"})," to start building the installer. If the procedure succeeds without error, you should see a screen like the following:"]}),"\n",(0,n.jsx)(r.A,{src:"https://docs.juce.com/master/tutorial_app_plugin_distribution_screenshot8.png",caption:"Building the distribution"}),"\n",(0,n.jsxs)(t.p,{children:["This will create a folder named ",(0,n.jsx)(t.code,{children:"build"})," in the project folder with a ",(0,n.jsx)(t.code,{children:".pkg"})," file with your project name. Double-click on it to test the installation process."]}),"\n",(0,n.jsx)(t.h2,{id:"creating-a-disk-image",children:"Creating a disk image"}),"\n",(0,n.jsxs)(t.p,{children:["To provide a more comprehensive and customisable package for your users to download, it is generally best practice to create a disk image or ",(0,n.jsx)(t.code,{children:".dmg"})," file from the ",(0,n.jsx)(t.code,{children:".pkg"})," file we created in the previous step. We can easily do this using the built-in Mac application ",(0,n.jsx)(t.code,{children:"Disk Utility"})," found in the ",(0,n.jsx)(t.code,{children:"Applications/Utilities"})," folder."]}),"\n",(0,n.jsxs)(t.p,{children:["With your ",(0,n.jsx)(t.code,{children:".pkg"})," file ready for use, create a folder with the ",(0,n.jsx)(t.code,{children:".pkg"}),' file and any additional documents you wish to include such as a "License" or "Read Me" file. This folder will be used to create the disk image and will be the content shown when unpacked.']}),"\n",(0,n.jsxs)(t.p,{children:["Launch ",(0,n.jsx)(t.code,{children:"Disk Utility"})," and navigate to ",(0,n.jsx)(t.strong,{children:"File > New Image > Image from Folder..."})," from the menu items and select the folder you just created."]}),"\n",(0,n.jsx)(r.A,{src:"https://docs.juce.com/master/tutorial_app_plugin_distribution_screenshot9.png",caption:"Creating the disk image"}),"\n",(0,n.jsxs)(t.p,{children:["Save the new disk image as a ",(0,n.jsx)(t.code,{children:".dmg"}),' extension and select the "read/write" option from the ',(0,n.jsx)(t.strong,{children:"Image Format"})," field. When hitting ",(0,n.jsx)(t.strong,{children:"Save"}),", this should generate a modifiable disk image that we can customise in the next step. Open the newly-created disk image and you should see the contents of the folder used for its creation. You can then move the items around and optionally choose a background image by opening the Finder view options by navigating to ",(0,n.jsx)(t.strong,{children:"View > Show View Options"})," from the menu items."]}),"\n",(0,n.jsx)(r.A,{src:"https://docs.juce.com/master/tutorial_app_plugin_distribution_screenshot10.png",caption:"Customising the appearance"}),"\n",(0,n.jsxs)(t.p,{children:["When you are happy with the appearance of your disk image, you can simply eject the image as the changes will be saved automatically. Return to ",(0,n.jsx)(t.code,{children:"Disk Utility"})," and navigate to ",(0,n.jsx)(t.strong,{children:"Images > Convert..."})," and select the ",(0,n.jsx)(t.code,{children:".dmg"})," file. Give it the final name you want your users to see by appending the ",(0,n.jsx)(t.code,{children:".dmg"}),' extension and select the "read-only" option from the ',(0,n.jsx)(t.strong,{children:"Image Format"})," field."]}),"\n",(0,n.jsx)(r.A,{src:"https://docs.juce.com/master/tutorial_app_plugin_distribution_screenshot11.png",caption:"Converting the disk image"}),"\n",(0,n.jsxs)(t.p,{children:["Hit ",(0,n.jsx)(t.strong,{children:"Convert"})," and you should end up with the final disk image that you can confidently distribute to customers."]}),"\n",(0,n.jsx)(t.h2,{id:"creating-a-drag-and-drop-installer",children:"Creating a drag and drop installer"}),"\n",(0,n.jsxs)(t.p,{children:["Instead of creating a ",(0,n.jsx)(t.code,{children:".pkg"})," distribution and letting the installer perform all the copy/paste actions for plugin installation, we can also create a simpler version of the disk image that involves the user a bit more. This method is more error-prone as the installation is essentially done by the user but gives more control for installation locations."]}),"\n",(0,n.jsx)(t.p,{children:"A drag and drop installer functions in a way where it presents folder aliases to installation locations on the user's system and invites the user to drag and drop the plugins into the appropriate folders through these aliases."}),"\n",(0,n.jsx)(t.p,{children:"To create this type of disk image, follow the same steps described in the previous section to create a disk image with a folder containing all the necessary plugins. Then open the disk image as before in order to customise its appearance."}),"\n",(0,n.jsxs)(t.p,{children:["Now navigate to the desired plugin installation locations on your system for the plugin formats you are supporting (use the table at the beginning of the tutorial as a reference), select the folder and create an alias by navigating to ",(0,n.jsx)(t.strong,{children:"File > Make Alias"})," from the menu item. The newly-created alias can then be moved into the disk image and the folder will still point to the location in the system."]}),"\n",(0,n.jsx)(r.A,{src:"https://docs.juce.com/master/tutorial_app_plugin_distribution_screenshot12.png",caption:"Alternative disk image"}),"\n",(0,n.jsx)(t.p,{children:"Now all the user has to do is drag and drop the plugins into the aliases in the disk image window to perform the installation."}),"\n",(0,n.jsx)(t.admonition,{type:"note",children:(0,n.jsx)(t.p,{children:"All the steps explained in this part of the tutorial were also applicable for packaging an application."})}),"\n",(0,n.jsx)(t.h1,{id:"installers-for-windows",children:"Installers for Windows"}),"\n",(0,n.jsx)(t.admonition,{type:"note",children:(0,n.jsxs)(t.p,{children:["If you are only interested in distributing for Mac, please jump to the previous section ",(0,n.jsx)(t.a,{href:"#tutorial_app_plugin_packaging_installers_mac",children:"Installers for Mac"})," for more information."]})}),"\n",(0,n.jsxs)(t.p,{children:["Manually creating an installer can be tedious but thankfully there are many tools out there that can perform this task easily for you. One such example is the free software ",(0,n.jsx)(t.a,{href:"http://www.jrsoftware.org/isinfo.php",children:"Inno Setup"})," which we will use in this section to create the Windows installer."]}),"\n",(0,n.jsx)(t.p,{children:"Install the software from the website and launch the application. You should come across a window with a code editor where we can write our own installer script."}),"\n",(0,n.jsx)(r.A,{src:"https://docs.juce.com/master/tutorial_app_plugin_distribution_screenshot13.png",caption:"Inno Setup main window"}),"\n",(0,n.jsxs)(t.p,{children:["An example Inno Setup Script or ",(0,n.jsx)(t.code,{children:".iss"})," file to install VST/VST3/RTAS/AAX plugins on Windows would look something like this:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:'[Setup]\nAppName=TestPlugin\nAppVersion=1.0.0\nDefaultDirName={cf}\nDefaultGroupName=TestPlugin\nOutputBaseFilename=TestPlugin-windows\n \n[Files]\nSource: "TestPlugin.dll"; DestDir: "{app}\\Steinberg\\VST2"\nSource: "TestPlugin.vst3"; DestDir: "{app}\\Steinberg\\VST3"\nSource: "TestPlugin.dpm"; DestDir: "{app}\\Digidesign\\DAE\\Plug-Ins"\nSource: "TestPlugin.aaxplugin\\*"; DestDir: "{app}\\Avid\\Audio\\Plug-Ins\\TestPlugin.aaxplugin"; Flags: recursesubdirs\n'})}),"\n",(0,n.jsxs)(t.p,{children:["Here we have general properties that we can set in the ",(0,n.jsx)(t.code,{children:"[Setup]"})," section of the script and plugins we want to copy in specific folders in the ",(0,n.jsx)(t.code,{children:"[Files]"})," section."]}),"\n",(0,n.jsx)(t.p,{children:"Certain shotcuts for common Windows path locations are available in this syntax format by enclosing the desired variable with curly brackets."}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:['{pf}: Shortcut for "Program Files" located at ',(0,n.jsx)(t.code,{children:"C:\\Program Files"}),"."]}),"\n",(0,n.jsxs)(t.li,{children:['{cf}: Shortcut for "Common Files" located at ',(0,n.jsx)(t.code,{children:"C:\\Program Files\\Common Files"}),"."]}),"\n",(0,n.jsx)(t.li,{children:"{app}: Shortcut for the destination application directory chosen by the user during installation."}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["In order to specify the default installation directory, we set the ",(0,n.jsx)(t.code,{children:"DefaultDirName"}),' variable to the "Common Files" directory but the user can still choose to install the plugins elsewhere as seen here when running the setup installer:']}),"\n",(0,n.jsx)(r.A,{src:"https://docs.juce.com/master/tutorial_app_plugin_distribution_screenshot14.png",caption:"Choosing the destination application directory"}),"\n",(0,n.jsxs)(t.p,{children:["To instruct the installer to copy each individual plugin format into the right directory, specify the source file from the working directory as the ",(0,n.jsx)(t.code,{children:"Source"})," and the desired installation location as the ",(0,n.jsx)(t.code,{children:"DestDir"})," in the ",(0,n.jsx)(t.code,{children:"[Files]"})," section as individual lines."]}),"\n",(0,n.jsxs)(t.p,{children:["Notice that the AAX plugin is packaged as a folder contrary to other plugin formats and therefore the ",(0,n.jsx)(t.code,{children:"recursesubdirs"})," flag has to be set to instruct all the directory content to be copied."]}),"\n",(0,n.jsxs)(t.p,{children:["When you are happy with the configuration of the script, hit ",(0,n.jsx)(t.strong,{children:"Build > Compile"})," to create the installer. This will generate a Setup application in a directory named ",(0,n.jsx)(t.code,{children:"Output"})," by default in your working directory. The name of this installer will be chosen from the ",(0,n.jsx)(t.code,{children:"OutputBaseFilename"})," variable of the ",(0,n.jsx)(t.code,{children:"[Setup]"})," section of the script."]}),"\n",(0,n.jsxs)(t.p,{children:["To test the installer directly within Inno Setup, hit ",(0,n.jsx)(t.strong,{children:"Run > Run"})," after successful compilation to launch the installer just generated."]}),"\n",(0,n.jsxs)(t.p,{children:["When the user hits the ",(0,n.jsx)(t.strong,{children:"Install"})," button in the final step of the setup installer, the plugins will be copied to the appropriate folders specified in the script:"]}),"\n",(0,n.jsx)(r.A,{src:"https://docs.juce.com/master/tutorial_app_plugin_distribution_screenshot15.png",caption:"Installing the plugins"}),"\n",(0,n.jsx)(t.admonition,{type:"note",children:(0,n.jsx)(t.p,{children:"All the steps explained in this part of the tutorial were also applicable for packaging an application."})}),"\n",(0,n.jsx)(t.h2,{id:"runtime-library-linking",children:"Runtime library linking"}),"\n",(0,n.jsx)(t.admonition,{type:"warning",children:(0,n.jsx)(t.p,{children:"Due to a recent Windows 10 update, static linking of the runtime library has been deprecated and dynamic linking is suggested instead."})}),"\n",(0,n.jsx)(t.p,{children:"When building a plugin for Windows, JUCE will choose dynamic linking of runtime libraries by default. This universal runtime is now part of the system core from Windows 10 and therefore if your plugin only targets users with Windows 10, you should not encounter any problems. However, for Windows versions between 8.1 and Vista there is a chance that the universal runtime library is not installed on the customer's computer and the plugin will not work properly."}),"\n",(0,n.jsx)(t.p,{children:"To remedy this problem, you can either prompt users to install the universal runtime through Windows Update themselves or supply an installer that downloads and installs this along with your plugin. Alternatively, you can also decide to build your plugins with static linking however, this is not recommended as Windows will restrict the number of plugins that can be loaded into a DAW to 64."}),"\n",(0,n.jsx)(t.p,{children:"You can change the way JUCE links the runtime library in the Projucer here:"}),"\n",(0,n.jsx)(r.A,{src:"https://docs.juce.com/master/tutorial_app_plugin_distribution_screenshot16.png",caption:"Runtime library linking"}),"\n",(0,n.jsx)(t.h1,{id:"marketplace-submissions",children:"Marketplace submissions"}),"\n",(0,n.jsx)(t.p,{children:"Depending on the store you want to distribute your app on, different types of requirements exist. However, there are general guidelines that you can follow to accelerate the review process on most of these stores and these include:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Submitting an application that does not exhibit any crash or bug even in the most obscure use case."}),"\n",(0,n.jsx)(t.li,{children:"Writing an accurate description of your application that reflects exactly what it does."}),"\n",(0,n.jsx)(t.li,{children:"Supplying descriptions for all permissions and entitlements required by the application such as microphone and camera access."}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"You can easily supply a descriptive text when using microphone or camera access from the Projucer exporter settings as shown below:"}),"\n",(0,n.jsx)(r.A,{src:"https://docs.juce.com/master/tutorial_app_plugin_distribution_screenshot18.png",caption:"Describing the reason for microphone access](tutorial_app_plugin_distribution_screenshot17.png) ![Describing the reason for camera access"}),"\n",(0,n.jsx)(t.p,{children:'Ensure that you enlist all required Capabilities/Entitlements for macOS/iOS such as "In-App Purchases" or "Push Notifications" capability:'}),"\n",(0,n.jsx)(r.A,{src:"https://docs.juce.com/master/tutorial_app_plugin_distribution_screenshot19.png",caption:"Enabling iOS capabilities"}),"\n",(0,n.jsx)(t.p,{children:"On Android that means listing all required functionalities in the Android manifest by enabling relevant Projucer fields:"}),"\n",(0,n.jsx)(r.A,{src:"https://docs.juce.com/master/tutorial_app_plugin_distribution_screenshot20.png",caption:"Enabling Android capabilities"}),"\n",(0,n.jsx)(t.p,{children:"Failing to provide correct image sizes for icons is a common reason for rejected apps. Ensure that you have all required resources such as small and large icons included:"}),"\n",(0,n.jsx)(r.A,{src:"https://docs.juce.com/master/tutorial_app_plugin_distribution_screenshot21.png",caption:"Assigning small and large icons"}),"\n",(0,n.jsx)(t.p,{children:'In order to provide the best user experience, ensure that you configure the minimum OS version requirements, such as "iOS Deployment Target" for iOS and "Minimum SDK version" on Android.'}),"\n",(0,n.jsx)(r.A,{src:"https://docs.juce.com/master/tutorial_app_plugin_distribution_screenshot23.png",caption:"Setting the minimum iOS version](tutorial_app_plugin_distribution_screenshot22.png) ![Setting the minimum Android version"}),"\n",(0,n.jsx)(t.p,{children:"Finally, since JUCE does not use native UIs for interface design, you also need to be careful with the appearance of your app. Make sure you do not try to mimic native designs as these will be rejected."}),"\n",(0,n.jsx)(t.h1,{id:"\u6982\u8981",children:"\u6982\u8981"}),"\n",(0,n.jsx)(t.p,{children:"In this tutorial, we have learnt how to distribute an application or plugin. In particular, we have:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Learnt about the installation locations for plugins."}),"\n",(0,n.jsx)(t.li,{children:"Created installers for Mac and Windows."}),"\n",(0,n.jsx)(t.li,{children:"Discussed common mistakes when submitting binaries to marketplaces."}),"\n"]}),"\n",(0,n.jsx)(t.h1,{id:"\u95a2\u9023\u9805\u76ee",children:"\u95a2\u9023\u9805\u76ee"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"../tutorial_online_unlock_status/",children:"Tutorial: Unlock your plugins through online registration"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"../tutorial_analytics_collection/",children:"Tutorial: App analytics collection"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"../tutorial_in_app_purchases/",children:"Tutorial: In-App Purchases on desktop and mobile devices"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"../tutorial_push_notifications/",children:"Tutorial: Push Notifications on desktop and mobile devices"})}),"\n"]})]})}function u(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}},3449:(e,t,i)=>{i.d(t,{A:()=>s});var n=i(4848);function s(e){let{src:t,caption:i,alt:s,width:r,height:o}=e;return(0,n.jsxs)("figure",{children:[(0,n.jsx)("img",{src:t,alt:s||i,width:r,height:o}),(0,n.jsx)("figcaption",{children:(0,n.jsx)("b",{children:i})})]})}},6378:(e,t,i)=>{i.d(t,{A:()=>s});var n=i(4848);function s(e){let{path:t}=e;return(0,n.jsx)("p",{children:(0,n.jsx)("a",{href:`https://docs.juce.com/master/${t}.html`,children:"\ud83d\udcda Source Page"})})}},8453:(e,t,i)=>{i.d(t,{R:()=>o,x:()=>a});var n=i(6540);const s={},r=n.createContext(s);function o(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);