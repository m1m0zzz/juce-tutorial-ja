"use strict";(self.webpackChunkjuce_tutorial_ja=self.webpackChunkjuce_tutorial_ja||[]).push([[1843],{8246:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>r,default:()=>u,frontMatter:()=>i,metadata:()=>c,toc:()=>d});var s=n(4848),o=n(8453),l=n(3449);n(6378);const i={title:"TableListBox \u30af\u30e9\u30b9",sidebar_position:12},r="\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30ebTableListBox\u30af\u30e9\u30b9",c={id:"interface-design/tutorial_table_list_box",title:"TableListBox \u30af\u30e9\u30b9",description:"JUCE\u30e6\u30fc\u30b6\u30fc\u30fb\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b\u30c6\u30fc\u30d6\u30eb\u3092\u7d44\u307f\u8fbc\u3080\u3002XML\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u8aad\u307f\u8fbc\u3093\u3060\u30c7\u30fc\u30bf\u3092\u8868\u793a\u3057\u3001\u30c6\u30fc\u30d6\u30eb\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3067\u304d\u307e\u3059\u3002",source:"@site/docs/interface-design/tutorial_table_list_box.mdx",sourceDirName:"interface-design",slug:"/interface-design/tutorial_table_list_box",permalink:"/juce-tutorial-ja/interface-design/tutorial_table_list_box",draft:!1,unlisted:!1,editUrl:"https://github.com/m1m0zzz/juce-tutorial-ja/tree/main/docs/interface-design/tutorial_table_list_box.mdx",tags:[],version:"current",sidebarPosition:12,frontMatter:{title:"TableListBox \u30af\u30e9\u30b9",sidebar_position:12},sidebar:"tutorialSidebar",previous:{title:"\u30e9\u30b8\u30aa\u30dc\u30bf\u30f3\u3068\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9",permalink:"/juce-tutorial-ja/interface-design/tutorial_radio_buttons_checkboxes"},next:{title:"Mobile",permalink:"/juce-tutorial-ja/category/mobile"}},a={},d=[{value:"\u306f\u3058\u3081\u308b",id:"\u306f\u3058\u3081\u308b",level:2},{value:"Editable Labels",id:"editable-labels",level:2},{value:"Selectable Button",id:"selectable-button",level:2}];function h(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30ebtablelistbox\u30af\u30e9\u30b9",children:"\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30ebTableListBox\u30af\u30e9\u30b9"})}),"\n",(0,s.jsx)(t.p,{children:"JUCE\u30e6\u30fc\u30b6\u30fc\u30fb\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b\u30c6\u30fc\u30d6\u30eb\u3092\u7d44\u307f\u8fbc\u3080\u3002XML\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u8aad\u307f\u8fbc\u3093\u3060\u30c7\u30fc\u30bf\u3092\u8868\u793a\u3057\u3001\u30c6\u30fc\u30d6\u30eb\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3067\u304d\u307e\u3059\u3002"}),"\n",(0,s.jsx)(t.p,{children:"\u30ec\u30d9\u30eb\uff1a\u4e2d\u7d1a"}),"\n",(0,s.jsx)(t.p,{children:"\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\uff1aWindows, macOS, Linux"}),"\n",(0,s.jsxs)(t.p,{children:["\u30af\u30e9\u30b9\uff1a ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classTableListBox",title:"A table of cells, using a TableHeaderComponent as its header.",children:"\u30c6\u30fc\u30d6\u30eb\u30ea\u30b9\u30c8\u30dc\u30c3\u30af\u30b9"}),", ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classTableListBoxModel",title:"One of these is used by a TableListBox as the data model for the table's contents.",children:"\u30c6\u30fc\u30d6\u30eb\u30ea\u30b9\u30c8\u30dc\u30c3\u30af\u30b9\u30e2\u30c7\u30eb"}),", ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classListBox",title:"A list of items that can be scrolled vertically.",children:"\u30ea\u30b9\u30c8\u30dc\u30c3\u30af\u30b9"}),", ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classListBoxModel",title:"A subclass of this is used to drive a ListBox.",children:"\u30ea\u30b9\u30c8\u30dc\u30c3\u30af\u30b9\u30e2\u30c7\u30eb"}),", ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classTableHeaderComponent",title:"A component that displays a strip of column headings for a table, and allows these to be resized,...",children:"\u30c6\u30fc\u30d6\u30eb\u30d8\u30c3\u30c0\u30fc\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8"}),", ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classXmlDocument",title:"Parses a text-based XML document and creates an XmlElement object from it.",children:"XmlDocument"}),", ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classXmlElement",title:"Used to build a tree of elements representing an XML document.",children:"XmlElement"})]}),"\n",(0,s.jsx)(t.h2,{id:"\u306f\u3058\u3081\u308b",children:"\u306f\u3058\u3081\u308b"}),"\n",(0,s.jsxs)(t.p,{children:["Download the demo project for this tutorial here: ",(0,s.jsx)(t.a,{href:"/tutorials/PIPs/TableListBoxTutorial.zip",children:"\u30d4\u30c3\u30d7"})," | ",(0,s.jsx)(t.a,{href:"/tutorials/ZIPs/TableListBoxTutorial.zip",children:"\u30b8\u30c3\u30d7"}),". Unzip the project and open the first header file in the Projucer."]}),"\n",(0,s.jsx)(t.admonition,{type:"warning",children:(0,s.jsxs)(t.p,{children:["If using the PIP version of this project, please make sure to copy the ",(0,s.jsx)(t.code,{children:"\u30ea\u30bd\u30fc\u30b9"})," folder into the generated Projucer project."]})}),"\n",(0,s.jsxs)(t.p,{children:["If you need help with this step, see ",(0,s.jsx)(t.a,{href:"../tutorial_new_projucer_project/",children:"\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30ebProjucer\u30d1\u30fc\u30c81\uff1aProjucer\u3092\u59cb\u3081\u308b"}),"."]}),"\n",(0,s.jsx)(t.h1,{id:"the-demo-project",children:"The demo project"}),"\n",(0,s.jsx)(t.p,{children:"\u30c7\u30e2\u30fb\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f\u3001JUCE \u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u95a2\u3059\u308b\u60c5\u5831\u3092\u542b\u3080 XML \u30d5\u30a1\u30a4\u30eb\u304b\u3089\u8aad\u307f\u8fbc\u307e\u308c\u305f\u30c6\u30fc\u30d6\u30eb\u3092\u8868\u793a\u3057\u307e\u3059\u3002\u8868\u306f\u3001\u597d\u304d\u306a\u5217\u3067\u30bd\u30fc\u30c8\u3057\u305f\u308a\u3001\u7279\u5b9a\u306e\u9805\u76ee\u3092\u7de8\u96c6\u3057\u305f\u308a\u3001\u5217\u3092\u975e\u8868\u793a\u306b\u3057\u305f\u308a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002"}),"\n",(0,s.jsx)(l.A,{src:"https://docs.juce.com/master/tutorial_table_list_box_screenshot1.png",caption:"The app window"}),"\n",(0,s.jsx)(t.h1,{id:"the-listbox-class",children:"The ListBox class"}),"\n",(0,s.jsxs)(t.p,{children:["The base ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classComponent",title:"The base class for all JUCE user-interface objects.",children:"\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8"})," class that allows us to display tables in JUCE is called the ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classListBox",title:"A list of items that can be scrolled vertically.",children:"\u30ea\u30b9\u30c8\u30dc\u30c3\u30af\u30b9"})," class. The ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classListBox",title:"A list of items that can be scrolled vertically.",children:"\u30ea\u30b9\u30c8\u30dc\u30c3\u30af\u30b9"})," behaviour is managed by a ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classListBoxModel",title:"A subclass of this is used to drive a ListBox.",children:"\u30ea\u30b9\u30c8\u30dc\u30c3\u30af\u30b9\u30e2\u30c7\u30eb"})," class which describes the data model to display. This is useful to display a list of items in a scrollable viewport but in order to turn this into a proper table with headers describing the columns, we can use respectively the ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classTableListBox",title:"A table of cells, using a TableHeaderComponent as its header.",children:"\u30c6\u30fc\u30d6\u30eb\u30ea\u30b9\u30c8\u30dc\u30c3\u30af\u30b9"})," and ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classTableListBoxModel",title:"One of these is used by a TableListBox as the data model for the table's contents.",children:"\u30c6\u30fc\u30d6\u30eb\u30ea\u30b9\u30c8\u30dc\u30c3\u30af\u30b9\u30e2\u30c7\u30eb"})," classes. These classes encapsulate the same behaviour as their counterparts but instead incorporate the functionalities of a ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classTableHeaderComponent",title:"A component that displays a strip of column headings for a table, and allows these to be resized,...",children:"\u30c6\u30fc\u30d6\u30eb\u30d8\u30c3\u30c0\u30fc\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8"})," to display column headers."]}),"\n",(0,s.jsxs)(t.p,{children:["When implementing a ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classTableListBox",title:"A table of cells, using a TableHeaderComponent as its header.",children:"\u30c6\u30fc\u30d6\u30eb\u30ea\u30b9\u30c8\u30dc\u30c3\u30af\u30b9"})," and inheriting the ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classTableListBoxModel",title:"One of these is used by a TableListBox as the data model for the table's contents.",children:"\u30c6\u30fc\u30d6\u30eb\u30ea\u30b9\u30c8\u30dc\u30c3\u30af\u30b9\u30e2\u30c7\u30eb"}),", there are several functions to override namely:"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"getNumRows()"}),": Needs to return the current number of rows in the table."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"paintRowBackground()"}),": Using the ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classGraphics",title:"A graphics context, used for drawing a component or image.",children:"\u30b0\u30e9\u30d5\u30a3\u30c3\u30af"})," context provided, we must draw the background of the row specified by the row number."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"\u30da\u30a4\u30f3\u30c8\u30bb\u30eb()"}),": Using the ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classGraphics",title:"A graphics context, used for drawing a component or image.",children:"\u30b0\u30e9\u30d5\u30a3\u30c3\u30af"})," context provided, we must draw the cell specified by the row and column number."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"\u30bb\u30eb\u306e\u30ea\u30d5\u30ec\u30c3\u30b7\u30e5\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8()"}),": We can optionally override this method to create and update custom components in the table."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"getColumnAutoSizeWidth()"}),": When using auto size for the width of the columns, this method can optionally specify how the column resizes itself."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"sortOrderChanged()"}),": If using a custom sorting order, we can optionally specify how the column gets reordered."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3057\u3066\u6a5f\u80fd\u3092\u8ffd\u52a0\u3067\u304d\u308b\u95a2\u6570\u306f\u4ed6\u306b\u3082\u3042\u308b\u304c\u3001\u3053\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3067\u306f\u3053\u3053\u3067\u7d39\u4ecb\u3059\u308b\u95a2\u6570\u3092\u5b9f\u88c5\u3059\u308b\u3002"}),"\n",(0,s.jsx)(t.h1,{id:"reading-data-from-xml",children:"Reading Data from XML"}),"\n",(0,s.jsx)(t.p,{children:"\u307e\u305a\u3001XML\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304b\u3089\u30c6\u30fc\u30d6\u30eb\u306b\u8868\u793a\u3057\u305f\u3044\u30c7\u30fc\u30bf\u3092\u30ed\u30fc\u30c9\u3059\u308b\u3053\u3068\u304b\u3089\u59cb\u3081\u3088\u3046\u3002"}),"\n",(0,s.jsxs)(t.p,{children:["In the ",(0,s.jsx)(t.code,{children:"\u30ea\u30bd\u30fc\u30b9"})," folder of the project, you can find sample data to use with this tutorial in a file called ",(0,s.jsx)(t.code,{children:"TableData.xml"})," that contains information in the following format:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"\n    \n        //...\n    \n        //...\n\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Here we encapsulate the whole file with the ",(0,s.jsx)(t.code,{children:"\u30c6\u30fc\u30d6\u30eb\u30fb\u30c7\u30fc\u30bf"})," tag and the table headers and the actual data is separated using the ",(0,s.jsx)(t.code,{children:"\u30d8\u30c3\u30c0\u30fc"})," and ",(0,s.jsx)(t.code,{children:"\u30c7\u30fc\u30bf"})," tags respectively. The columns are defined with individual ",(0,s.jsx)(t.code,{children:"\u30b3\u30e9\u30e0"})," tags and the rows are defined with ",(0,s.jsx)(t.code,{children:"\u30a2\u30a4\u30c6\u30e0"})," tags using attributes for the content in each column of that entry."]}),"\n",(0,s.jsx)(t.p,{children:"\u3053\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30b3\u30fc\u30c9\u306e\u5b9f\u88c5\u306f\u3001\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u69cb\u9020\u306b\u5408\u308f\u305b\u3066\u3042\u308b\u304c\u3001XML\u30bf\u30b0\u306f\u597d\u304d\u306a\u3088\u3046\u306b\u5909\u66f4\u3067\u304d\u308b\u3002"}),"\n",(0,s.jsxs)(t.p,{children:["In the ",(0,s.jsx)(t.code,{children:"\u30c6\u30fc\u30d6\u30eb\u30fb\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u30fb\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8"})," class, we define a pointer to temporarily store the content of the file in a single ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classXmlElement",title:"Used to build a tree of elements representing an XML document.",children:"XmlElement"})," member variable and also define two additional XmlElements for the column content and the row content as shown here:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"class TableTutorialComponent : public juce::Component\u3001\n                                  public juce::TableListBoxModel\n{\n"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"    std::unique_ptr\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u30c7\u30fc\u30bf\n    juce::XmlElement* columnList = nullptr\uff1b\n    juce::XmlElement* dataList = nullptr\uff1b\n"})}),"\n",(0,s.jsxs)(t.p,{children:["In the class constructor, we launch a ",(0,s.jsx)(t.code,{children:'[\u30d5\u30a1\u30a4\u30eb\u30c1\u30e5\u30fc\u30b6\u30fc](https://docs.juce.com/master/classFileChooser "Creates a dialog box to choose a file or directory to load or save.")'})," to select the data file to display. When the ",(0,s.jsx)(t.code,{children:'[\u30d5\u30a1\u30a4\u30eb\u30c1\u30e5\u30fc\u30b6\u30fc](https://docs.juce.com/master/classFileChooser "Creates a dialog box to choose a file or directory to load or save.")'})," completes, it will call the ",(0,s.jsx)(t.code,{children:"\u30b3\u30fc\u30eb\u30d0\u30c3\u30af"})," lambda function, to load the file content into our ",(0,s.jsx)(t.code,{children:'[XmlElement](https://docs.juce.com/master/classXmlElement "Used to build a tree of elements representing an XML document.")'})," objects [1]. With our data loaded from the XML file, we can iterate through the column headers using a for() loop and ",(0,s.jsx)(t.code,{children:'[XmlElement::getChildIterator](classXmlElement.html#ac620244d67b05fb572a37bc5f01f6d0d "Allows iterating the children of an XmlElement using range-for syntax.")'})," to assign the table headers using the ",(0,s.jsx)(t.code,{children:"addColumn()"})," function [2] like so:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"TableTutorialComponent()\n    {\n        const auto callback = [this] (const juce::FileChooser& chooser)\n        {\n            loadData (chooser.getResult()); // [1].\n"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:'if (columnList != nullptr)\n            {\n                for (auto* columnXml : columnList->getChildIterator())\n                {\n                    table.getHeader().addColumn (columnXml->getStringAttribute ("name"), // [2])\n                                                 columnXml->getIntAttribute ("columnId")\u3001\n                                                 columnXml->getIntAttribute ("width")\u3001\n                                                 50,\n                                                 400,\n                                                 juce::TableHeaderComponent::defaultFlags)\uff1b\n                }\n            }\n'})}),"\n",(0,s.jsx)(t.p,{children:"\u3053\u306e\u95a2\u6570\u306f\u3001\u30ab\u30e9\u30e0\u306e\u540d\u524d\u3001\u5e45\u3001ID\u3092\u3001\u30ab\u30e9\u30e0\u306e\u30bd\u30fc\u30c8\u53ef\u80fd\u6027\u3068\u30ea\u30b5\u30a4\u30ba\u53ef\u80fd\u6027\u3092\u5b9a\u7fa9\u3059\u308b\u30d7\u30ed\u30d1\u30c6\u30a3\u30fb\u30d5\u30e9\u30b0\u3068\u3068\u3082\u306b\u6307\u5b9a\u3059\u308b\u3002"}),"\n",(0,s.jsxs)(t.p,{children:["In the ",(0,s.jsx)(t.code,{children:"\u30ed\u30fc\u30c9\u30c7\u30fc\u30bf()"})," helper function called in the constructor, we first find the ",(0,s.jsx)(t.code,{children:"\u30ea\u30bd\u30fc\u30b9"})," directory and the XML file to load and parse this ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classFile",title:"Represents a local file or directory.",children:"\u30d5\u30a1\u30a4\u30eb"})," object using the ",(0,s.jsx)(t.code,{children:"\u30d1\u30fc\u30b9()"})," function [3]. We can then retrieve the rows and columns from the temporary ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classXmlElement",title:"Used to build a tree of elements representing an XML document.",children:"XmlElement"})," by traversing the XML structure and finding the corresponding tags with the ",(0,s.jsx)(t.code,{children:"getChildByName()"})," functions [4]. This is a good place to set the number of rows from the data ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classXmlElement",title:"Used to build a tree of elements representing an XML document.",children:"XmlElement"})," by calling ",(0,s.jsx)(t.code,{children:"getNumChildElements()"})," on it [5] as follows:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:'void loadData (juce::File tableFile)\n    {\n        if (tableFile == juce::File() || ! tableFile.exists())\n            \u3092\u8fd4\u3057\u307e\u3059\uff1b\n \n        tutorialData = juce::XmlDocument::parse (tableFile); // [3].\n \n        dataList = tutorialData->getChildByName ("DATA")\uff1b\n        columnList = tutorialData->getChildByName ("HEADERS"); // [4] \u30ab\u30e9\u30e0\u30ea\u30b9\u30c8\u3002\n \n        numRows = dataList->getNumChildElements(); // [5].\n    }\n'})}),"\n",(0,s.jsx)(t.admonition,{type:"warning",children:(0,s.jsx)(t.p,{children:'\u3053\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u306e\u30ea\u30bd\u30fc\u30b9\u3067\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b "TableData.xml "\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002'})}),"\n",(0,s.jsxs)(t.p,{children:["Let's also define a helper function called ",(0,s.jsx)(t.code,{children:"getAttributeNameForColumnId()"})," that returns the name of the column based on its ID which will become handy later on:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:'juce::String getAttributeNameForColumnId (const int columnId) const\n    {\n        for (auto* columnXml : columnList->getChildIterator())\n        {\n            if (columnXml->getIntAttribute ("columnId") == columnId)\n                return columnXml->getStringAttribute ("name")\uff1b\n        }\n \n        return {}\uff1b\n    }\n'})}),"\n",(0,s.jsx)(t.p,{children:"\u3053\u3053\u3067\u306f\u3001\u5b50XML\u8981\u7d20\u3092\u7e70\u308a\u8fd4\u3057\u51e6\u7406\u3057\u3001\u4e00\u81f4\u3059\u308b\u30ab\u30e9\u30e0ID\u3092\u898b\u3064\u3051\u3066\u305d\u306ename\u5c5e\u6027\u3092\u8fd4\u3057\u307e\u3059\u3002"}),"\n",(0,s.jsx)(t.h1,{id:"custom-cell-components",children:"Custom Cell Components"}),"\n",(0,s.jsxs)(t.p,{children:["A ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classTableListBox",title:"A table of cells, using a TableHeaderComponent as its header.",children:"\u30c6\u30fc\u30d6\u30eb\u30ea\u30b9\u30c8\u30dc\u30c3\u30af\u30b9"})," can hold custom components in its cells other than just text. In the following sections we explore how to incorporate a ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classToggleButton",title:"A button that can be toggled on/off.",children:"\u30c8\u30b0\u30eb\u30dc\u30bf\u30f3"})," into one of the columns and an editable ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classLabel",title:"A component that displays a text string, and can optionally become a text editor when clicked.",children:"\u30e9\u30d9\u30eb"})," that listens to user input."]}),"\n",(0,s.jsx)(t.h2,{id:"editable-labels",children:"Editable Labels"}),"\n",(0,s.jsxs)(t.p,{children:["In the ",(0,s.jsx)(t.code,{children:"EditableTextCustomComponent"})," class, we first inherit from the ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classLabel",title:"A component that displays a text string, and can optionally become a text editor when clicked.",children:"\u30e9\u30d9\u30eb"})," class in order to set it as editable when the user double-clicks on it:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"class EditableTextCustomComponent : public juce::Label\n    {\n    public\uff1a\n        EditableTextCustomComponent (TableTutorialComponent& td)\n            : owner (td)\n        {\n            setEditable (false, true, false)\uff1b\n        }\n"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"private\uff1a\n        TableTutorialComponent& owner\uff1b\n        int row, columnId\uff1b\n        juce::Colour textColour\uff1b\n    };\n"})}),"\n",(0,s.jsx)(t.p,{children:"\u3053\u3053\u3067\u306f\u3001\u3053\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u3069\u306e\u884c\u3068\u5217\u306b\u8868\u793a\u3055\u308c\u308b\u304b\u3092\u8a18\u9332\u3057\u3001\u5b9f\u969b\u306e\u30c6\u30fc\u30d6\u30eb\u3078\u306e\u53c2\u7167\u3082\u4fdd\u6301\u3059\u308b\u3002"}),"\n",(0,s.jsxs)(t.p,{children:["When the user interacts with the ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classLabel",title:"A component that displays a text string, and can optionally become a text editor when clicked.",children:"\u30e9\u30d9\u30eb"}),", we have to extend the usual ",(0,s.jsx)(t.code,{children:"\u30de\u30a6\u30b9\u30c0\u30a6\u30f3()"})," functionalities to account for multiple selections in the table. This is achieved by calling ",(0,s.jsx)(t.code,{children:"selectRowsBasedOnModifierKeys()"})," on the table and passing the modifier keys as an argument. Notice here that we still need to call the base class function to keep the original behaviour as well:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"void mouseDown (const juce::MouseEvent& event) override\n        {\n            owner.table.selectRowsBasedOnModifierKeys (row, event.mods, false)\uff1b\n \n            Label::mouseDown (event)\uff1b\n        }\n"})}),"\n",(0,s.jsxs)(t.p,{children:["When the user edits the text in the ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classLabel",title:"A component that displays a text string, and can optionally become a text editor when clicked.",children:"\u30e9\u30d9\u30eb"}),", we receive a callback from the ",(0,s.jsx)(t.code,{children:"textWasEdited()"})," function and we call the helper function ",(0,s.jsx)(t.code,{children:"setText()"})," defined later in the ",(0,s.jsx)(t.code,{children:"\u30c6\u30fc\u30d6\u30eb\u30fb\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u30fb\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8"})," class to save the changes in the corresponding ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classXmlElement",title:"Used to build a tree of elements representing an XML document.",children:"XmlElement"})," object like so:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"void textWasEdited() \u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\n        {\n            owner.setText (columnId, row, getText())\uff1b\n        }\n"})}),"\n",(0,s.jsxs)(t.p,{children:["The following function is called by the ",(0,s.jsx)(t.code,{children:'[\u30c6\u30fc\u30d6\u30eb\u30ea\u30b9\u30c8\u30dc\u30c3\u30af\u30b9\u30e2\u30c7\u30eb](https://docs.juce.com/master/classTableListBoxModel "One of these is used by a TableListBox as the data model for the table\'s contents.")'})," when creating or updating an ",(0,s.jsx)(t.code,{children:"EditableTextCustomComponent"})," object and sets the row, column and the displayed text from the ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classXmlElement",title:"Used to build a tree of elements representing an XML document.",children:"XmlElement"})," using the ",(0,s.jsx)(t.code,{children:"\u30b2\u30c3\u30c8\u30c6\u30ad\u30b9\u30c8"})," helper function defined after:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"void setRowAndColumn (const int newRow, const int newColumn)\n        {\n            row = newRow\uff1b\n            columnId = newColumn\uff1b\n            setText (owner.getText(columnId, row), juce::dontSendNotification)\uff1b\n        }\n"})}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"\u30b2\u30c3\u30c8\u30c6\u30ad\u30b9\u30c8"})," and ",(0,s.jsx)(t.code,{children:"setText()"})," helper functions are defined as follows:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"juce::String getText (const int columnNumber, const int rowNumber) const\n    {\n        return dataList->getChildElement (rowNumber)->getStringAttribute (getAttributeNameForColumnId (columnNumber))\uff1b\n    }\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Here we find the text from the row and column number in the child element contained within the ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classXmlElement",title:"Used to build a tree of elements representing an XML document.",children:"XmlElement"}),"."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"void setText (const int columnNumber, const int rowNumber, const juce::String& newText)\n    {\n        const auto& columnName = table.getHeader().getColumnName (columnNumber)\uff1b\n        dataList->getChildElement (rowNumber)->setAttribute (columnName, newText)\uff1b\n    }\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Here we store the text in the child element contained within the ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classXmlElement",title:"Used to build a tree of elements representing an XML document.",children:"XmlElement"})," from the row and column number."]}),"\n",(0,s.jsx)(t.h2,{id:"selectable-button",children:"Selectable Button"}),"\n",(0,s.jsxs)(t.p,{children:["In the ",(0,s.jsx)(t.code,{children:"\u30bb\u30ec\u30af\u30b7\u30e7\u30f3\u30ab\u30e9\u30e0\u30ab\u30b9\u30bf\u30e0\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8"})," class, we first inherit from the ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classComponent",title:"The base class for all JUCE user-interface objects.",children:"\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8"})," class in order to set a ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classToggleButton",title:"A button that can be toggled on/off.",children:"\u30c8\u30b0\u30eb\u30dc\u30bf\u30f3"})," as a child ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classComponent",title:"The base class for all JUCE user-interface objects.",children:"\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8"})," to it and assign the callback function to be called when the user interacts with it:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"class SelectionColumnCustomComponent : public \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\n    {\n    public\uff1a\n        SelectionColumnCustomComponent (TableTutorialComponent& td)\n            : owner (td)\n        {\n            addAndMakeVisible (toggleButton)\uff1b\n \n            toggleButton.onClick = [this] { owner.setSelection (row, (int) toggleButton.getToggleState()); }\uff1b\n        }\n"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"private\uff1a\n        tableTutorialComponent& owner\uff1b\n        juce::ToggleButton toggleButton\uff1b\n        int row, columnId\uff1b\n    };\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Here we also keep track in which row and column this object is displayed and a reference to the actual table. The lambda function calls the ",(0,s.jsx)(t.code,{children:"setSelection()"})," helper function defined later in the ",(0,s.jsx)(t.code,{children:"\u30c6\u30fc\u30d6\u30eb\u30fb\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u30fb\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8"})," that sets the toggle state of the button."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"        void resized() override\n        {\n            toggleButton.setBoundsInset (juce::BorderSize(2));\n        }\n"})}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"\u30ea\u30b5\u30a4\u30ba"})," function sets the bounds of the ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classToggleButton",title:"A button that can be toggled on/off.",children:"\u30c8\u30b0\u30eb\u30dc\u30bf\u30f3"})," object."]}),"\n",(0,s.jsxs)(t.p,{children:["The following function is called by the ",(0,s.jsx)(t.code,{children:'[\u30c6\u30fc\u30d6\u30eb\u30ea\u30b9\u30c8\u30dc\u30c3\u30af\u30b9\u30e2\u30c7\u30eb](https://docs.juce.com/master/classTableListBoxModel "One of these is used by a TableListBox as the data model for the table\'s contents.")'})," when creating or updating a ",(0,s.jsx)(t.code,{children:"\u30bb\u30ec\u30af\u30b7\u30e7\u30f3\u30ab\u30e9\u30e0\u30ab\u30b9\u30bf\u30e0\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8"})," object and sets the row, column and the toggle state from the ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classXmlElement",title:"Used to build a tree of elements representing an XML document.",children:"XmlElement"})," using the ",(0,s.jsx)(t.code,{children:"getSelection()"})," helper function defined after:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"void setRowAndColumn (int newRow, int newColumn)\n        {\n            row = newRow\uff1b\n            columnId = newColumn\uff1b\n            toggleButton.setToggleState ((bool) owner.getSelection (row), juce::dontSendNotification)\uff1b\n        }\n"})}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"getSelection()"})," and ",(0,s.jsx)(t.code,{children:"setSelection()"})," helper functions are defined as follows:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:'int getSelection (const int rowNumber) const\n    {\n        return dataList->getChildElement (rowNumber)->getIntAttribute ("Select")\uff1b\n    }\n'})}),"\n",(0,s.jsxs)(t.p,{children:["Here we find the toggle state from the row and column number in the child element contained within the ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classXmlElement",title:"Used to build a tree of elements representing an XML document.",children:"XmlElement"}),"."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:'void setSelection (const int rowNumber, const int newSelection)\n    {\n        dataList->getChildElement (rowNumber)->setAttribute ("Select", newSelection)\uff1b\n    }\n'})}),"\n",(0,s.jsxs)(t.p,{children:["Here we store the toggle state in the child element contained within the ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classXmlElement",title:"Used to build a tree of elements representing an XML document.",children:"XmlElement"})," from the row and column number."]}),"\n",(0,s.jsxs)(t.p,{children:["Create additional custom cell components that incorporate ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classComboBox",title:"A component that lets the user choose from a drop-down list of choices.",children:"\u30b3\u30f3\u30dc\u30dc\u30c3\u30af\u30b9"}),", ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classTextButton",title:"A button that uses the standard lozenge-shaped background with a line of text on it.",children:"\u30c6\u30ad\u30b9\u30c8\u30dc\u30bf\u30f3"})," or even ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classSlider",title:"A slider control for changing a value.",children:"\u30b9\u30e9\u30a4\u30c0\u30fc"})," components."]}),"\n",(0,s.jsx)(t.h1,{id:"sorting-the-data",children:"Sorting the Data"}),"\n",(0,s.jsxs)(t.p,{children:["In order for the table to sort elements based on a chosen column, we have to define a comparator class that can be passed as a template class to be used by the ",(0,s.jsx)(t.code,{children:"sortChildElements()"})," function of the ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classXmlElement",title:"Used to build a tree of elements representing an XML document.",children:"XmlElement"})," object."]}),"\n",(0,s.jsxs)(t.p,{children:["We name this class ",(0,s.jsx)(t.code,{children:"\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u30c7\u30fc\u30bf\u30bd\u30fc\u30bf\u30fc"})," that keeps track of the name of the ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classXmlElement",title:"Used to build a tree of elements representing an XML document.",children:"XmlElement"})," attribute to sort and the ascending or descending direction of the sorting algorithm as follows:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"\u30af\u30e9\u30b9 TutorialDataSorter\n    {\n    public\uff1a\n        TutorialDataSorter (const juce::String& attributeToSortBy, bool forwards)\n            : attributeToSort (attributeToSortBy)\u3001\n              \u65b9\u5411 (forwards ? 1 : -1)\n        {}\n"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"private\uff1a\n        juce::String attributeToSort\uff1b\n        int \u65b9\u5411\uff1b\n    };\n"})}),"\n",(0,s.jsxs)(t.p,{children:["For the ",(0,s.jsx)(t.code,{children:"sortChildElements()"})," function to recognise the ",(0,s.jsx)(t.code,{children:"\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u30c7\u30fc\u30bf\u30bd\u30fc\u30bf\u30fc"})," as a valid comparator, we have to declare a function named ",(0,s.jsx)(t.code,{children:"compareElements()"})," that takes two ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classXmlElement",title:"Used to build a tree of elements representing an XML document.",children:"XmlElement"})," objects and returns the order as an int."]}),"\n",(0,s.jsx)(t.p,{children:"\u3053\u306e\u95a2\u6570\u306f\u623b\u308b\u5fc5\u8981\u304c\u3042\u308b\uff1a"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"\u304c2\u756a\u76ee\u3088\u308a\u524d\u306a\u3089\u8ca0\u306e\u5024\u3002"}),"\n",(0,s.jsx)(t.li,{children:"2\u3064\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u7b49\u4fa1\u3067\u3042\u308c\u3070\u3001\u5024\u306f0\u306b\u306a\u308b\u3002"}),"\n",(0,s.jsx)(t.li,{children:"\u306f\u30012\u3064\u76ee\u304c1\u3064\u76ee\u3088\u308a\u524d\u306b\u6765\u308b\u5834\u5408\u306f\u6b63\u306e\u5024\u3002"}),"\n"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:'int compareElements (juce::XmlElement* first, juce::XmlElement* second) const\n        {\n            auto result = first->getStringAttribute (attributeToSort)\n                                .compareNatural (second->getStringAttribute (attributeToSort)); // [1].\n \n            if (result == 0)\n                result = 1\u756a\u76ee->getStringAttribute\uff08"ID"\uff09\u3002\n                               .compareNatural (second->getStringAttribute ("ID")); // [2].\n \n            return direction * result; // [3].\n        }\n'})}),"\n",(0,s.jsxs)(t.p,{children:["Therefore, in the above function we compare the string attributes of both XmlElements by using the ",(0,s.jsx)(t.code,{children:"compareNatural()"})," method of the ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classString",title:"The JUCE String class!",children:"\u30b9\u30c8\u30ea\u30f3\u30b0"})," class which returns an int with the same set of rules [1]. If the two strings are equivalent for the attribute in question then we compare the ID column of these two elements [2]. Finally we need to invert the result if the direction of sorting is reversed [3]."]}),"\n",(0,s.jsx)(t.h1,{id:"setting-the-model",children:"Setting the Model"}),"\n",(0,s.jsxs)(t.p,{children:["Let's assemble all the pieces together by implementing the ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classTableListBoxModel",title:"One of these is used by a TableListBox as the data model for the table's contents.",children:"\u30c6\u30fc\u30d6\u30eb\u30ea\u30b9\u30c8\u30dc\u30c3\u30af\u30b9\u30e2\u30c7\u30eb"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["We first start by inheriting from the ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classTableListBoxModel",title:"One of these is used by a TableListBox as the data model for the table's contents.",children:"\u30c6\u30fc\u30d6\u30eb\u30ea\u30b9\u30c8\u30dc\u30c3\u30af\u30b9\u30e2\u30c7\u30eb"})," class in the ",(0,s.jsx)(t.code,{children:"\u30c6\u30fc\u30d6\u30eb\u30fb\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u30fb\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8"})," class as shown here:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"class TableTutorialComponent : public juce::Component\u3001\n                                  public juce::TableListBoxModel\n{\n"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"private:\n    juce::TableListBox table  { {}, this };\n    juce::Font font           { 14.0f };\n \n    std::unique_ptr\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u30c7\u30fc\u30bf\n    juce::XmlElement* columnList = nullptr\uff1b\n    juce::XmlElement* dataList = nullptr\uff1b\n    int numRows = 0\uff1b\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Here we define a ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classTableListBox",title:"A table of cells, using a TableHeaderComponent as its header.",children:"\u30c6\u30fc\u30d6\u30eb\u30ea\u30b9\u30c8\u30dc\u30c3\u30af\u30b9"})," member variable and set this class as its ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classTableListBoxModel",title:"One of these is used by a TableListBox as the data model for the table's contents.",children:"\u30c6\u30fc\u30d6\u30eb\u30ea\u30b9\u30c8\u30dc\u30c3\u30af\u30b9\u30e2\u30c7\u30eb"})," which means that our model class actually holds the table itself in this scenario. We also keep track of the number of rows in the table as required by the model."]}),"\n",(0,s.jsxs)(t.p,{children:["In the class constructor we add the ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classTableListBox",title:"A table of cells, using a TableHeaderComponent as its header.",children:"\u30c6\u30fc\u30d6\u30eb\u30ea\u30b9\u30c8\u30dc\u30c3\u30af\u30b9"})," as a child ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classComponent",title:"The base class for all JUCE user-interface objects.",children:"\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8"})," [1]. We can also specify properties for the appearance of the table such as the outline colour and its thickness [2]."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"addAndMakeVisible (table); // [1].\n \n            table.setColour (juce::ListBox::outlineColourId, juce::Colours::grey); // [2].\n            table.setOutlineThickness (1)\uff1b\n"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"table.getHeader().setSortColumnId (1, true); // [3].\n \n            table.setMultipleSelectionEnabled (true); // [4].\n"})}),"\n",(0,s.jsxs)(t.p,{children:["The sorting column and the column visibility is set by calling corresponding functions on the ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classTableHeaderComponent",title:"A component that displays a strip of column headings for a table, and allows these to be resized,...",children:"\u30c6\u30fc\u30d6\u30eb\u30d8\u30c3\u30c0\u30fc\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8"})," of the table [3] and we also allow multiple selections on the table [4]."]}),"\n",(0,s.jsxs)(t.p,{children:["The first function to override is the ",(0,s.jsx)(t.code,{children:"getNumRows()"})," function that returns the member variable holding the number of rows. This function is necessary for the model to update the table properly:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"int getNumRows() \u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\n    {\n        numRows\u3092\u8fd4\u3057\u307e\u3059\uff1b\n    }\n"})}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"paintRowBackground()"})," function is implemented by first finding an alternate colour that complements the default background colour for the table:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"void paintRowBackground (juce::Graphics& g, int rowNumber, int /*width*/, int /*height*/, bool rowIsSelected) override\n    {\n        auto alternateColour = getLookAndFeel().findColour (juce::ListBox::backgroundColourId)\n                                               .interpolatedWith (getLookAndFeel().findColour (juce::ListBox::textColourId), 0.03f)\uff1b\n        if (rowIsSelected)\n            g.fillAll (juce::Colours::lightblue)\uff1b\n        else if (rowNumber % 2)\n            g.fillAll (alternateColour)\uff1b\n    }\n"})}),"\n",(0,s.jsx)(t.p,{children:"\u305d\u306e\u884c\u304c\u9078\u629e\u3055\u308c\u3066\u3044\u308c\u3070\u6c34\u8272\u3067\u5857\u308a\u3064\u3076\u3055\u308c\u3001\u305d\u3046\u3067\u306a\u3051\u308c\u3070\u4ed6\u306e\u3059\u3079\u3066\u306e\u884c\u3092\u3053\u306e\u4ee3\u66ff\u8272\u3067\u5857\u308a\u3064\u3076\u3059\u3002"}),"\n",(0,s.jsxs)(t.p,{children:["In order to fill the cells with content we override the ",(0,s.jsx)(t.code,{children:"\u30da\u30a4\u30f3\u30c8\u30bb\u30eb()"})," function as follows:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"void paintCell (juce::Graphics& g, int rowNumber, int columnId\u3001\n                    int width, int height, bool rowIsSelected) override\n    {\n        g.setColour (rowIsSelected ? juce::Colours::darkblue : getLookAndFeel().findColour (juce::ListBox::textColourId)); // [5].\n        g.setFont (font)\uff1b\n \n        if (auto* rowElement = dataList->getChildElement (rowNumber))\n        {\n            auto text = rowElement->getStringAttribute (getAttributeNameForColumnId (columnId))\uff1b\n \n            g.drawText (text, 2, 0, width - 4, height, juce::Justification::centredLeft, true); // [6].\n        }\n \n        g.setColour (getLookAndFeel().findColour (juce::ListBox::backgroundColourId))\uff1b\n        g.fillRect (width - 1, 0, 1, height); // [7].\n    }\n"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"[5]: First we select an appropriate colour for the text depending on whether the row is selected or not and set the font size."}),"\n",(0,s.jsxs)(t.li,{children:["[6]: If the child row element exists in the ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classXmlElement",title:"Used to build a tree of elements representing an XML document.",children:"XmlElement"})," object, we retrieve the right column from the row and fill the cell with corresponding text from the ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classXmlElement",title:"Used to build a tree of elements representing an XML document.",children:"XmlElement"}),"."]}),"\n",(0,s.jsx)(t.li,{children:"[7]: Finally, we draw the separation line on the right side of the cell with the default background colour."}),"\n"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"void sortOrderChanged (int newSortColumnId, bool isForwards) override\n    {\n        if (newSortColumnId != 0)\n        {\n            TutorialDataSorter sorter (getAttributeNameForColumnId (newSortColumnId), isForwards)\uff1b\n            dataList->sortChildElements (sorter)\uff1b\n \n            table.updateContent()\uff1b\n        }\n    }\n"})}),"\n",(0,s.jsxs)(t.p,{children:["When a sort order change is requested by the user, the ",(0,s.jsx)(t.code,{children:"sortOrderChanged()"})," callback function is called and if the sort column is valid, we instantiate a ",(0,s.jsx)(t.code,{children:"\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u30c7\u30fc\u30bf\u30bd\u30fc\u30bf\u30fc"})," object with the correct attribute and direction. We can then pass that object to the ",(0,s.jsx)(t.code,{children:"sortChildElements()"})," function of the ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classXmlElement",title:"Used to build a tree of elements representing an XML document.",children:"XmlElement"})," and force a table refresh by calling ",(0,s.jsx)(t.code,{children:"updateContent()"})," on the table."]}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"\u30bb\u30eb\u306e\u30ea\u30d5\u30ec\u30c3\u30b7\u30e5\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8()"})," function is where the custom cell components can be instantiated and updated as follows:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"    Component* refreshComponentForCell (int rowNumber, int columnId, bool /*isRowSelected*/,\n                                        Component* existingComponentToUpdate) override\n    {\n        if (columnId == 9)  // [8]\n        {\n            auto* selectionBox = static_cast (existingComponentToUpdate);\n \n            if (selectionBox == nullptr)\n                selectionBox = new SelectionColumnCustomComponent (*this);\n \n            selectionBox->setRowAndColumn (rowNumber, columnId);\n            return selectionBox;\n        }\n \n        if (columnId == 8)  // [9]\n        {\n            auto* textLabel = static_cast(existingComponentToUpdate)\uff1b\n \n            if (textLabel == nullptr)\n                textLabel = new EditableTextCustomComponent (*this)\uff1b\n \n            textLabel->setRowAndColumn (rowNumber, columnId)\uff1b\n            return textLabel\uff1b\n        }\n \n        jassert (existingComponentToUpdate == nullptr)\uff1b\n        return nullptr; // [10\uff3d\n    }\n"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:['[8]: If the function is called on the correct "Select" column for the selection cell, then we check whether the ',(0,s.jsx)(t.code,{children:"\u30bb\u30ec\u30af\u30b7\u30e7\u30f3\u30ab\u30e9\u30e0\u30ab\u30b9\u30bf\u30e0\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8"})," already exists in the cell. If not we instantiate a new instance and update its content by calling the ",(0,s.jsx)(t.code,{children:"setRowAndColumn()"})," function on it and return the ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classComponent",title:"The base class for all JUCE user-interface objects.",children:"\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:['[9]: If the function is called on the correct "Description" column for the text editor cell, then we check whether the ',(0,s.jsx)(t.code,{children:"EditableTextCustomComponent"})," already exists in the cell. If not we instantiate a new instance and update its content by calling the ",(0,s.jsx)(t.code,{children:"setRowAndColumn()"})," function on it and return the ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classComponent",title:"The base class for all JUCE user-interface objects.",children:"\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:["[10]: Otherwise, it means that the function was called on a regular column and the custom ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classComponent",title:"The base class for all JUCE user-interface objects.",children:"\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8"})," object for that cell should be non-existant."]}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["Finally, the ",(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classTableListBox",title:"A table of cells, using a TableHeaderComponent as its header.",children:"\u30c6\u30fc\u30d6\u30eb\u30ea\u30b9\u30c8\u30dc\u30c3\u30af\u30b9"})," offers a nice feature where the columns can be resized according to an automatic behaviour defined hereafter in the ",(0,s.jsx)(t.code,{children:"getColumnAutoSizeWidth()"})," function:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"int getColumnAutoSizeWidth (int columnId) override\n    {\n        if (columnId == 9)\n            50\u3092\u8fd4\u3059\uff1b\n \n        int widest = 32\uff1b\n \n        for (auto i = getNumRows(); --i >= 0;)\n        {\n            if (auto* rowElement = dataList->getChildElement (i))\n            {\n                auto text = rowElement->getStringAttribute (getAttributeNameForColumnId (columnId))\uff1b\n \n                widest = juce::jmax (widest, font.getStringWidth (text))\uff1b\n            }\n        }\n \n        widest + 8\uff1b\n    }\n"})}),"\n",(0,s.jsxs)(t.p,{children:['Here we decide to inspect all the elements in a certain column and retrieve the widest text in a cell. We then return the width with some added padding or a fixed width if the column happens to be the "Select" column with a custom ',(0,s.jsx)(t.a,{href:"https://docs.juce.com/master/classToggleButton",title:"A button that can be toggled on/off.",children:"\u30c8\u30b0\u30eb\u30dc\u30bf\u30f3"}),"."]}),"\n",(0,s.jsx)(t.p,{children:"\u5217\u3084\u30c7\u30fc\u30bf\u3092\u8ffd\u52a0\u3057\u3001\u305d\u308c\u306b\u5fdc\u3058\u3066\u5b9f\u88c5\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u3067\u3001XML\u6587\u66f8\u306e\u5185\u5bb9\u3092\u4fee\u6b63\u3059\u308b\u3002"}),"\n",(0,s.jsx)(t.h1,{id:"\u6982\u8981",children:"\u6982\u8981"}),"\n",(0,s.jsx)(t.p,{children:"\u3053\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3067\u306f\u3001\u60c5\u5831\u3092\u8868\u306b\u8868\u793a\u3059\u308b\u65b9\u6cd5\u3092\u5b66\u3073\u307e\u3057\u305f\u3002\u7279\u306b"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"XML\u3092\u4f7f\u7528\u3057\u3066\u30c6\u30fc\u30d6\u30eb\u306b\u30c7\u30fc\u30bf\u3092\u30ed\u30fc\u30c9\u3002"}),"\n",(0,s.jsx)(t.li,{children:"\u30ab\u30b9\u30bf\u30e0\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u30c6\u30fc\u30d6\u30eb\u30bb\u30eb\u306b\u7d44\u307f\u8fbc\u307f\u307e\u3057\u305f\u3002"}),"\n",(0,s.jsx)(t.li,{children:"\u30ab\u30b9\u30bf\u30e0\u30fb\u30bd\u30fc\u30c8\u52d5\u4f5c\u306b\u5f93\u3063\u3066\u30c6\u30fc\u30d6\u30eb\u30fb\u30c7\u30fc\u30bf\u3092\u30bd\u30fc\u30c8\u3057\u305f\u3002"}),"\n"]}),"\n",(0,s.jsx)(t.h1,{id:"\u95a2\u9023\u9805\u76ee",children:"\u95a2\u9023\u9805\u76ee"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"../tutorial_label/",children:"\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30ebLabel\u30af\u30e9\u30b9"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"../tutorial_combo_box/",children:"\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30ebComboBox\u30af\u30e9\u30b9"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"../tutorial_slider_values/",children:"\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u30b9\u30e9\u30a4\u30c0\u30fc\u30af\u30e9\u30b9"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"../tutorial_radio_buttons_checkboxes/",children:"\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u30e9\u30b8\u30aa\u30dc\u30bf\u30f3\u3068\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9"})}),"\n"]})]})}function u(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},3449:(e,t,n)=>{n.d(t,{A:()=>o});var s=n(4848);function o(e){let{src:t,caption:n,alt:o,width:l,height:i}=e;return(0,s.jsxs)("figure",{children:[(0,s.jsx)("img",{src:t,alt:o||n,width:l,height:i}),(0,s.jsx)("figcaption",{children:(0,s.jsx)("b",{children:n})})]})}},6378:(e,t,n)=>{n.d(t,{A:()=>o});var s=n(4848);function o(e){let{path:t}=e;return(0,s.jsx)("p",{children:(0,s.jsx)("a",{href:`https://docs.juce.com/master/${t}.html`,children:"\ud83d\udcda Source Page"})})}},8453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>r});var s=n(6540);const o={},l=s.createContext(o);function i(e){const t=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(l.Provider,{value:t},e.children)}}}]);