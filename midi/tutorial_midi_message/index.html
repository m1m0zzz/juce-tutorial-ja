<!doctype html>
<html lang="ja" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-midi/tutorial_midi_message" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">MIDIデータの作成 | JUCE日本語版チュートリアル</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://m1m0zzz.github.io/juce-tutorial-ja/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://m1m0zzz.github.io/juce-tutorial-ja/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://m1m0zzz.github.io/juce-tutorial-ja/midi/tutorial_midi_message/"><meta data-rh="true" property="og:locale" content="ja"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="MIDIデータの作成 | JUCE日本語版チュートリアル"><meta data-rh="true" name="description" content="This tutorial introduces the ミディメッセージ class, which is used for representing MIDI data. The ミディバッファ class is also introduced for handling buffers of MIDI messages."><meta data-rh="true" property="og:description" content="This tutorial introduces the ミディメッセージ class, which is used for representing MIDI data. The ミディバッファ class is also introduced for handling buffers of MIDI messages."><link data-rh="true" rel="icon" href="/juce-tutorial-ja/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://m1m0zzz.github.io/juce-tutorial-ja/midi/tutorial_midi_message/"><link data-rh="true" rel="alternate" href="https://m1m0zzz.github.io/juce-tutorial-ja/midi/tutorial_midi_message/" hreflang="ja"><link data-rh="true" rel="alternate" href="https://m1m0zzz.github.io/juce-tutorial-ja/midi/tutorial_midi_message/" hreflang="x-default"><link rel="stylesheet" href="/juce-tutorial-ja/assets/css/styles.ee4ac6b4.css">
<script src="/juce-tutorial-ja/assets/js/runtime~main.2c1dcd22.js" defer="defer"></script>
<script src="/juce-tutorial-ja/assets/js/main.cf826c6e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="メインコンテンツまでスキップ"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">メインコンテンツまでスキップ</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/juce-tutorial-ja/"><div class="navbar__logo"><img src="/juce-tutorial-ja/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/juce-tutorial-ja/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">JUCE日本語版チュートリアル</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/juce-tutorial-ja/">Tutorial</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/m1m0zzz/juce-tutorial-ja" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="ダークモードを切り替える(現在はライトモード)" aria-label="ダークモードを切り替える(現在はライトモード)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="先頭へ戻る" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/juce-tutorial-ja/">About / このサイトについて</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/getting-started/">Getting Started</a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/audio/">Audio</a><button aria-label="Expand sidebar category &#x27;Audio&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/synth/">Synth</a><button aria-label="Expand sidebar category &#x27;Synth&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/juce-tutorial-ja/category/midi/">MIDI</a><button aria-label="Collapse sidebar category &#x27;MIDI&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/juce-tutorial-ja/midi/tutorial_midi_message/">MIDIデータの作成</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/juce-tutorial-ja/midi/tutorial_handling_midi_events/">MIDIイベントの処理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/juce-tutorial-ja/midi/tutorial_mpe_introduction/">マルチ・ポリフォニック・シンセサイザーを作る</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/juce-tutorial-ja/midi/tutorial_mpe_zones/">MPEゾーンの理解</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/juce-tutorial-ja/midi/tutorial_new_projucer_project/">ウェーブテーブル・シンセシス</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/plugins/">Plugins</a><button aria-label="Expand sidebar category &#x27;Plugins&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/dsp/">DSP</a><button aria-label="Expand sidebar category &#x27;DSP&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/graphics/">Graphics</a><button aria-label="Expand sidebar category &#x27;Graphics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/interface-design/">Interface Design</a><button aria-label="Expand sidebar category &#x27;Interface Design&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/mobile/">Mobile</a><button aria-label="Expand sidebar category &#x27;Mobile&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/utility-classes/">Utility Classes</a><button aria-label="Expand sidebar category &#x27;Utility Classes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="パンくずリストのナビゲーション"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ホームページ" class="breadcrumbs__link" href="/juce-tutorial-ja/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/juce-tutorial-ja/category/midi/"><span itemprop="name">MIDI</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">MIDIデータの作成</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">このページの見出し</button></div><div class="theme-doc-markdown markdown"><h1>チュートリアルMIDIデータの作成</h1>
<p>This tutorial introduces the <a href="https://docs.juce.com/master/classMidiMessage" target="_blank" rel="noopener noreferrer" title="Encapsulates a MIDI message.">ミディメッセージ</a> class, which is used for representing MIDI data. The <a href="https://docs.juce.com/master/classMidiBuffer" target="_blank" rel="noopener noreferrer" title="Holds a sequence of time-stamped midi events.">ミディバッファ</a> class is also introduced for handling buffers of MIDI messages.</p>
<p>レベル Beginner</p>
<p>プラットフォーム Windows, macOS, Linux, iOS, Android</p>
<p>クラス： <a href="https://docs.juce.com/master/classMidiMessage" target="_blank" rel="noopener noreferrer" title="Encapsulates a MIDI message.">ミディメッセージ</a>, <a href="https://docs.juce.com/master/classMidiBuffer" target="_blank" rel="noopener noreferrer" title="Holds a sequence of time-stamped midi events.">ミディバッファ</a>, <a href="https://docs.juce.com/master/classTime" target="_blank" rel="noopener noreferrer" title="Holds an absolute date and time.">時間</a>, <a href="https://docs.juce.com/master/classTimer" target="_blank" rel="noopener noreferrer" title="Makes repeated callbacks to a virtual method at a specified time interval.">タイマー</a></p>
<h1>Getting started</h1>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注記</div><div class="admonitionContent_BuS1"><p>This tutorial assumes that you are familiar with MIDI in general. You should also be familiar with using JUCE buttons and sliders (see <a href="/juce-tutorial-ja/midi/tutorial_slider_values/">チュートリアルスライダークラス</a> and <a href="/juce-tutorial-ja/midi/tutorial_listeners_and_broadcasters/">チュートリアルリスナーとブロードキャスター</a>).</p></div></div>
<p>Download the demo project for this tutorial here: <a href="/juce-tutorial-ja/tutorials/PIPs/MidiMessageTutorial.zip/">ピップ</a> | <a href="/juce-tutorial-ja/tutorials/ZIPs/MidiMessageTutorial.zip/">ジップ</a>. Unzip the project and open the first header file in the Projucer.</p>
<p>If you need help with this step, see <a href="/juce-tutorial-ja/midi/tutorial_new_projucer_project/">チュートリアルProjucerパート1：Projucerを始める</a>.</p>
<h1>The demo project</h1>
<p>デモプロジェクトでは、MIDIチャンネル10にMIDIメッセージを作成するための4つのボタンを用意しています。バスドラム、スネアドラム、クローズドハイハット、オープンハイハットです。また、ボリュームコントローラーメッセージ（連続コントローラー7）を作成するスライダーもあります。インターフェイスは次のスクリーンショットのとおりです。</p>
<figure><img src="https://docs.juce.com/master/tutorial_midi_message_screenshot1.png" alt="Drum pad buttons and a volume slider"><figcaption><b>Drum pad buttons and a volume slider</b></figcaption></figure>
<p>右側のパネルには、生成された MIDI メッセージのリストがタイムスタンプ（アプリケーショ ンの起動時刻からの相対時間）とともに表示されま す。</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注記</div><div class="admonitionContent_BuS1"><p>アプリケーションはMIDIデータを送信したり、音を出したりせず、MIDIデータを表示するだけです。</p></div></div>
<h1>The MidiMessage class</h1>
<p>This tutorial illustrates the code required to create some MIDI message types. It also includes some code to parse most MIDI message types. In general, the <a href="https://docs.juce.com/master/classMidiMessage" target="_blank" rel="noopener noreferrer" title="Encapsulates a MIDI message.">ミディメッセージ</a> class contains a range of <code>静的</code> member functions for creating <a href="https://docs.juce.com/master/classMidiMessage" target="_blank" rel="noopener noreferrer" title="Encapsulates a MIDI message.">ミディメッセージ</a> objects (for example the <a title="Creates a key-down message (using a floating-point velocity)." href="/juce-tutorial-ja/midi/tutorial_midi_message/classMidiMessage.html/#a24e09d2737c08842a6e4902554d2899c">MidiMessage::noteOn()</a> function for creating note-on messages). There are also a range of member functions for querying and accessing <a href="https://docs.juce.com/master/classMidiMessage" target="_blank" rel="noopener noreferrer" title="Encapsulates a MIDI message.">ミディメッ  セージ</a> objects (for example, the <a title="Returns true if this message is a &#x27;key-down&#x27; event." href="/juce-tutorial-ja/midi/tutorial_midi_message/classMidiMessage.html/#a590da92c0536e23f9d3c90c99278d789">MidiMessage::isNoteOn()</a> and <a title="Returns the midi note number for note-on and note-off messages." href="/juce-tutorial-ja/midi/tutorial_midi_message/classMidiMessage.html/#a6a5f965e98254fb026c5a20b64edcbc1">MidiMessage::getNoteNumber()</a> functions).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-midimessage-objects">Creating MidiMessage objects<a href="#creating-midimessage-objects" class="hash-link" aria-label="Creating MidiMessage objects への直接リンク" title="Creating MidiMessage objects への直接リンク">​</a></h2>
<p>Have a look at the <a href="/juce-tutorial-ja/midi/tutorial_midi_message/classMidiMessage.html/#pub-static-methods">パブリック静的メンバー関数</a> for the <a href="https://docs.juce.com/master/classMidiMessage" target="_blank" rel="noopener noreferrer" title="Encapsulates a MIDI message.">ミディメッセージ</a> class. This lists all of the functions for creating different types of MIDI message. You can also create <a href="https://docs.juce.com/master/classMidiMessage" target="_blank" rel="noopener noreferrer" title="Encapsulates a MIDI message.">ミディメッセージ</a> objects from the individual bytes or raw data but these <em>マスト</em> be valid MIDI messages according to the MIDI specification. (An assertion will be generated in a debug build if you create an invalid <a href="https://docs.juce.com/master/classMidiMessage" target="_blank" rel="noopener noreferrer" title="Encapsulates a MIDI message.">ミディメッセージ</a> object.)</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注記</div><div class="admonitionContent_BuS1"><p><a href="https://docs.juce.com/master/classMidiMessage" target="_blank" rel="noopener noreferrer" title="Encapsulates a MIDI message.">ミディメッセージ</a> objects should normally be stored as local or member variables and passed by value.</p></div></div>
<p>To create a note-on message use the <a title="Creates a key-down message (using a floating-point velocity)." href="/juce-tutorial-ja/midi/tutorial_midi_message/classMidiMessage.html/#a24e09d2737c08842a6e4902554d2899c">MidiMessage::noteOn()</a> function. This needs the MIDI channel (numbered 1 .. 16), the note number (0 .. 127), and the velocity (as a <code>uint8</code> value 0 .. 127). Alternatively, the velocity can be expressed as a <code>フロート</code> value which will be converted to 0 .. 127 internally (rounded to the nearest integer).</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注記</div><div class="admonitionContent_BuS1"><p>A note-on with zero velocity is actually a note-off message so note-on velocities are in the range 1 .. 127 (which makes the minimum floating-point velocity for a note-on around <code>0.004f</code>). There is also the <a title="Creates a key-up message." href="/juce-tutorial-ja/midi/tutorial_midi_message/classMidiMessage.html/#a8f2c46b2cf557f4e4f55174a68915587">MidiMessage::noteOff()</a> function for specifically creating note-off messages that also allows you to specify a note-off velocity (which is recognised by some synthesisers).</p></div></div>
<p>デモ・プロジェクトでは、ベロシティが100で、どのボタンがクリックされたかによって異なるノート番号のノートオン・メッセージを作成します：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void setNoteNumber (int noteNumber)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto message = juce::MidiMessage::noteOn (midiChannel, noteNumber, (juce::uint8) 100)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        message.setTimeStamp (juce::Time::getMillisecondCounterHiRes() * 0.001 - startTime)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        addMessageToList (message)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Notice that the <code>ノート番号</code> value is set by one of our buttons and gets passed to the setNoteNumber() function. We also need to cast the value <code>100</code> to the <code>uint8</code> type. If we don&#x27;t do this then there is a compiler ambiguity regarding which of the versions of the <a title="Creates a key-down message (using a floating-point velocity)." href="/juce-tutorial-ja/midi/tutorial_midi_message/classMidiMessage.html/#a24e09d2737c08842a6e4902554d2899c">MidiMessage::noteOn()</a> function should be called.</p>
<p>Setting the timestamp of a <a href="https://docs.juce.com/master/classMidiMessage" target="_blank" rel="noopener noreferrer" title="Encapsulates a MIDI message.">ミディメッセージ</a> is optional but it&#x27;s very useful for keeping track of the time that events were generated or received. The default timestamp is zero and the time units of the timestamp are not defined. In general, it is up to the application to decide what time units to use. In this simple case we are using seconds as the units by obtaining the current time using the <a title="Returns the number of millisecs since a fixed event (usually system startup)." href="/juce-tutorial-ja/midi/tutorial_midi_message/classTime.html/#a3f2fcf93d44c6b3828c82f5d4c18b0e4">Time::getMillisecondCounterHiRes()</a> function and multiplying by 0.001 (and subtracting the time that the application started so that this is relative to that point in time).</p>
<p>ボリューム・スライダーは、コンティニュアス・コントローラー（CC）メッセージの作成に使用されます。CC7はボリューム・コントロール変更メッセージです：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">volumeSlider.onValueChange = [this].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            auto message = juce::MidiMessage::controllerEvent (midiChannel, 7, (int) volumeSlider.getValue())；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            message.setTimeStamp (juce::Time::getMillisecondCounterHiRes() * 0.001 - startTime)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            addMessageToList (message)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        };</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="parsing-midimessage-objects">Parsing MidiMessage objects<a href="#parsing-midimessage-objects" class="hash-link" aria-label="Parsing MidiMessage objects への直接リンク" title="Parsing MidiMessage objects への直接リンク">​</a></h2>
<p>Our <code>addMessageToList()</code> function parses the timestamp and the MIDI message so that it can be displayed in the list of messages in our interface:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void addMessageToList (const juce::MidiMessage&amp; message)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto time = message.getTimeStamp()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto 時 = ((int) (time / 3600.0)) % 24；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto minutes = ((int) (time / 60.0)) % 60；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto 秒 = ((int) time) % 60；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto millis = ((int) (time * 1000.0)) % 1000；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto timecode = juce::String::formatted (&quot;%02d:%02d:%02d.%03d&quot;、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                 時間</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                 分</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                 秒、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                 ミリ)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        logMessage (timecode + &quot; - &quot; + getMidiMessageDescription (message))；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>getMidiMessageDescription()</code> function actually parses the MIDI data to get a human-readable description of the message.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">static juce::String getMidiMessageDescription (const juce::MidiMessage&amp; m)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (m.isNoteOn()) return &quot;ノートオン&quot; + juce::MidiMessage::getMidiNoteName (m.getNoteNumber(), true, true, 3)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (m.isNoteOff()) return &quot;ノートオフ&quot; + juce::MidiMessage::getMidiNoteName (m.getNoteNumber(), true, true, 3)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (m.isProgramChange()) return &quot;プログラム変更 &quot; + juce::String (m.getProgramChangeNumber())；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (m.isPitchWheel()) return &quot;ピッチホイール &quot; + juce::String (m.getPitchWheelValue())；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (m.isAftertouch()) return &quot;タッチ後 &quot; + juce::MidiMessage::getMidiNoteName (m.getNoteNumber(), true, true, 3) + &quot;: + juce::String (m.getAfterTouchValue())；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (m.isChannelPressure()) return &quot;チャンネル圧力 &quot; + juce::String (m.getChannelPressureValue())；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (m.isAllNotesOff()) return &quot;全音符オフ&quot;；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (m.isAllSoundOff()) return &quot;全音オフ&quot;；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (m.isMetaEvent()) return &quot;メタ・イベント&quot;；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (m.isController())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            juce::String name (juce::MidiMessage::getControllerName (m.getControllerNumber()))；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (name.isEmpty())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                name = &quot;[&quot; + juce::String (m.getControllerNumber()) + &quot;]&quot;；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return &quot;コントローラ &quot; + name + &quot;: &quot; + juce::String (m.getControllerValue())；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return juce::String::toHexString (m.getRawData(), m.getRawDataSize())；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注記</div><div class="admonitionContent_BuS1"><p>The same functionality is already available through the member function [MidiMessage::getDescription()](classMidiMessage.html#a868d95a096fad999de5ba11f9a2f6340 &quot;Returns a human-readable description of the midi message as a string, for example &quot;Note On C#3 Veloci...&quot;). We do not use the ready-made implementation here but implement it ourselves to illustrate how to work with MIDI messages of different types.</p></div></div>
<p>This function attempts to parse all types of MIDI message (even though we have only looked at creating note-on and controller messages so far). Here you can see the recommended method of accessing the data in a <a href="https://docs.juce.com/master/classMidiMessage" target="_blank" rel="noopener noreferrer" title="Encapsulates a MIDI message.">ミディメッセージ</a> object:</p>
<ul>
<li>MIDIメッセージのタイプを決定する（&quot;is &quot;で  始まる関数のいずれかを使う）。</li>
<li>そのタイプのMIDIメッセージにアクセスするための適切な関数を使用します。</li>
</ul>
<p>We would only reach the final line of this function if the message was a system message (system exclusive, for example). You can access the raw data of any message using <a title="Returns a pointer to the raw midi data." href="/juce-tutorial-ja/midi/tutorial_midi_message/classMidiMessage.html/#acb371198496cdac48c2fe2a96c884913">MidiMessage::getRawData()</a> but generally it is easier (and more readable) to use the range of built-in functions for most purposes.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>警告</div><div class="admonitionContent_BuS1"><p>Using functions to access data in a <a href="https://docs.juce.com/master/classMidiMessage" target="_blank" rel="noopener noreferrer" title="Encapsulates a MIDI message.">ミディメッセージ</a> for messages of the wrong type will lead to errors. For example, the <a title="Returns the midi note number for note-on and note-off messages." href="/juce-tutorial-ja/midi/tutorial_midi_message/classMidiMessage.html/#a6a5f965e98254fb026c5a20b64edcbc1">MidiMessage::getNoteNumber()</a> function will return a value from any <a href="https://docs.juce.com/master/classMidiMessage" target="_blank" rel="noopener noreferrer" title="Encapsulates a MIDI message.">ミディメッセージ</a> object but this doesn&#x27;t confirm that the message is either a note-on or note-off message. You <em>マスト</em> check first with one of the functions <a title="Returns true if this message is a &#x27;key-down&#x27; event." href="/juce-tutorial-ja/midi/tutorial_midi_message/classMidiMessage.html/#a590da92c0536e23f9d3c90c99278d789">MidiMessage::isNoteOn()</a>, <a title="Returns true if this message is a &#x27;key-up&#x27; event." href="/juce-tutorial-ja/midi/tutorial_midi_message/classMidiMessage.html/#af66814dee34738882ba39d8796b77be0">MidiMessage::isNoteOff()</a>, or <a title="Returns true if this message is a &#x27;key-down&#x27; or &#x27;key-up&#x27; event." href="/juce-tutorial-ja/midi/tutorial_midi_message/classMidiMessage.html/#a0d1c1c5927eb898dbacb832f768299bc">MidiMessage::isNoteOnOrOff()</a>.</p></div></div>
<p>Modify the <code>getMidiMessageDescription()</code> function so that it lists the velocity of note-on messages. Check the API reference to find out which function you should use.</p>
<h1>The MidiBuffer class</h1>
<p>One problem with our demo application is that it doesn&#x27;t create note-off messages. We are just creating MIDI messages intended for percussion sounds, so this doesn&#x27;t seem like a big problem. But, it&#x27;s bad practice not to create note-off messages for corresponding note-on messages (with sustaining sounds it will lead to <em>スタック</em> notes).</p>
<p>We could just add a note-off immediately following the note-on in the <code>setNoteNumber()</code> function:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">auto message = juce::MidiMessage::noteOn (1, noteNumber, (uint8) 100)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">message.setTimeStamp (juce::Time::getMillisecondCounterHiRes() * 0.001 - startTime)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">addMessageToList (message)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">auto messageOff = juce::MidiMessage::noteOff (message.getChannel(), message.getNoteNumber())；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">messageOff.setTimeStamp (juce::Time::getMillisecondCounterHiRes() * 0.001 - startTime)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">addMessageToList (messageOff)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">定義 juce_MathsFunctions.h:40</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ノートオフメッセージのタイムスタンプを変更することもできますが（例えばノートオンメッセージの0.1秒後）、これはメッセージがリストに投稿されるときには変更されません：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">auto message = juce::MidiMessage::noteOn (1, noteNumber, (uint8) 100)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">message.setTimeStamp (juce::Time::getMillisecondCounterHiRes() * 0.001 - startTime)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">addMessageToList (message)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">auto messageOff = juce::MidiMessage::noteOff (message.getChannel(), message.getNoteNumber())；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">messageOff.setTimeStamp (message.getTimeStamp() + 0.1)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">addMessageToList (messageOff)；</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <a href="https://docs.juce.com/master/classMidiBuffer" target="_blank" rel="noopener noreferrer" title="Holds a sequence of time-stamped midi events.">ミディバッファ</a> class provides functions for iterating over buffers of MIDI messages based on their timestamps. To illustrate this we will set up a simple scheduling system where we add <a href="https://docs.juce.com/master/classMidiMessage" target="_blank" rel="noopener noreferrer" title="Encapsulates a MIDI message.">ミディメッセージ</a> objects with specific timestamps to a <a href="https://docs.juce.com/master/classMidiBuffer" target="_blank" rel="noopener noreferrer" title="Holds a sequence of time-stamped midi events.">ミディバッファ</a> object. Then we use a <a href="https://docs.juce.com/master/classTimer" target="_blank" rel="noopener noreferrer" title="Makes repeated callbacks to a virtual method at a specified time interval.">タイマー</a> object that checks regularly whether any MIDI messages are due to be delivered.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>警告</div><div class="admonitionContent_BuS1"><p>The <a href="https://docs.juce.com/master/classTimer" target="_blank" rel="noopener noreferrer" title="Makes repeated callbacks to a virtual method at a specified time interval.">タイマー</a> class is not suitable for high-precision timing. This is used to keep the example simple by keeping all function calls on the <em>メッセージスレッド</em>. For more robust timing you should use another thread (in most cases the audio thread is appropriate for rendering <a href="https://docs.juce.com/master/classMidiBuffer" target="_blank" rel="noopener noreferrer" title="Holds a sequence of time-stamped midi events.">ミディバッファ</a> objects in to audio).</p></div></div>
<p>Add some members to our <code>メインコンテンツコンポーネント</code> class:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">juce::MidiBuffer midiBuffer; // [1].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    double sampleRate = 44100.0; // [2].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int previousSampleNumber = 0; // [3].</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>[1]: The <a href="https://docs.juce.com/master/classMidiBuffer" target="_blank" rel="noopener noreferrer" title="Holds a sequence of time-stamped midi events.">ミディバッファ</a> object itself.</li>
<li>[2]: The <a href="https://docs.juce.com/master/classMidiBuffer" target="_blank" rel="noopener noreferrer" title="Holds a sequence of time-stamped midi events.">ミディバッファ</a> class uses <em>サンプル</em> as the units for the timestamps of MIDI messages. Although we are not generating audio we need to choose something to use as the <em>サンプルレート</em>. We use this member to store the sample rate. (We use 44,100 since this is a common value.)</li>
<li>[3]: We need to keep track of which timestamp we have already reached within the <a href="https://docs.juce.com/master/classMidiBuffer" target="_blank" rel="noopener noreferrer" title="Holds a sequence of time-stamped midi events.">ミディバッファ</a>. We use this member to store the this timestamp in samples.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="adding-midi-messages-to-a-midibuffer-object">Adding MIDI messages to a MidiBuffer object<a href="#adding-midi-messages-to-a-midibuffer-object" class="hash-link" aria-label="Adding MIDI messages to a MidiBuffer object への直接リンク" title="Adding MIDI messages to a MidiBuffer object への直接リンク">​</a></h2>
<p>Instead of adding our MIDI message directly to the list of messages, we add them to our <a href="https://docs.juce.com/master/classMidiBuffer" target="_blank" rel="noopener noreferrer" title="Holds a sequence of time-stamped midi events.">ミディバッファ</a> object. Add this function, which calls the <a title="Adds an event to the buffer." href="/juce-tutorial-ja/midi/tutorial_midi_message/classMidiBuffer.html/#a845368d1fa4a8b3f315e2f3508b2003a">MidiBuffer::addEvent()</a> function:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void addMessageToBuffer (const juce::MidiMessage&amp; message)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto timestamp = message.getTimeStamp()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto sampleNumber = (int) (timestamp * sampleRate)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        midiBuffer.addEvent (message, sampleNumber)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Now modify the <code>setNoteNumber()</code> function and the <a title="You can assign a lambda to this callback object to have it called when the slider value is changed." href="/juce-tutorial-ja/midi/tutorial_midi_message/classSlider.html/#a680d007f6a824a28a60aa05b4045e794">スライダー::onValueChange</a> helper object to make use of this function. This allows us to schedule MIDI message events into the future:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void setNoteNumber (int noteNumber)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto message = juce::MidiMessage::noteOn (1, noteNumber, (juce::uint8) 100)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        message.setTimeStamp (juce::Time::getMillisecondCounterHiRes() * 0.001 - startTime)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        addMessageToBuffer (message)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto messageOff = juce::MidiMessage::noteOff (message.getChannel(), message.getNoteNumber())；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        messageOff.setTimeStamp (message.getTimeStamp() + 0.1)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        addMessageToBuffer (messageOff)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">volumeSlider.onValueChange = [this].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            auto message = juce::MidiMessage::controllerEvent (10, 7, (int) volumeSlider.getValue())；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            message.setTimeStamp (juce::Time::getMillisecondCounterHiRes() * 0.001 - startTime)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            addMessageToBuffer (message)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        };</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="iterating-over-a-midibuffer-object">Iterating over a MidiBuffer object<a href="#iterating-over-a-midibuffer-object" class="hash-link" aria-label="Iterating over a MidiBuffer object への直接リンク" title="Iterating over a MidiBuffer object への直接リンク">​</a></h2>
<p>To read the messages from the buffer we need to implement our timer. Add the <a href="https://docs.juce.com/master/classTimer" target="_blank" rel="noopener noreferrer" title="Makes repeated callbacks to a virtual method at a specified time interval.">タイマー</a> class as a base class:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class MainContentComponent : public juce::Component、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                               private juce::Timer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>And implement the <a title="The user-defined callback routine that actually gets called periodically." href="/juce-tutorial-ja/midi/tutorial_midi_message/classTimer.html/#a8adc40ca0fb4170737ba12e30481b9d8">タイマー::タイマーコールバック()</a> function:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void timerCallback() override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto currentTime = juce::Time::getMillisecondCounterHiRes() * 0.001 - startTime；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto currentSampleNumber = (int) (currentTime * sampleRate); // [4].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (const auto metadata : midiBuffer) // [5].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (metadata.samplePosition &gt; currentSampleNumber) // [6].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                break；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            auto message = metadata.getMessage()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            message.setTimeStamp (metadata.samplePosition / sampleRate); // [7].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            addMessageToList (message)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        midiBuffer.clear (previousSampleNumber, currentSampleNumber - previousSampleNumber); // [8].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        previousSampleNumber = currentSampleNumber; // [9].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>[4]: Calculate the current time in samples.</li>
<li>[5]: Iterate over the messages in the buffer.</li>
<li>[6]: If the timestamp for the MIDI message most recently retrieved from the <a href="https://docs.juce.com/master/classMidiBuffer" target="_blank" rel="noopener noreferrer" title="Holds a sequence of time-stamped midi events.">ミディバッファ</a> object is in the future, then we have finished processing and we exit the <code>while()</code> loop.</li>
<li>[7]: The timestamps of the <a href="https://docs.juce.com/master/classMidiMessage" target="_blank" rel="noopener noreferrer" title="Encapsulates a MIDI message.">ミディメッセージ</a> objects obtained will have the timestamps based on sample numbers. Let&#x27;s reset this to our seconds-based timestamp system so that it works with our <code>addMessageToList()</code> function without having to modify it.</li>
<li>[8]: The <a title="Removes all events from the buffer." href="/juce-tutorial-ja/midi/tutorial_midi_message/classMidiBuffer.html/#a220d909954450942ecd87a945a82e7aa">ミディバッファ::クリア()</a> function clears MIDI messages from the buffer that have timestamps within a certain range. We use this to remove messages that we have just processed.</li>
<li>[9]: Keep track of the time that this function executed for use the next time that the <code>timerCallback()</code> function is called.</li>
</ul>
<p>Finally, we need to start the timer in our <code>メインコンテンツコ ンポーネント</code> constructor:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">setSize (800, 300)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        startTimer (1)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注記</div><div class="admonitionContent_BuS1"><p>The code for these modifications can be found in the <code>MidiMessageTutorial_02.h</code> file of the demo project.</p></div></div>
<p>Add buttons for the crash cymbal (note number 49) and ride cymbal (note number 51). Add a slider for panning control (CC10). Space has been left for you to add these three components in the <code>リサイズ</code> function.</p>
<h1>Summary</h1>
<p>This tutorial has introduced the <a href="https://docs.juce.com/master/classMidiMessage" target="_blank" rel="noopener noreferrer" title="Encapsulates a MIDI message.">ミディメッセージ</a> class and the <a href="https://docs.juce.com/master/classMidiBuffer" target="_blank" rel="noopener noreferrer" title="Holds a sequence of time-stamped midi events.">ミディバッファ</a> class. After reading this tutorial you should be able to:</p>
<ul>
<li>Create <a href="https://docs.juce.com/master/classMidiMessage" target="_blank" rel="noopener noreferrer" title="Encapsulates a MIDI message.">ミディメッセージ</a> objects of specific types — note-on, note-off, continuous controller (control change), and so on.</li>
<li>Parse a <a href="https://docs.juce.com/master/classMidiMessage" target="_blank" rel="noopener noreferrer" title="Encapsulates a MIDI message.">ミディメッセージ</a> object to discover its type and obtain useful data from it.</li>
<li>Store MIDI messages in a <a href="https://docs.juce.com/master/classMidiBuffer" target="_blank" rel="noopener noreferrer" title="Holds a sequence of time-stamped midi events.">ミディバッファ</a> object.</li>
<li>Iterate over MIDI messages in a <a href="https://docs.juce.com/master/classMidiBuffer" target="_blank" rel="noopener noreferrer" title="Holds a sequence of time-stamped midi events.">ミディバッファ</a> object based on their timestamps.</li>
</ul>
<h1>See also</h1>
<ul>
<li><a href="/juce-tutorial-ja/midi/tutorial_audio_device_manager/">チュートリアルAudioDeviceManagerクラス</a></li>
<li><a href="/juce-tutorial-ja/midi/tutorial_handling_midi_events/">チュートリアル：MIDIイベントの処理</a></li>
<li><a href="/juce-tutorial-ja/midi/tutorial_synth_using_midi_input/">チュートリアルMIDIシンセサイザーを作る</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/m1m0zzz/juce-tutorial-ja/tree/main/docs/midi/tutorial_midi_message.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>このページを編集</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="ドキュメントページ"><a class="pagination-nav__link pagination-nav__link--prev" href="/juce-tutorial-ja/category/midi/"><div class="pagination-nav__sublabel">前へ</div><div class="pagination-nav__label">MIDI</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/juce-tutorial-ja/midi/tutorial_handling_midi_events/"><div class="pagination-nav__sublabel">次へ</div><div class="pagination-nav__label">MIDIイベントの処理</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#creating-midimessage-objects" class="table-of-contents__link toc-highlight">Creating MidiMessage objects</a></li><li><a href="#parsing-midimessage-objects" class="table-of-contents__link toc-highlight">Parsing MidiMessage objects</a></li><li><a href="#adding-midi-messages-to-a-midibuffer-object" class="table-of-contents__link toc-highlight">Adding MIDI messages to a MidiBuffer object</a></li><li><a href="#iterating-over-a-midibuffer-object" class="table-of-contents__link toc-highlight">Iterating over a MidiBuffer object</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Tutorial</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/juce-tutorial-ja/category/getting-started/">Getting Started</a></li></ul></div><div class="col footer__col"><div class="footer__title">JUCE</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://juce.com/learn/tutorials/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Tutorials<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://juce.com/learn/documentation/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Documentation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://forum.juce.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/m1m0zzz/juce-tutorial-ja" target="_blank" rel="noopener noreferrer" class="footer__link-item">repo<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/juce-framework/JUCE" target="_blank" rel="noopener noreferrer" class="footer__link-item">JUCE GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2024 Raw Material Software Limited. translation: mimoz</div></div></div></footer></div>
</body>
</html>