<!doctype html>
<html lang="ja" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-midi/tutorial_mpe_zones" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">MPEゾーンの理解 | JUCE日本語版チュートリアル</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://m1m0zzz.github.io/juce-tutorial-ja/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://m1m0zzz.github.io/juce-tutorial-ja/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://m1m0zzz.github.io/juce-tutorial-ja/midi/tutorial_mpe_zones/"><meta data-rh="true" property="og:locale" content="ja"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="MPEゾーンの理解 | JUCE日本語版チュートリアル"><meta data-rh="true" name="description" content="MPE規格で定義されているゾーンの概念とゾーンレイアウトの規約を学びます。MPEシンセサイザーをMPE対応機器に接続します。"><meta data-rh="true" property="og:description" content="MPE規格で定義されているゾーンの概念とゾーンレイアウトの規約を学びます。MPEシンセサイザーをMPE対応機器に接続します。"><link data-rh="true" rel="icon" href="/juce-tutorial-ja/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://m1m0zzz.github.io/juce-tutorial-ja/midi/tutorial_mpe_zones/"><link data-rh="true" rel="alternate" href="https://m1m0zzz.github.io/juce-tutorial-ja/midi/tutorial_mpe_zones/" hreflang="ja"><link data-rh="true" rel="alternate" href="https://m1m0zzz.github.io/juce-tutorial-ja/midi/tutorial_mpe_zones/" hreflang="x-default"><link rel="stylesheet" href="/juce-tutorial-ja/assets/css/styles.ee4ac6b4.css">
<script src="/juce-tutorial-ja/assets/js/runtime~main.2c1dcd22.js" defer="defer"></script>
<script src="/juce-tutorial-ja/assets/js/main.cf826c6e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="メインコンテンツまでスキップ"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">メインコンテンツまでスキップ</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/juce-tutorial-ja/"><div class="navbar__logo"><img src="/juce-tutorial-ja/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/juce-tutorial-ja/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">JUCE日本語版チュートリアル</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/juce-tutorial-ja/">Tutorial</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/m1m0zzz/juce-tutorial-ja" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="ダークモードを切り替える(現在はライトモード)" aria-label="ダークモードを切り替える(現在はライトモード)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="先頭へ戻る" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/juce-tutorial-ja/">About / このサイトについて</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/getting-started/">Getting Started</a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/audio/">Audio</a><button aria-label="Expand sidebar category &#x27;Audio&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/synth/">Synth</a><button aria-label="Expand sidebar category &#x27;Synth&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/juce-tutorial-ja/category/midi/">MIDI</a><button aria-label="Collapse sidebar category &#x27;MIDI&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/juce-tutorial-ja/midi/tutorial_midi_message/">MIDIデータの作成</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/juce-tutorial-ja/midi/tutorial_handling_midi_events/">MIDIイベントの処理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/juce-tutorial-ja/midi/tutorial_mpe_introduction/">マルチ・ポリフォニック・シンセサイザーを作る</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/juce-tutorial-ja/midi/tutorial_mpe_zones/">MPEゾーンの理解</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/juce-tutorial-ja/midi/tutorial_new_projucer_project/">ウェーブテーブル・シンセシス</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/plugins/">Plugins</a><button aria-label="Expand sidebar category &#x27;Plugins&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/dsp/">DSP</a><button aria-label="Expand sidebar category &#x27;DSP&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/graphics/">Graphics</a><button aria-label="Expand sidebar category &#x27;Graphics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/interface-design/">Interface Design</a><button aria-label="Expand sidebar category &#x27;Interface Design&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/mobile/">Mobile</a><button aria-label="Expand sidebar category &#x27;Mobile&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/utility-classes/">Utility Classes</a><button aria-label="Expand sidebar category &#x27;Utility Classes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="パンくずリストのナビゲーション"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ホームページ" class="breadcrumbs__link" href="/juce-tutorial-ja/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/juce-tutorial-ja/category/midi/"><span itemprop="name">MIDI</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">MPEゾーンの理解</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">このページの見出し</button></div><div class="theme-doc-markdown markdown"><h1>チュートリアルMPEゾーンの理解</h1>
<p>MPE規格で定義されているゾーンの概念とゾーンレイアウトの規約を学びます。MPEシンセサイザーをMPE対応機器に接続します。</p>
<p>レベル Intermediate</p>
<p>プラットフォーム Windows, macOS, Linux</p>
<p>クラス： <a href="https://docs.juce.com/master/classMPEZoneLayout" target="_blank" rel="noopener noreferrer" title="This class represents the current MPE zone layout of a device capable of handling MPE.">MPEZoneLayout</a>, MPEZoneLayout::Zone, <a href="https://docs.juce.com/master/classMPEMessages" target="_blank" rel="noopener noreferrer" title="This helper class contains the necessary helper functions to generate MIDI messages that are exclusiv...">MPメッセージ</a>, <a href="https://docs.juce.com/master/classMPESynthesiser" target="_blank" rel="noopener noreferrer" title="Base class for an MPE-compatible musical device that can play sounds.">MPESynthesiser</a></p>
<h1>Getting started</h1>
<p>Download the demo project for this tutorial here: <a href="/juce-tutorial-ja/tutorials/PIPs/MPEZonesTutorial.zip/">ピップ</a> | <a href="/juce-tutorial-ja/tutorials/ZIPs/MPEZonesTutorial.zip/">ジップ</a>. Unzip the project and open the first header file in the Projucer.</p>
<p>If you need help with this step, see <a href="/juce-tutorial-ja/midi/tutorial_new_projucer_project/">チュートリアルProjucerパート1：Projucerを始める</a>.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注記</div><div class="admonitionContent_BuS1"><p>It would be helpful to read <a href="/juce-tutorial-ja/midi/tutorial_mpe_introduction/">チュートリアルマルチ・ポリフォニック・シンセサイザーを作る</a> first, as this is used as a reference point in a number of places.</p></div></div>
<h1>The demo project</h1>
<p>The demo project is similar to the <code>MPEDemo</code> project in the <code>JUCE/例</code> directory and builds upon the simplified version in <a href="/juce-tutorial-ja/midi/tutorial_mpe_introduction/">チュートリアルマルチ・ポリフォニック・シンセサイザーを作る</a>. In order to get the most out of this tutorial you will need an <a href="https://support.roli.com/article/what-is-mpe/" target="_blank" rel="noopener noreferrer">MPE</a> compatible controller. <a href="https://support.roli.com/article/what-is-mpe/" target="_blank" rel="noopener noreferrer">MPE</a> stands for <em>MIDIポリフォニック・エクスプレッション</em>, a specification that allows multidimensional data to be communicated between audio products.</p>
<p>Some examples of such <a href="https://support.roli.com/article/what-is-mpe/" target="_blank" rel="noopener noreferrer">MPE</a> compatible devices are ROLI&#x27;s own Seaboard range (such as the <a href="https://roli.com/products/seaboard-rise" target="_blank" rel="noopener noreferrer">シーボード・ライズ</a>) and the BLOCKS range (such as the <a href="https://roli.com/products/lightpad-block" target="_blank" rel="noopener noreferrer">ライトパッド・ブロック</a>).</p>
<p>With a <a href="https://roli.com/products/lightpad-block" target="_blank" rel="noopener noreferrer">ラ イトパッド・ブロック</a> connected to your computer the window of the demo application should look something like the following screenshot:</p>
<figure><img src="https://docs.juce.com/master/tutorial_mpe_zones_screenshot1.png" alt="The demo application"><figcaption><b>The demo application</b></figcaption></figure>
<p>You will need to enable one of the MIDI inputs (here you can see a <a href="https://roli.com/products/lightpad-block" target="_blank" rel="noopener noreferrer">ライトパッド・ブロック</a> is shown as an option).</p>
<p>Any notes played on your <a href="https://support.roli.com/article/what-is-mpe/" target="_blank" rel="noopener noreferrer">MPE</a> compatible device will be visualised in the lower portion of the window as explained in the <a href="/juce-tutorial-ja/midi/tutorial_mpe_introduction/">チュートリアルマルチ・ポリフォニック・シンセサイザーを作る</a> tutorial.</p>
<h1>MPE Specifications</h1>
<p>In the introductory tutorial <a href="/juce-tutorial-ja/midi/tutorial_mpe_introduction/">チュートリアルマルチ・ポリフォニック・シンセサイザーを作る</a>, we were able to implement an MPE-compatible synthesiser easily by bypassing the standard MPE configuration process using legacy mode. In this tutorial, let&#x27;s configure our synthesiser by following the procedure described in the latest MPE standard.</p>
<p>シンセサイザが MPE モードで動作しているかどうかを判断するためには、MPE ゾーンの概念が必要である。MPE コンフィギュレーション・メッセージ(MCM)を使用して少なくとも1つのゾーンが定義されていれば、MPE モードである。そうでない場合、ゾーンが定義されていなければMPEモードはオフです。では、ゾーンとは何でしょうか？</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="mpe-zones">MPE Zones<a href="#mpe-zones" class="hash-link" aria-label="MPE Zones への直接リンク" title="MPE Zones への直接リンク">​</a></h2>
<p>ゾーンの概念はMPE固有の用語で、1つのマスター・チャンネルと1つ以上のメンバー・チャンネルからなる連続したMIDIチャンネルのグループを表す。</p>
<p>マスター・チャンネルはゾーン全体に適用されるメッセージを受信するのに対し、メンバー・チャンネルは個別に適用されるメッセージのみを受信する。</p>
<p>MPEでは、最大2つのゾーンを持つことができ、それらはロワーゾーンとアッパーゾーンとして定義される。</p>
<ul>
<li><em>下部ゾーン</em>: Channel 1 as the Master Channel and one or more Member Channels allocated increasing from channel 2.</li>
<li><em>アッパーゾーン</em>: Channel 16 as the Master Channel and one or more Member Channels allocated descending from channel 15.</li>
</ul>
<p>メンバー・チャンネルは一度に一つのゾーンにしか所属できず、最新のMCMが以前のものより優先される。</p>
<p>例として、Lower Zoneにチャンネル2から10を、Upper Zoneにチャンネル11から15を設定することができる。</p>
<p>また、「下部ゾーン」または「上部ゾーン」のいずれかを使用して、単一のゾーンに制限することもできる。ただし、デフォルトでは「下部ゾーン」を使用することを推奨する。単一ゾーンのシナリオでは、未使用のマスター・チャンネルを 他のゾーンのメンバー・チャンネルとして使用できる。</p>
<p>MPEゾーンは、ゾーンのマスター・チャンネルにメンバー・チャンネルのないMCMを送信することでオフにすることができ、したがってMPEモードは、すべてのゾーンが空になるとオフになる。</p>
<p>In JUCE, the implementation of a zone is encapsulated in the MPEZoneLayout::Zone struct and different zone configurations can be defined using the <a href="https://docs.juce.com/master/classMPEZoneLayout" target="_blank" rel="noopener noreferrer" title="This class represents the current MPE zone layout of a device capable of handling MPE.">MPEZoneLayout</a> class.</p>
<p>ゾーンは、1つのMPEコントローラーを使用して異なる音色特性を提供する便利な手段であり、マスター・チャンネルを使用してチャンネル・グループにまたがるMIDIメッセージの伝搬を容易にします。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="midi-modes">MIDI Modes<a href="#midi-modes" class="hash-link" aria-label="MIDI Modes への直接リンク" title="MIDI Modes への直接リンク">​</a></h2>
<p>MPEでサポートされているMIDIモードは、主にMIDIモード3と4の2つです。</p>
<ul>
<li><strong>MIDIモード3</strong> (<em>ポリモード</em>): In Poly Mode, a single MIDI channel can hold multiple notes simultaneously however, channel messages will affect all active notes on that channel. When a new MIDI note is created, the controller tries to assign it to an empty channel when possible, otherwise assigns it to a channel with existing active notes.</li>
<li><strong>MIDIモード4</strong> (<em>モノ・モード</em>): In Mono Mode, a single MIDI channel can only hold a single note and when a new MIDI note is created, if the other channels are full, the controller will overwrite existing active notes.</li>
</ul>
<p>MPEはMIDIモード3（ポリ・モード）で正しく動作するように設計されていますが、MIDIモード4（モノ・モード）でも使用できます。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="note-level-vs-zone-level-messages">Note Level vs Zone Level Messages<a href="#note-level-vs-zone-level-messages" class="hash-link" aria-label="Note Level vs Zone Level Messages への直接リンク" title="Note Level vs Zone Level Messages への直接リンク">​</a></h2>
<p>MIDIメッセージがマスター・チャンネルとメンバー・チャンネルのどちらに送信されるかに応  じて、それぞれゾーン・レベル・メッセージまたはノート・レベル・メッセージと呼ぶことにします。ゾーン内のマスター・チャンネルとメンバー・チャンネルの両方に送信されるメッセージもあります。このような場合、受信側のシンセサイザーは両方の情報を適切な方法で組み合わせなければなりません。</p>
<p>ゾーン・レベルとして送信しなければならないメッセージは以下の通り：</p>
<ul>
<li><strong>CC#1、#33</strong>: Control Change for <em>変調</em>. This CC can be sent at Note Level but will be ignored.</li>
<li><strong>CC7位、39位</strong>: Control Change for <em>ボリューム</em>. This CC can be sent at Note Level but will be ignored.</li>
<li><strong>CC64号</strong>: Control Change for a <em>ダンパーペダル</em>. This CC can be sent at Note Level but will be ignored.</li>
<li><strong>CC #120</strong>: Control Change to turn all sounds off. This CC can be sent at Note Level but will be ignored.</li>
<li><strong>CC127号</strong>: Control Change to reset all controllers. This CC can only be sent at Zone Level.</li>
<li><em>ポリフォニック・キー・プレッシャー</em>: PKP is a future extension of the MPE specifications that are sent on the Master Channel.</li>
<li><em>MPEコンフィギュレーション</em> (MCM): MCMs are sent on the Master Channels to configure as described earlier.</li>
</ul>
<p>ゾーン・レベルおよびノート・レベルとして送信できるメッセージは以下の通り：</p>
<ul>
<li><em>ピッチベンド</em>: Control Change for the first dimension also called <em>グライド</em>. <em>ピッチベンド</em> information must be combined if received at both message levels.</li>
<li><em>チャンネル圧力</em>: Control Change for the second dimension also called <em>プレス</em>. <em>チャンネル圧力</em> information must be combined if received at both message levels.</li>
<li><em>スタ  ンプ</em> (<strong>CC74号</strong>): Control Change for the third dimension also called <em>スライド</em>. <em>スタンプ</em> information must be combined if received at both message levels.</li>
<li><em>ピッチベンド感度</em>: Control Change for changing pitch bend sentivity that should be sent to all Member Channels when used as Note Level.</li>
<li><em>プログラム変更／銀行選択</em>: Program Changes are sent on the Master Channel unless in MIDI Mode 4 where they are sent on Member Channels.</li>
</ul>
<p>通常、ノート・レベルとして送信されるメッセージは以下の通り：</p>
<ul>
<li><em>音符のオン／オフ</em>: <em>注</em> and <em>ノートオフ</em> messages should be sent on the appropriate Member Channel but are permitted on the Master Channel for backwards compatibility.</li>
<li><em>MIDIモード</em> (<strong>CC＃126、＃127</strong>): Control Changes for switching between MIDI Mode 3 and 4 are sent to the lowest Member Channel.</li>
</ul>
<p>これらのメッセージレベルは、シンセサイザー内のゾーンを定義する際の設計上の決定に影響を与えるので、覚えておくことが重要です。</p>
<h1>Configuring Zones</h1>
<p>Without legacy mode as implemented in <a href="/juce-tutorial-ja/midi/tutorial_mpe_introduction/">チュートリアルマルチ・ポリフォニック・シンセサイザーを作る</a>, our synth will not output any sound until we configure at least one zone.</p>
<p>In the <code>MPESetupComponent</code> class, we add three button callbacks using lambda functions that allow creation and deletion of zones. We can either create lower and upper zones or clear all the zones in our zone layout.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">MPESetupComponent()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        addAndMakeVisible (isLowerZoneButton)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        isLowerZoneButton.setToggleState (true, juce::NotificationType::dontSendNotification)；</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">addAndMakeVisible (setZoneButton)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        setZoneButton.onClick = [this] { setZoneButtonClicked(); }；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        addAndMakeVisible (clearAllZonesButton)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        clearAllZonesButton.onClick = [this] { clearAllZonesButtonClicked(); }；</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>When the user decides to set a zone, the <code>setZoneButtonClicked()</code> function is called as defined here:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void setZoneButtonClicked()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto isLowerZone = isLowerZoneButton.getToggleState()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto numMemberChannels = memberChannels.getText().getIntValue()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto perNotePb = notePitchbendRange.getText().getIntValue()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto masterPb = masterPitchbendRange.getText().getIntValue()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (isLowerZone)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            zoneLayout.setLowerZone (numMemberChannels, perNotePb, masterPb)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            zoneLayout.setUpperZone (numMemberChannels, perNotePb, masterPb)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        listeners.call ([&amp;] (Listener&amp; l) { l.zoneChanged (isLowerZone, numMemberChannels, perNotePb, masterPb); })；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>We first create new local variables to store the lower/upper zone choice, the number of member channels, the zone level pitch bend and the note level pitch bend. We then set the Zone in our <a href="https://docs.juce.com/master/classMPEZoneLayout" target="_blank" rel="noopener noreferrer" title="This class represents the current MPE zone layout of a device capable of handling MPE.">MPEZoneLayout</a> object by calling the corresponding <code>setLowerZone()</code> or <code>setUpperZone()</code> function.</p>
<p>To handle the callback when clearing the zones, we simply call the <code>clearAllZones()</code> function on the <a href="https://docs.juce.com/master/classMPEZoneLayout" target="_blank" rel="noopener noreferrer" title="This class represents the current MPE zone layout of a device capable of handling MPE.">MPEZoneLayout</a> object which removes all the zones as follows:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void clearAllZonesButtonClicked()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        zoneLayout.clearAllZones()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        listeners.call ([] (Listener&amp; l) { l.allZonesCleared(); })；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>Configuring the Synth</h1>
<p>Since the <code>MPESetupComponent</code> class acts as a broadcaster, we can register as a listener in the <code>メインコンポーネント</code> class in order to receive callbacks when the zone layout has changed.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class MainComponent : public juce::Component、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      private juce::AudioIODeviceCallback、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      private juce::MidiInputCallback、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      private MPESetupComponent::Listener</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public：</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>そして、対応する関数をオーバーライドして、それに応じてシンセサ イザーを設定することができる。</p>
<p>In the <code>zoneChanged()</code> callback, we set the newly-created Zone to the <a href="https://docs.juce.com/master/classMPEZoneLayout" target="_blank" rel="noopener noreferrer" title="This class represents the current MPE zone layout of a device capable of handling MPE.">MPEZoneLayout</a> member variable [1]. We can then pass the <a href="https://docs.juce.com/master/classMPEZoneLayout" target="_blank" rel="noopener noreferrer" title="This class represents the current MPE zone layout of a device capable of handling MPE.">MPEZoneLayout</a> object to the <a href="https://docs.juce.com/master/classMPESynthesiser" target="_blank" rel="noopener noreferrer" title="Base class for an MPE-compatible musical device that can play sounds.">MPESynthesiser</a> by calling <code>setZoneLayout()</code> on it [2]:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void zoneChanged (bool isLowerZone, int numemberChannels、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      int perNotePitchbendRange, int masterPitchbendRange) override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto* midiOutput = audioDeviceManager.getDefaultMidiOutput()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (midiOutput != nullptr)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (isLowerZone)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                midiOutput-&gt;sendBlockOfMessagesNow (juce::MPEMessages::setLowerZone (numMemberChannels, perNotePitchbendRange, masterPitchbendRange))；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                midiOutput-&gt;sendBlockOfMessagesNow (juce::MPEMessages::setUpperZone (numMemberChannels, perNotePitchbendRange, masterPitchbendRange))；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (isLowerZone)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            zoneLayout.setLowerZone (numMemberChannels, perNotePitchbendRange, masterPitchbendRange)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            zoneLayout.setUpperZone (numMemberChannels, perNotePitchbendRange, masterPitchbendRange)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        visualiserInstrument.setZoneLayout (zoneLayout)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        synth.setZoneLayout (zoneLayout)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        colorPicker.setZoneLayout (zoneLayout)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In the <code>allZonesCleared()</code> callback, we empty all zones in the <a href="https://docs.juce.com/master/classMPEZoneLayout" target="_blank" rel="noopener noreferrer" title="This class represents the current MPE zone layout of a device capable of handling MPE.">MPEZoneLayout</a> member variable [3]. We can then similarly pass the <a href="https://docs.juce.com/master/classMPEZoneLayout" target="_blank" rel="noopener noreferrer" title="This class represents the current MPE zone layout of a device capable of handling MPE.">MPEZoneLayout</a> object to the <a href="https://docs.juce.com/master/classMPESynthesiser" target="_blank" rel="noopener noreferrer" title="Base class for an MPE-compatible musical device that can play sounds.">MPESynthesiser</a> by calling <code>setZoneLayout()</code> on it [4]:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void allZonesCleared() オーバーライド</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto* midiOutput = audioDeviceManager.getDefaultMidiOutput()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (midiOutput != nullptr)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            midiOutput-&gt;sendBlockOfMessagesNow (juce::MPEMessages::clearAllZones())；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        zoneLayout.clearAllZones()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        visualiserInstrument.setZoneLayout (zoneLayout)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        synth.setZoneLayout (zoneLayout)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        colorPicker.setZoneLayout (zoneLayout)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>When the number of <a href="https://docs.juce.com/master/classMPESynthesiserVoice" target="_blank" rel="noopener noreferrer" title="Represents an MPE voice that an MPESynthesiser can use to play a sound.">MPESynthesiserVoice</a> objects is modified, we receive the <code>numberOfVoicesChanged()</code> callback which allows us to remove or add voices by respectively using the <code>reduceNumVoices()</code> and <code>addVoice()</code> functions on the <a href="https://docs.juce.com/master/classMPESynthesiser" target="_blank" rel="noopener noreferrer" title="Base class for an MPE-compatible musical device that can play sounds.">MPESynthesiser</a> object:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void numberOfVoicesChanged (int numberOfVoices) override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (numberOfVoices &lt; synth.getNumVoices())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            synth.reduceNumVoices (numberOfVoices)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            while (synth.getNumVoices() &lt; numberOfVoices)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                synth.addVoice (new MPEDemoSynthVoice())；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>Assigning Pitch Bend</h1>
<p>シンセサイザーを走らせれば、1ゾーンあたりのメンバー・チャンネル数をカスタマイズしながら、ロワーゾーンとアッパーゾーンを追加することができる。</p>
<figure><img src="https://docs.juce.com/master/tutorial_mpe_zones_screenshot2.png" alt="Different zones in the demo application"><figcaption><b>Different zones in the demo application</b></figcaption></figure>
<p>ロワーゾーンとアッパーゾーンに異なるピッチベンド感度を割り当ててみて、異なるゾーンのMIDIチャンネルにアサインされたノートのピッチベンドに与える影響に注目してください。</p>
<p>Assign different sounds to lower and upper zones in the <code>MPEDemoSynthVoice</code> class and crossfade between a triangle and a sawtooth waveform in response to the <em>ベル</em> parameter.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注記</div><div class="admonitionContent_BuS1"><p>The source code for this exercise can be found in the <code>MPEZonesTutorial_02.h</code> file of the demo project.</p></div></div>
<h1>Summary</h1>
<p>このチュートリアルでは、MPEゾーンとノートの管理方法について学びました。特に</p>
<ul>
<li>Learnt the conventions when setting up a Zone and an <a href="https://docs.juce.com/master/classMPEZoneLayout" target="_blank" rel="noopener noreferrer" title="This class represents the current MPE zone layout of a device capable of handling MPE.">MPEZoneLayout</a>.</li>
<li>MPEと互換性のある2つのMIDIモードを理解。</li>
<li>ノート・レベルとゾーン・レベルのメッセージの違いについて調べました。</li>
<li>ロワーゾーンとアッパーゾーンに異なるピッチベンド感度を割り当てる。</li>
</ul>
<h1>See also</h1>
<ul>
<li><a href="/juce-tutorial-ja/midi/tutorial_mpe_introduction/">チュートリアルマルチ・ポリフォニック・シンセサイザーを作る</a></li>
<li><a href="/juce-tutorial-ja/midi/tutorial_handling_midi_events/">チュートリアル：MIDIイベントの処理</a></li>
<li><a href="/juce-tutorial-ja/midi/tutorial_midi_message/">チュートリアルMIDIデータの作成</a></li>
<li><a href="/juce-tutorial-ja/midi/tutorial_synth_using_midi_input/">チュートリアルMIDIシンセサイザーを作る</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/m1m0zzz/juce-tutorial-ja/tree/main/docs/midi/tutorial_mpe_zones.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>このページを編  集</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="ドキュメントページ"><a class="pagination-nav__link pagination-nav__link--prev" href="/juce-tutorial-ja/midi/tutorial_mpe_introduction/"><div class="pagination-nav__sublabel">前へ</div><div class="pagination-nav__label">マルチ・ポリフォニック・シンセサイザーを作る</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/juce-tutorial-ja/midi/tutorial_new_projucer_project/"><div class="pagination-nav__sublabel">次へ</div><div class="pagination-nav__label">ウェーブテーブル・シンセシス</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#mpe-zones" class="table-of-contents__link toc-highlight">MPE Zones</a></li><li><a href="#midi-modes" class="table-of-contents__link toc-highlight">MIDI Modes</a></li><li><a href="#note-level-vs-zone-level-messages" class="table-of-contents__link toc-highlight">Note Level vs Zone Level Messages</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Tutorial</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/juce-tutorial-ja/category/getting-started/">Getting Started</a></li></ul></div><div class="col footer__col"><div class="footer__title">JUCE</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://juce.com/learn/tutorials/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Tutorials<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://juce.com/learn/documentation/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Documentation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://forum.juce.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/m1m0zzz/juce-tutorial-ja" target="_blank" rel="noopener noreferrer" class="footer__link-item">repo<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/juce-framework/JUCE" target="_blank" rel="noopener noreferrer" class="footer__link-item">JUCE GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2024 Raw Material Software Limited. translation: mimoz</div></div></div></footer></div>
</body>
</html>