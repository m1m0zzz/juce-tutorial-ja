<!doctype html>
<html lang="ja" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-midi/tutorial_mpe_introduction" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">マルチ・ポリフォニック・シンセサイザーを作る | JUCE日本語版チュートリアル</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://m1m0zzz.github.io/juce-tutorial-ja/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://m1m0zzz.github.io/juce-tutorial-ja/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://m1m0zzz.github.io/juce-tutorial-ja/midi/tutorial_mpe_introduction/"><meta data-rh="true" property="og:locale" content="ja"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="マルチ・ポリフォニック・シンセサイザーを作る | JUCE日本語版チュートリアル"><meta data-rh="true" name="description" content="MPE規格の基礎とMPEに対応したシンセサイザーの実装方法を学びます。アプリケーションをROLI Seaboard Riseに接続します！"><meta data-rh="true" property="og:description" content="MPE規格の基礎とMPEに対応したシンセサイザーの実装方法を学びます。アプリケーションをROLI Seaboard Riseに接続します！"><link data-rh="true" rel="icon" href="/juce-tutorial-ja/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://m1m0zzz.github.io/juce-tutorial-ja/midi/tutorial_mpe_introduction/"><link data-rh="true" rel="alternate" href="https://m1m0zzz.github.io/juce-tutorial-ja/midi/tutorial_mpe_introduction/" hreflang="ja"><link data-rh="true" rel="alternate" href="https://m1m0zzz.github.io/juce-tutorial-ja/midi/tutorial_mpe_introduction/" hreflang="x-default"><link rel="stylesheet" href="/juce-tutorial-ja/assets/css/styles.ee4ac6b4.css">
<script src="/juce-tutorial-ja/assets/js/runtime~main.5add7671.js" defer="defer"></script>
<script src="/juce-tutorial-ja/assets/js/main.cf826c6e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="メインコンテンツまでスキップ"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">メインコンテンツまでスキップ</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/juce-tutorial-ja/"><div class="navbar__logo"><img src="/juce-tutorial-ja/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/juce-tutorial-ja/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">JUCE日本語版チュートリアル</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/juce-tutorial-ja/">Tutorial</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/m1m0zzz/juce-tutorial-ja" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="ダークモードを切り替える(現在はライトモード)" aria-label="ダークモードを切り替える(現在はライトモード)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="先頭へ戻る" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/juce-tutorial-ja/">About / このサイトについて</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/getting-started/">Getting Started</a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/audio/">Audio</a><button aria-label="Expand sidebar category &#x27;Audio&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/synth/">Synth</a><button aria-label="Expand sidebar category &#x27;Synth&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/juce-tutorial-ja/category/midi/">MIDI</a><button aria-label="Collapse sidebar category &#x27;MIDI&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/juce-tutorial-ja/midi/tutorial_midi_message/">MIDIデータの作成</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/juce-tutorial-ja/midi/tutorial_handling_midi_events/">MIDIイベントの処理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/juce-tutorial-ja/midi/tutorial_mpe_introduction/">マルチ・ポリフォニック・シンセサイザーを作る</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/juce-tutorial-ja/midi/tutorial_mpe_zones/">MPEゾーンの理解</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/juce-tutorial-ja/midi/tutorial_new_projucer_project/">ウェーブテーブル・シンセシス</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/plugins/">Plugins</a><button aria-label="Expand sidebar category &#x27;Plugins&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/dsp/">DSP</a><button aria-label="Expand sidebar category &#x27;DSP&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/graphics/">Graphics</a><button aria-label="Expand sidebar category &#x27;Graphics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/interface-design/">Interface Design</a><button aria-label="Expand sidebar category &#x27;Interface Design&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/mobile/">Mobile</a><button aria-label="Expand sidebar category &#x27;Mobile&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/utility-classes/">Utility Classes</a><button aria-label="Expand sidebar category &#x27;Utility Classes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="パンくずリストのナビゲーション"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ホームページ" class="breadcrumbs__link" href="/juce-tutorial-ja/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/juce-tutorial-ja/category/midi/"><span itemprop="name">MIDI</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">マルチ・ポリフォニック・シンセサイザーを作る</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">このページの見出し</button></div><div class="theme-doc-markdown markdown"><h1>チュートリアルマルチ・ポリフォニック・シンセサイザーを作る</h1>
<p>MPE規格の基礎とMPEに対応したシンセサイザーの実装方法を学びます。アプリケーションをROLI Seaboard Riseに接続します！</p>
<p>レベル Intermediate</p>
<p>プラットフォーム Windows, macOS, Linux</p>
<p>クラス： <a href="https://docs.juce.com/master/classMPESynthesiser" target="_blank" rel="noopener noreferrer" title="Base class for an MPE-compatible musical device that can play sounds.">MPESynthesiser</a>, <a href="https://docs.juce.com/master/classMPEInstrument" target="_blank" rel="noopener noreferrer" title="This class represents an instrument handling MPE.">MPEインストゥルメント</a>, <a href="https://docs.juce.com/master/structMPENote" target="_blank" rel="noopener noreferrer" title="This struct represents a playing MPE note.">MPENote</a>, <a href="https://docs.juce.com/master/classMPEValue" target="_blank" rel="noopener noreferrer" title="This class represents a single value for any of the MPE dimensions of control.">MPEValue</a>, <a href="https://docs.juce.com/master/classSmoothedValue" target="_blank" rel="noopener noreferrer" title="A utility class for values that need smoothing to avoid audio glitches.">スムース値</a></p>
<h1>Getting started</h1>
<p>Download the demo project for this tutorial here: <a href="/juce-tutorial-ja/tutorials/PIPs/MPEIntroductionTutorial.zip/">ピップ</a> | <a href="/juce-tutorial-ja/tutorials/ZIPs/MPEIntroductionTutorial.zip/">ジップ</a>. Unzip the project and open the first header file in the Projucer.</p>
<p>If you need help with this step, see <a href="/juce-tutorial-ja/midi/tutorial_new_projucer_project/">チュートリアルProjucerパート1：Projucerを始める</a>.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注記</div><div class="admonitionContent_BuS1"><p>It would be helpful to read <a href="/juce-tutorial-ja/midi/tutorial_synth_using_midi_input/">チュートリアルMIDIシンセサイザーを作る</a> first, as this is used as a reference point in a number of places.</p></div></div>
<h1>The demo project</h1>
<p>The demo project is a simplified version of the <code>MPEDemo</code> project in the <code>JUCE/例</code> directory. In order to get the most out of this tutorial you will need an <a href="https://support.roli.com/article/what-is-mpe/" target="_blank" rel="noopener noreferrer">MPE</a> compatible controller. <a href="https://support.roli.com/article/what-is-mpe/" target="_blank" rel="noopener noreferrer">MPE</a> stands for <em>MIDIポリフォニック・エクスプレッション</em>, which is a new specification to allow multidimensional data to be communicated between audio products.</p>
<p>Some examples of such <a href="https://support.roli.com/article/what-is-mpe/" target="_blank" rel="noopener noreferrer">MPE</a> compatible devices are ROLI&#x27;s own Seaboard range (such as the <a href="https://roli.com/products/seaboard-rise" target="_blank" rel="noopener noreferrer">シーボード・ライズ</a>).</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>警告</div><div class="admonitionContent_BuS1"><p>The synthesiser may appear very quiet unless your controller transmits MIDI channel pressure and continuous controller 74 (<em>ベル</em>) in the way that the <a href="https://roli.com/products/seaboard-rise" target="_blank" rel="noopener noreferrer">シーボード・ライズ</a> does.</p></div></div>
<p>With a <a href="https://roli.com/products/seaboard-rise" target="_blank" rel="noopener noreferrer">シーボード・ライズ</a> connected to your computer the window of the demo application should look something like the following screenshot:</p>
<figure><img src="https://docs.juce.com/master/tutorial_mpe_introduction_screenshot1.png" alt="The demo application"><figcaption><b>The demo application</b></figcaption></figure>
<p>You will need to enable one of the MIDI inputs (here you can see a <a href="https://roli.com/products/seaboard-rise" target="_blank" rel="noopener noreferrer">シーボード・ライズ</a> is shown as an option).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-visualiser">The visualiser<a href="#the-visualiser" class="hash-link" aria-label="The visualiser への直接リンク" title="The visualiser への直接リンク">​</a></h2>
<p>Any notes played on your <a href="https://support.roli.com/article/what-is-mpe/" target="_blank" rel="noopener noreferrer">MPE</a> compatible device will be visualised in the lower portion of the window. This is shown in the following screenshot:</p>
<figure><img src="https://docs.juce.com/master/tutorial_mpe_introduction_screenshot2.png" alt="The visualiser"><figcaption><b>The visualiser</b></figcaption></figure>
<p>One key feature of <a href="https://support.roli.com/article/what-is-mpe/" target="_blank" rel="noopener noreferrer">MPE</a> is that each new MIDI note event is assigned its own MIDI channel, rather than all notes from a particular controller keyboard being assigned to the same MIDI channel. This allows each individual note to be controlled independently by control change messages, pitch bend message, and so on. In the JUCE implementation of <a href="https://support.roli.com/article/what-is-mpe/" target="_blank" rel="noopener noreferrer">MPE</a>, a playing note is represented by an <a href="https://docs.juce.com/master/structMPENote" target="_blank" rel="noopener noreferrer" title="This struct represents a playing MPE note.">MPENote</a> object. An <a href="https://docs.juce.com/master/structMPENote" target="_blank" rel="noopener noreferrer" title="This struct represents a playing MPE note.">MPENote</a> object encapsulates the following data:</p>
<ul>
<li>ノートのMIDIチャンネル。</li>
<li>MIDIノートの初期値。</li>
<li>The note-on velocity (or <em>ストライキ</em>).</li>
<li>ノートのピッチベンド値：このノートのMIDIチャンネルで受信したMIDIピッチベンドメッセージから得られます。</li>
<li>ノートの音圧：このノートのMIDIチャンネルで受信したMIDIチャンネル音圧メッセージから得られます。</li>
<li>The <em>ベル</em> for the note: typically derived from any controller messages on this note&#x27;s MIDI channel for controller 74.</li>
<li>The note-off velocity (or <em>リフト</em>): this is only valid after the note-off event has been received and until the playing sound has stopped.</li>
</ul>
<p>ノートを演奏していない状態では、ビジュアライザーが従来の MIDI キーボードレイアウトを表していることがわかります。デモアプリケーションのビジュアライザーでは、各ノートが以下のように表現されています：</p>
<ul>
<li>灰色  で塗りつぶされた円はノートオンの速度を表す（速度が速いほど円は大きくなる）。</li>
<li>ノートのMIDIチャンネルは、この円内の &quot;+&quot;シンボルの上に表示されます；</li>
<li>初期MIDIノート名は &quot;+&quot;記号の下に表示されます。</li>
<li>重ねて表示される白い円は、このノートの現在の圧力を表す（ここでも、圧力が高いほど円は大きくなる）。</li>
<li>ノートの水平位置は、元のノートと、このノートに適用されたピッチベンドから決定されます。</li>
<li>The vertical position of the note is derived from the <em>ベル</em> parameter for the note (from MIDI controller 74 on this note&#x27;s MIDI channel).</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="other-setting-up">Other setting up<a href="#other-setting-up" class="hash-link" aria-label="Other setting up への直接リンク" title="Other setting up への直接リンク">​</a></h2>
<p>Before delving further into other aspects of the <a href="https://support.roli.com/article/what-is-mpe/" target="_blank" rel="noopener noreferrer">MPE</a> specification, which are demonstrated by this application, let&#x27;s look at some of the other things our application uses.</p>
<p>First of all, our <code>メインコンポーネント</code> class inherits from the <a href="https://docs.juce.com/master/classAudioIODeviceCallback" target="_blank" rel="noopener noreferrer" title="One of these is passed to an AudioIODevice object to stream the audio data in and out.">AudioIODeviceCallback</a> [1] and <a href="https://docs.juce.com/master/classMidiInputCallback" target="_blank" rel="noopener noreferrer" title="Receives incoming messages from a physical MIDI input device.">MidiInputCallback</a> [2] classes:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class MainComponent : public juce::Component、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      private juce::AudioIODeviceCallback, // [1].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      private juce::MidiInputCallback // [2].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public：</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>We also have some important class members in our <code>メインコンポーネント</code> class:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">juce::AudioDeviceManager audioDeviceManager; // [3].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    juce::AudioDeviceSelectorComponent audioSetupComp; // [4].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ビジュアライザー visualiserComp；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    juce::Viewport visualiserViewport；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    juce::MPEInstrument visualiserInstrument；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    juce::MPESynthesiser synth；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    juce::MidiMessageCollector midiCollector; // [5].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    JUCE_DECLARE_NON_COPYABLE_WITH_LEAK_DETECTOR (MainComponent).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <a href="https://docs.juce.com/master/classAudioDeviceManager" target="_blank" rel="noopener noreferrer" title="Manages the state of some audio and midi i/o devices.">オーディオデバイスマネージャー</a> [3] class handles the audio and MIDI configuration on our computer, while the <a href="https://docs.juce.com/master/classAudioDeviceSelectorComponent" target="_blank" rel="noopener noreferrer" title="A component containing controls to let the user change the audio settings of an AudioDeviceManager ob...">オーディオデバイスセレクタコンポーネント</a> [4] class gives us a means of configuring this from the graphical user interface (see <a href="/juce-tutorial-ja/midi/tutorial_audio_device_manager/">チュートリアルAudioDeviceManagerクラス</a>). The <a href="https://docs.juce.com/master/classMidiMessageCollector" target="_blank" rel="noopener noreferrer" title="Collects incoming realtime MIDI messages and turns them into blocks suitable for processing by a bloc...">ミディメッセージコレクタ</a> [5] class allow us to easily collect messages into blocks of timestamped MIDI messages in our audio callback (see <a href="/juce-tutorial-ja/midi/tutorial_synth_using_midi_input/">チュートリアルMIDIシンセサイザーを作る</a>).</p>
<p>It is important that the <a href="https://docs.juce.com/master/classAudioDeviceManager" target="_blank" rel="noopener noreferrer" title="Manages the state of some audio and midi i/o devices.">オーディオデバイスマネージャー</a> object is listed first since we pass this to the constructor of the <a href="https://docs.juce.com/master/classAudioDeviceSelectorComponent" target="_blank" rel="noopener noreferrer" title="A component containing controls to let the user change the audio settings of an AudioDeviceManager ob...">オーディオデバイスセレクタコンポーネント</a> object:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">メインコンポーネント</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        : audioSetupComp (audioDeviceManager, 0, 0, 256、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                          true, // showMidiInputOptionsはtrueでなければならない。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                          true, true, false)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Notice another important argument that is passed to the <a href="https://docs.juce.com/master/classAudioDeviceSelectorComponent" target="_blank" rel="noopener noreferrer" title="A component containing controls to let the user change the audio settings of an AudioDeviceManager ob...">オーディオデバイスセレクタコンポーネント</a> constructor: the <code>ショーミディインプットオプション</code> must be <code>真の</code> to show our available MIDI inputs.</p>
<p>We set up our <a href="https://docs.juce.com/master/classAudioDeviceManager" target="_blank" rel="noopener noreferrer" title="Manages the state of some audio and midi i/o devices.">オーディオデバイスマネージャー</a> object in a similar way to <a href="/juce-tutorial-ja/midi/tutorial_audio_device_manager/">チュートリアルAudioDeviceManagerクラス</a>, but we need also to add a MIDI input callback [6]:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">audioDeviceManager.initialise (0, 2, nullptr, true, {}, nullptr)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        audioDeviceManager.addMidiInputDeviceCallback ({}, this); // [6].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        audioDeviceManager.addAudioCallback (this)；</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-midi-input-callback">The MIDI input callback<a href="#the-midi-input-callback" class="hash-link" aria-label="The MIDI input callback への直接リンク" title="The MIDI input callback への直接リンク">​</a></h3>
<p>The <code>handleIncomingMidiMessage()</code> is called when each MIDI message is received from any of the active MIDI inputs in the user interface:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void handleIncomingMidiMessage (juce::MidiInput* /*source*/、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    const juce::MidiMessage&amp; message) override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        visualiserInstrument.processNextMidiEvent (message)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        midiCollector.addMessageToQueue (message)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ここでは、それぞれのMIDIメッセージを両方に渡す：</p>
<ul>
<li>our <code>ビジュアライザー・インストゥルメント</code> member — which is used to drive the visualiser display; and</li>
<li>the <code>ミディコレクター</code> member — which in turn passes the messages to the synthesiser in the audio callback.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-audio-callback">The audio callback<a href="#the-audio-callback" class="hash-link" aria-label="The audio callback への直接リンク" title="The audio callback への直接リンク">​</a></h3>
<p>Before any audio callbacks are made, we need to inform the <code>シンセ</code> and <code>ミディコレクター</code> members of the device sample rate, in the <code>audioDeviceAboutToStart()</code> function:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void audioDeviceAboutToStart (juce::AudioIODevice* device) override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto sampleRate = device-&gt;getCurrentSampleRate()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        midiCollector.reset (sampleRate)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        synth.setCurrentPlaybackSampleRate (sampleRate)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>audioDeviceIOCallbackWithContext()</code> function appears to do nothing MPE-specific:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    void audioDeviceIOCallbackWithContext (const float* const* /*inputChannelData*/,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                           int /*numInputChannels*/,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                           float* const* outputChannelData,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                           int numOutputChannels,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                           int numSamples,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                           const juce::AudioIODeviceCallbackContext&amp; /*context*/) override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // make buffer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        juce::AudioBufferbuffer（outputChannelData、numOutputChannels、numSamples）；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 無音にするためにクリアする</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        buffer.clear()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        juce::MidiBuffer incomingMidi；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // このオーディオ・ブロックのMIDIメッセージを取得する</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        midiCollector.removeNextBlockOfMessages (incomingMidi, numSamples)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ブロックを合成する</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        synth.renderNextBlock (buffer, incomingMidi, 0, numSamples)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注記</div><div class="admonitionContent_BuS1"><p>In fact, this is rather similar to the <code>SynthAudioSource::getNextAudioBlock()</code> function in <a href="/juce-tutorial-ja/midi/tutorial_synth_using_midi_input/">チュートリアルMIDIシンセサイザーを作る</a>.</p></div></div>
<h1>Core MPE classes</h1>
<p>All of the <a href="https://support.roli.com/article/what-is-mpe/" target="_blank" rel="noopener noreferrer">MPE</a> specific processing is handled by the <a href="https://support.roli.com/article/what-is-mpe/" target="_blank" rel="noopener noreferrer">MPE</a> classes: <a href="https://docs.juce.com/master/classMPEInstrument" target="_blank" rel="noopener noreferrer" title="This class represents an instrument handling MPE.">MPEインストゥルメント</a>, <a href="https://docs.juce.com/master/classMPESynthesiser" target="_blank" rel="noopener noreferrer" title="Base class for an MPE-compatible musical device that can play sounds.">MPESynthesiser</a>, <a href="https://docs.juce.com/master/classMPESynthesiserVoice" target="_blank" rel="noopener noreferrer" title="Represents an MPE voice that an MPESynthesiser can use to play a sound.">MPESynthesiserVoice</a>, <a href="https://docs.juce.com/master/classMPEValue" target="_blank" rel="noopener noreferrer" title="This class represents a single value for any of the MPE dimensions of control.">MPEValue</a>, and <a href="https://docs.juce.com/master/structMPENote" target="_blank" rel="noopener noreferrer" title="This struct represents a playing MPE note.">MPENote</a> (which we mentioned earlier).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-mpeinstrument-class">The MPEInstrument class<a href="#the-mpeinstrument-class" class="hash-link" aria-label="The MPEInstrument class への直接リンク" title="The MPEInstrument class への直接リンク">​</a></h2>
<p>The <a href="https://docs.juce.com/master/classMPEInstrument" target="_blank" rel="noopener noreferrer" title="This class represents an instrument handling MPE.">MPEインストゥルメント</a> class maintains the state of the currently playing notes according to the MPE specification. An <a href="https://docs.juce.com/master/classMPEInstrument" target="_blank" rel="noopener noreferrer" title="This class represents an instrument handling MPE.">MPEインストゥルメント</a> object can have one or more listeners attached and it can broadcast changes to notes as they occur. All you need to do is feed the <a href="https://docs.juce.com/master/classMPEInstrument" target="_blank" rel="noopener noreferrer" title="This class represents an instrument handling MPE.">MPEインストゥルメント</a> object the MIDI data and it handles the rest.</p>
<p>In the <code>メインコンポーネント</code> constructor we configure the <a href="https://docs.juce.com/master/classMPEInstrument" target="_blank" rel="noopener noreferrer" title="This class represents an instrument handling MPE.">MPEインストゥルメント</a> in <em>レガシーモード</em> and set the default pitch bend range to 24 semitones:</p>
<p>この特別なモードは、MPE以外のMIDI機器との後方互換性のためのもので、楽器は現在のMPEゾーン・レイアウトを無視します。</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注記</div><div class="admonitionContent_BuS1"><p>See <a href="/juce-tutorial-ja/midi/tutorial_mpe_zones/">チュートリアルMPEゾーンの理解</a> for an introduction to more flexible approaches using <em>ゾーン</em> and <em>ゾーン・レイアウト</em>.</p></div></div>
<p>In the <code>MainComponent::handleIncomingMidiMessage()</code> function we pass the MIDI messages on to our <code>ビジュアライザー・インストゥルメント</code> object:</p>
<p>In this example we are using an <a href="https://docs.juce.com/master/classMPEInstrument" target="_blank" rel="noopener noreferrer" title="This class represents an instrument handling MPE.">MPEインストゥルメント</a> object directly as we need it to update our visualiser display. For the purposes of audio synthesis we don&#x27;t need to create a separate <a href="https://docs.juce.com/master/classMPEInstrument" target="_blank" rel="noopener noreferrer" title="This class represents an instrument handling MPE.">MPEインストゥルメント</a> object. The <a href="https://docs.juce.com/master/classMPESynthesiser" target="_blank" rel="noopener noreferrer" title="Base class for an MPE-compatible musical device that can play sounds.">MPESynthesiser</a> object contains an <a href="https://docs.juce.com/master/classMPEInstrument" target="_blank" rel="noopener noreferrer" title="This class represents an instrument handling MPE.">MPEインストゥルメント</a> object that it uses to drive the synthesiser.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-mpesynthesiser-class">The MPESynthesiser class<a href="#the-mpesynthesiser-class" class="hash-link" aria-label="The MPESynthesiser class への直接リンク" title="The MPESynthesiser class への直接リンク">​</a></h2>
<p>We set our <a href="https://docs.juce.com/master/classMPESynthesiser" target="_blank" rel="noopener noreferrer" title="Base class for an MPE-compatible musical device that can play sounds.">MPESynthesiser</a> with the same configuration as our <code>ビジュアライザー・インストゥルメント</code> object (in legacy mode with a pitch bend range of 24 semitones):</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">synth.enableLegacyMode (24)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        synth.setVoiceStealingEnabled (false)；</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <a href="https://docs.juce.com/master/classMPESynthesiser" target="_blank" rel="noopener noreferrer" title="Base class for an MPE-compatible musical device that can play sounds.">MPESynthesiser</a> class can also handle voice stealing for us, but as you can see here, we turn this off. When voice stealing is enabled, the synth will try to take over an existing voice if it runs out of voices and needs to play another note.</p>
<p>As we have already seen in the <code>メインコンポーネント::audioDeviceAboutToStart()</code> function we need to set the <a href="https://docs.juce.com/master/classMPESynthesiser" target="_blank" rel="noopener noreferrer" title="Base class for an MPE-compatible musical device that can play sounds.">MPESynthesiser</a> object&#x27;s sample rate to work correctly:</p>
<p>And as we have also already seen in the <code>メインコンポーネント::audioDeviceIOCallback()</code> function, we simply pass it a <a href="https://docs.juce.com/master/classMidiBuffer" target="_blank" rel="noopener noreferrer" title="Holds a sequence of time-stamped midi events.">ミディバッファ</a> object containing messages that we want it to use to perform its synthesis operation:</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-mpesynthesiservoice-class">The MPESynthesiserVoice class<a href="#the-mpesynthesiservoice-class" class="hash-link" aria-label="The MPESynthesiserVoice class への直接リンク" title="The MPESynthesiserVoice class への直接リンク">​</a></h2>
<p>You can generally use the <a href="https://docs.juce.com/master/classMPESynthesiser" target="_blank" rel="noopener noreferrer" title="Base class for an MPE-compatible musical device that can play sounds.">MPESynthesiser</a> and <a href="https://docs.juce.com/master/classMPEInstrument" target="_blank" rel="noopener noreferrer" title="This class represents an instrument handling MPE.">MPEインストゥルメント</a> classes as they are (although both classes can be used as base classes if you need to override some behaviours). The most important class you <em>マスト</em> override in order to use the <a href="https://docs.juce.com/master/classMPESynthesiser" target="_blank" rel="noopener noreferrer" title="Base class for an MPE-compatible musical device that can play sounds.">MPESynthesiser</a> class is the <a href="https://docs.juce.com/master/classMPESynthesiserVoice" target="_blank" rel="noopener noreferrer" title="Represents an MPE voice that an MPESynthesiser can use to play a sound.">MPESynthesiserVoice</a> class. This actually generates the audio signals from your synthesiser&#x27;s voices.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注記</div><div class="admonitionContent_BuS1"><p>This is similar to the <a href="https://docs.juce.com/master/classSynthesiserVoice" target="_blank" rel="noopener noreferrer" title="Represents a voice that a Synthesiser can use to play a SynthesiserSound.">シンセサイザー・ボイス</a> class that is used with the <a href="https://docs.juce.com/master/classSynthesiser" target="_blank" rel="noopener noreferrer" title="Base class for a musical device that can play sounds.">シンセサイザー</a> class, but it is customised to implement the <a href="https://support.roli.com/article/what-is-mpe/" target="_blank" rel="noopener noreferrer">MPE</a> specification. See <a href="/juce-tutorial-ja/midi/tutorial_synth_using_midi_input/">チュートリアルMIDIシンセサイザーを作る</a>.</p></div></div>
<p>The code for our voice class is in the <code>MPEDemoSynthVoice</code> class of the demo project. Here we implement the <code>MPEDemoSynthVoice</code> class to inherit from the <a href="https://docs.juce.com/master/classMPESynthesiserVoice" target="_blank" rel="noopener noreferrer" title="Represents an MPE voice that an MPESynthesiser can use to play a sound.">MPESynthesiserVoice</a> class:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class MPEDemoSynthVoice : public juce::MPESynthesiserVoice</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>We have some member variables to keep track of values to control the level, timbre, and frequency of the tone that we generate. In particular, we use the <a href="https://docs.juce.com/master/classSmoothedValue" target="_blank" rel="noopener noreferrer" title="A utility class for values that need smoothing to avoid audio glitches.">スムース値</a> class, which is really useful for smoothing out discontinuities in the signal that would be otherwise caused by value changes (see <a href="/juce-tutorial-ja/midi/tutorial_sine_synth/">チュートリアルサイン波シンセサイザーを作る</a>).</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    juce::SmoothedValueレベル、音色、周波数；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    double phase = 0.0；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    double phaseDelta = 0.0；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    double tailOff = 0.0；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // いくつかの便利な定数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    static constexpr auto maxLevel = 0.05；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    static constexpr auto maxLevelDb = 31.0；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    static constexpr auto smoothingLengthInSeconds = 0.01；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="starting-and-stopping-voices">Starting and stopping voices<a href="#starting-and-stopping-voices" class="hash-link" aria-label="Starting and stopping voices への直接リンク" title="Starting and stopping voices への直接リンク">​</a></h3>
<p>The key to using the <a href="https://docs.juce.com/master/classMPESynthesiserVoice" target="_blank" rel="noopener noreferrer" title="Represents an MPE voice that an MPESynthesiser can use to play a sound.">MPESynthesiserVoice</a> class is to access its <a href="/juce-tutorial-ja/midi/tutorial_mpe_introduction/classMPESynthesiserVoice.html/#aea34fcbdb3fa0961f73d5f9a1f34e255">MPESynthesiserVoice::現在再生中の音符</a> (protected) <a href="https://docs.juce.com/master/structMPENote" target="_blank" rel="noopener noreferrer" title="This struct represents a playing MPE note.">MPENote</a> member to access the control information about the note during the various callbacks. For example, we override the <a title="Called by the MPESynthesiser to let the voice know that a new note has started on it." href="/juce-tutorial-ja/midi/tutorial_mpe_introduction/classMPESynthesiserVoice.html/#ae10c1cdfb37208b96b56863d47a3a193">MPESynthesiserVoice::noteStarted()</a> function like this:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    void noteStarted() override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        jassert (currentlyPlayingNote.isValid());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        jassert (currentlyPlayingNote.keyState == juce::MPENote::keyDown</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 || currentlyPlayingNote.keyState == juce::MPENote::keyDownAndSustained);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // get data from the current MPENote</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        level    .setTargetValue (currentlyPlayingNote.pressure.asUnsignedFloat());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        frequency.setTargetValue (currentlyPlayingNote.getFrequencyInHertz());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        timbre   .setTargetValue (currentlyPlayingNote.timbre.asUnsignedFloat());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        phase = 0.0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto cyclesPerSample = frequency.getNextValue() / currentSampleRate;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        phaseDelta = 2.0 * juce::MathConstants::pi * cyclesPerSample；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        tailOff = 0.0；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The following &quot;five dimensions&quot; are stored in the <a href="https://docs.juce.com/master/structMPENote" target="_blank" rel="noopener noreferrer" title="This struct represents a playing MPE note.">MPENote</a> object as <a href="https://docs.juce.com/master/classMPEValue" target="_blank" rel="noopener noreferrer" title="This class represents a single value for any of the MPE dimensions of control.">MPEValue</a> objects:</p>
<ul>
<li><em>ノートオン速度</em>: in the [MPENote::noteOnVelocity](structMPENote.html#a9322650db7f2e76cec724746d1a75c1a &quot;The velocity (&quot;strike&quot;) of the note-on.&quot;) member</li>
<li><em>ピッチベンド</em>: in the <a title="Current per-note pitchbend of the note (in units of MIDI pitchwheel position)." href="/juce-tutorial-ja/midi/tutorial_mpe_introduction/structMPENote.html/#aebfdbfc173bc19cc97b97659c412078f">MPENote::ピッチベンド</a> member</li>
<li><em>圧力</em>: in the <a title="Current pressure with which the note is held down." href="/juce-tutorial-ja/midi/tutorial_mpe_introduction/structMPENote.html/#af04939884198c48da9927e76e4f3ff90">MPENote::圧力</a> member</li>
<li><em>ベル</em>: in the <a title="Current value of the note&#x27;s third expressive dimension, typically encoding some kind of timbre parame..." href="/juce-tutorial-ja/midi/tutorial_mpe_introduction/structMPENote.html/#aea15b7b7d5b9c55cbf7d479aa8e46a90">MPENote::音色</a> member</li>
<li><em>ノートオフ速度</em>: in the [MPENote::ノートオフベロシティ](structMPENote.html#a9e46888c40a2d3eaf4b8c5129b21de6e &quot;The release velocity (&quot;lift&quot;) of the note after a note-off has been received.&quot;) member</li>
</ul>
<p><a href="https://docs.juce.com/master/classMPEValue" target="_blank" rel="noopener noreferrer" title="This class represents a single value for any of the MPE dimensions of control.">MPEValue</a> objects make it easy to create values from 7-bit or 14-bit MIDI value sources, and to obtain these values as floating-point values in the range 0..1 or -1..+1.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注記</div><div class="admonitionContent_BuS1"><p>The <a href="https://docs.juce.com/master/classMPEValue" target="_blank" rel="noopener noreferrer" title="This class represents a single value for any of the MPE dimensions of control.">MPEValue</a> class stores the value internally using the 14-bit range.</p></div></div>
<p>The <code>メインコンポーネント::noteStopped()</code> function triggers the &quot;release&quot; of the note envelope (or stops it immediately, if requested):</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void noteStopped (bool allowTailOff) override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        jassert (currentlyPlayingNote.keyState == juce::MPENote::off)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (allowTailOff)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // このフラグを設定することで、テールオフを開始します。レンダリングコールバックは</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // 終了したらclearCurrentNote()を呼び出します。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (tailOff == 0.0) // テールオフを開始する必要があるのは、まだそうしていない場合だけです。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                // stopNoteメソッドは複数回 呼び出される可能性があります。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                tailOff = 1.0；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // すぐに演奏を止めるように言われているので、すべてをリセットする。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            clearCurrentNote()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            phaseDelta = 0.0；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注記</div><div class="admonitionContent_BuS1"><p>This is very similar to <code>SineWaveVoice::stopNote()</code> function in <a href="/juce-tutorial-ja/midi/tutorial_synth_using_midi_input/">チュートリアルMIDIシンセサイザーを作る</a>. There isn&#x27;t anything MPE-specific here.</p></div></div>
<p>Modify the <code>メインコンポーネント::noteStopped()</code> function to allow the note-off velocity (<em>リフト</em>) to modify the rate of release of the note. Faster lifts should result in a shorter release time.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="parameter-changes">Parameter changes<a href="#parameter-changes" class="hash-link" aria-label="Parameter changes への直接リンク" title="Parameter changes への直接リンク">​</a></h3>
<p>この音符の音圧、ピッチベンド、音色のいずれかが変更されると、それを知らせるコールバックがある：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void notePressureChanged() オーバーライド</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        level.setTargetValue (currentlyPlayingNote.pressure.asUnsignedFloat())；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void notePitchbendChanged() オーバーライド</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        frequency.setTargetValue (currentlyPlayingNote.getFrequencyInHertz())；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void noteTimbreChanged() オーバーライド</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        timbre.setTargetValue (currentlyPlayingNote.timbre.asUnsignedFloat())；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Again, we access the <a href="/juce-tutorial-ja/midi/tutorial_mpe_introduction/classMPESynthesiserVoice.html/#aea34fcbdb3fa0961f73d5f9a1f34e255">MPESynthesiserVoice::現在再生中の音符</a> member to obtain the current value for each of these parameters.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="generating-the-audio">Generating the audio<a href="#generating-the-audio" class="hash-link" aria-label="Generating the audio への直接リンク" title="Generating the audio への直接リンク">​</a></h3>
<p>The <code>MainComponent::renderNextBlock()</code> actually generates the audio signal, mixing this voice&#x27;s signal into the buffer that is passed in:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    void renderNextBlock (juce::AudioBuffer&amp; outputBuffer、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                          int startSample、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                          int numSamples) オーバーライド</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (phaseDelta != 0.0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (tailOff &gt; 0.0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                while (--numSamples &gt;= 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    auto currentSample = getNextSample() * (float) tailOff；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    for (auto i = outputBuffer.getNumChannels(); --i &gt;= 0;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        outputBuffer.addSample (i, startSample, currentSample)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    ++startSample；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    tailOff *= 0.99；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if (tailOff &lt;= 0.005)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        clearCurrentNote()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        phaseDelta = 0.0；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        break；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                while (--numSamples &gt;= 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    auto currentSample = getNextSample()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    for (auto i = outputBuffer.getNumChannels(); --i &gt;= 0;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        outputBuffer.addSample (i, startSample, currentSample)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    ++startSample；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>It calls <code>メインコンポーネント::getNextSample()</code> to generate the waveform:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    float getNextSample() noexcept</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto levelDb = (level.getNextValue() - 1.0) * maxLevelDb;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto amplitude = std::pow (10.0f, 0.05f * levelDb) * maxLevel;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // timbre is used to blend between a sine and a square.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto f1 = std::sin (phase);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto f2 = std::copysign (1.0, f1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto a2 = timbre.getNextValue();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto a1 = 1.0 - a2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto nextSample = float (amplitude * ((a1 * f1) + (a2 * f2)));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto cyclesPerSample = frequency.getNextValue() / currentSampleRate;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        phaseDelta = 2.0 * juce::MathConstants::pi * cyclesPerSample;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        phase = std::fmod (phase + phaseDelta, 2.0 * juce::MathConstants:pi)である；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return nextSample；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>エンドコード</p>
<p>This simply cross fades between a sine wave and a (non-bandlimited) square wave, based on the value of the <em>ベル</em> parameter.</p>
<p>Modify the <code>MPEDemoSynthVoice</code> class to crossfade between two sine waves, one octave appart, in response to the <em>ベル</em> parameter.</p>
<h1>Summary</h1>
<p>In this tutorial we have introduced some of the <a href="https://support.roli.com/article/what-is-mpe/" target="_blank" rel="noopener noreferrer">MPE</a> based classes in JUCE. You should now know:</p>
<ul>
<li>What <a href="https://support.roli.com/article/what-is-mpe/" target="_blank" rel="noopener noreferrer">MPE</a> is.</li>
<li>That <a href="https://support.roli.com/article/what-is-mpe/" target="_blank" rel="noopener noreferrer">MPE</a> compatible devices will allocate each note to their own MIDI channels.</li>
<li>How the <a href="https://docs.juce.com/master/structMPENote" target="_blank" rel="noopener noreferrer" title="This struct represents a playing MPE note.">MPENote</a> class stores information about a note including its MIDI channel, the original note number, velocity, pitch bend, and so on.</li>
<li>That the <a href="https://docs.juce.com/master/classMPEInstrument" target="_blank" rel="noopener noreferrer" title="This class represents an instrument handling MPE.">MPEインストゥルメント</a> class maintains the state of the currently playing notes.</li>
<li>That the <a href="https://docs.juce.com/master/classMPESynthesiser" target="_blank" rel="noopener noreferrer" title="Base class for an MPE-compatible musical device that can play sounds.">MPESynthesiser</a> class contains an <a href="https://docs.juce.com/master/classMPEInstrument" target="_blank" rel="noopener noreferrer" title="This class represents an instrument handling MPE.">MPEインストゥルメント</a> object that it uses to drive the synthesiser.</li>
<li>That you must implement a class that inherits from the <a href="https://docs.juce.com/master/classMPESynthesiserVoice" target="_blank" rel="noopener noreferrer" title="Represents an MPE voice that an MPESynthesiser can use to play a sound.">MPESynthesiserVoice</a> class to implement your synthesiser&#x27;s audio code.</li>
</ul>
<h1>See also</h1>
<ul>
<li><a href="/juce-tutorial-ja/midi/tutorial_mpe_zones/">チュートリアルMPEゾーンの理解</a></li>
<li><a href="/juce-tutorial-ja/midi/tutorial_handling_midi_events/">チュートリアル：MIDIイベントの処理</a></li>
<li><a href="/juce-tutorial-ja/midi/tutorial_midi_message/">チュートリアルMIDIデータの作成</a></li>
<li><a href="/juce-tutorial-ja/midi/tutorial_synth_using_midi_input/">チュートリアルMIDIシンセサイザーを作る</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/m1m0zzz/juce-tutorial-ja/tree/main/docs/midi/tutorial_mpe_introduction.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>このページを編集</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="ドキュメントページ"><a class="pagination-nav__link pagination-nav__link--prev" href="/juce-tutorial-ja/midi/tutorial_handling_midi_events/"><div class="pagination-nav__sublabel">前へ</div><div class="pagination-nav__label">MIDIイベントの処理</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/juce-tutorial-ja/midi/tutorial_mpe_zones/"><div class="pagination-nav__sublabel">次へ</div><div class="pagination-nav__label">MPEゾーンの理解</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#the-visualiser" class="table-of-contents__link toc-highlight">The visualiser</a></li><li><a href="#other-setting-up" class="table-of-contents__link toc-highlight">Other setting up</a><ul><li><a href="#the-midi-input-callback" class="table-of-contents__link toc-highlight">The MIDI input callback</a></li><li><a href="#the-audio-callback" class="table-of-contents__link toc-highlight">The audio callback</a></li></ul></li><li><a href="#the-mpeinstrument-class" class="table-of-contents__link toc-highlight">The MPEInstrument class</a></li><li><a href="#the-mpesynthesiser-class" class="table-of-contents__link toc-highlight">The MPESynthesiser class</a></li><li><a href="#the-mpesynthesiservoice-class" class="table-of-contents__link toc-highlight">The MPESynthesiserVoice class</a><ul><li><a href="#starting-and-stopping-voices" class="table-of-contents__link toc-highlight">Starting and stopping voices</a></li><li><a href="#parameter-changes" class="table-of-contents__link toc-highlight">Parameter changes</a></li><li><a href="#generating-the-audio" class="table-of-contents__link toc-highlight">Generating the audio</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Tutorial</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/juce-tutorial-ja/category/getting-started/">Getting Started</a></li></ul></div><div class="col footer__col"><div class="footer__title">JUCE</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://juce.com/learn/tutorials/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Tutorials<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://juce.com/learn/documentation/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Documentation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://forum.juce.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/m1m0zzz/juce-tutorial-ja" target="_blank" rel="noopener noreferrer" class="footer__link-item">repo<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/juce-framework/JUCE" target="_blank" rel="noopener noreferrer" class="footer__link-item">JUCE GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2024 Raw Material Software Limited. translation: mimoz</div></div></div></footer></div>
</body>
</html>