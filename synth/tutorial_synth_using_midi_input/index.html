<!doctype html>
<html lang="ja" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-synth/tutorial_synth_using_midi_input" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">MIDIシンセサイザーを作る | JUCE日本語版チュートリアル</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://m1m0zzz.github.io/juce-tutorial-ja/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://m1m0zzz.github.io/juce-tutorial-ja/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://m1m0zzz.github.io/juce-tutorial-ja/synth/tutorial_synth_using_midi_input/"><meta data-rh="true" property="og:locale" content="ja"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="MIDIシンセサイザーを作る | JUCE日本語版チュートリアル"><meta data-rh="true" name="description" content="This tutorial implements a polyphonic sine wave synthesiser that responds to MIDI input. This makes use of the シンセサイザー class and related classes."><meta data-rh="true" property="og:description" content="This tutorial implements a polyphonic sine wave synthesiser that responds to MIDI input. This makes use of the シンセサイザー class and related classes."><link data-rh="true" rel="icon" href="/juce-tutorial-ja/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://m1m0zzz.github.io/juce-tutorial-ja/synth/tutorial_synth_using_midi_input/"><link data-rh="true" rel="alternate" href="https://m1m0zzz.github.io/juce-tutorial-ja/synth/tutorial_synth_using_midi_input/" hreflang="ja"><link data-rh="true" rel="alternate" href="https://m1m0zzz.github.io/juce-tutorial-ja/synth/tutorial_synth_using_midi_input/" hreflang="x-default"><link rel="stylesheet" href="/juce-tutorial-ja/assets/css/styles.ee4ac6b4.css">
<script src="/juce-tutorial-ja/assets/js/runtime~main.5add7671.js" defer="defer"></script>
<script src="/juce-tutorial-ja/assets/js/main.cf826c6e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="メインコンテンツまでスキップ"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">メインコンテンツまでスキップ</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/juce-tutorial-ja/"><div class="navbar__logo"><img src="/juce-tutorial-ja/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/juce-tutorial-ja/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">JUCE日本語版チュートリアル</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/juce-tutorial-ja/">Tutorial</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/m1m0zzz/juce-tutorial-ja" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="ダークモードを切り替える(現在はライトモード)" aria-label="ダークモードを切り替える(現在はライトモード)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="先頭へ戻る" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/juce-tutorial-ja/">About / このサイトについて</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/getting-started/">Getting Started</a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/audio/">Audio</a><button aria-label="Expand sidebar category &#x27;Audio&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/juce-tutorial-ja/category/synth/">Synth</a><button aria-label="Collapse sidebar category &#x27;Synth&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/juce-tutorial-ja/synth/tutorial_simple_synth_noise/">ホワイトノイズ発生器を作る</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/juce-tutorial-ja/synth/tutorial_synth_level_control/">オーディオレベルのコントロール</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/juce-tutorial-ja/synth/tutorial_synth_db_level_control/">デシベルでオーディオレベルをコントロール</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/juce-tutorial-ja/synth/tutorial_sine_synth/">サイン波シンセサイザーを作る</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/juce-tutorial-ja/synth/tutorial_synth_using_midi_input/">MIDIシンセサイザーを作る</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/juce-tutorial-ja/synth/tutorial_wavetable_synth/">ウェーブテーブル・シンセシス</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/midi/">MIDI</a><button aria-label="Expand sidebar category &#x27;MIDI&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/plugins/">Plugins</a><button aria-label="Expand sidebar category &#x27;Plugins&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/dsp/">DSP</a><button aria-label="Expand sidebar category &#x27;DSP&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/graphics/">Graphics</a><button aria-label="Expand sidebar category &#x27;Graphics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/interface-design/">Interface Design</a><button aria-label="Expand sidebar category &#x27;Interface Design&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/mobile/">Mobile</a><button aria-label="Expand sidebar category &#x27;Mobile&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/utility-classes/">Utility Classes</a><button aria-label="Expand sidebar category &#x27;Utility Classes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="パンくずリストのナビゲーション"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ホームページ" class="breadcrumbs__link" href="/juce-tutorial-ja/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/juce-tutorial-ja/category/synth/"><span itemprop="name">Synth</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">MIDIシンセサイザーを作る</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">このページの見出し</button></div><div class="theme-doc-markdown markdown"><h1>チュートリアルMIDIシンセサイザーを作る</h1>
<p>This tutorial implements a polyphonic sine wave synthesiser that responds to MIDI input. This makes use of the <a href="https://docs.juce.com/master/classSynthesiser" target="_blank" rel="noopener noreferrer" title="Base class for a musical device that can play sounds.">シンセサイザー</a> class and related classes.</p>
<p>レベル Intermediate</p>
<p>プラットフォーム Windows, macOS, Linux</p>
<p>クラス： <a href="https://docs.juce.com/master/classSynthesiser" target="_blank" rel="noopener noreferrer" title="Base class for a musical device that can play sounds.">シンセサイザー</a>, <a href="https://docs.juce.com/master/classSynthesiserVoice" target="_blank" rel="noopener noreferrer" title="Represents a voice that a Synthesiser can use to play a SynthesiserSound.">シンセサイザー・ボイス</a>, <a href="https://docs.juce.com/master/classSynthesiserSound" target="_blank" rel="noopener noreferrer" title="Describes one of the sounds that a Synthesiser can play.">シンセサイザーサウンド</a>, <a href="https://docs.juce.com/master/classAudioSource" target="_blank" rel="noopener noreferrer" title="Base class for objects that can produce a continuous stream of audio.">オーディオソース</a>, <a href="https://docs.juce.com/master/classMidiMessageCollector" target="_blank" rel="noopener noreferrer" title="Collects incoming realtime MIDI messages and turns them into blocks suitable for processing by a bloc...">ミディメッセージコレクタ</a></p>
<h1>Getting started</h1>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注記</div><div class="admonitionContent_BuS1"><p>You should be familiar with handling MIDI input in JUCE and how to generate a sine wave. See <a href="/juce-tutorial-ja/synth/tutorial_handling_midi_events/">チュートリアル：MIDIイベントの処理</a> and <a href="/juce-tutorial-ja/synth/tutorial_sine_synth/">チュートリアルサイン波シンセサイザーを作る</a>.</p></div></div>
<p>Download the demo project for this tutorial here: <a href="/juce-tutorial-ja/tutorials/PIPs/SynthUsingMidiInputTutorial.zip/">ピップ</a> | <a href="/juce-tutorial-ja/tutorials/ZIPs/SynthUsingMidiInputTutorial.zip/">ジップ</a>. Unzip the project and open the first header file in the Projucer.</p>
<p>If you need help with this step, see <a href="/juce-tutorial-ja/synth/tutorial_new_projucer_project/">チュートリアルProjucerパート1：Projucerを始める</a>.</p>
<h1>The demo project</h1>
<p>このデモ・プロジェクトでは、シンプルなサイン波シンセサイザーを演奏するのに使えるオンスクリーン・キーボードを紹介している。</p>
<figure><img src="https://docs.juce.com/master/tutorial_synth_using_midi_input_screenshot1.png" alt="The application window containing a MidiKeyboardComponent"><figcaption><b>The application window containing a MidiKeyboardComponent</b></figcaption></figure>
<p>コンピュータのキーボードのキーを使って、画面上のキーボードをコントロールすることができます（A、S、D、Fなどのキーを使って、音符C、D、E、Fなどをコントロールします）。これにより、シンセサイザーをポリフォニックに演奏することができます。</p>
<h1>The Synthesiser class</h1>
<p>This tutorial makes use of the JUCE <a href="https://docs.juce.com/master/classSynthesiser" target="_blank" rel="noopener noreferrer" title="Base class for a musical device that can play sounds.">シンセサイザー</a> class to implement a polyphonic synthesiser. This shows you all the basic elements needed to customise the synthesiser with your own sounds in your own applications. There are various classes needed to get this to work and in addition to our standard <code>メインコンテンツコンポーネント</code> class, these are:</p>
<ul>
<li><code>シンセオーディオソース</code>: This implements a custom <a href="https://docs.juce.com/master/classAudioSource" target="_blank" rel="noopener noreferrer" title="Base class for objects that can produce a continuous stream of audio.">オーディオソース</a> class called <code>シンセオーディオソース</code>, which contains the <a href="https://docs.juce.com/master/classSynthesiser" target="_blank" rel="noopener noreferrer" title="Base class for a musical device that can play sounds.">シンセサイザー</a> class itself. This outputs all of the audio from the synthesiser.</li>
<li><code>サインウェーブボイス</code>: This is a custom <a href="https://docs.juce.com/master/classSynthesiserVoice" target="_blank" rel="noopener noreferrer" title="Represents a voice that a Synthesiser can use to play a SynthesiserSound.">シンセサイザー・ボイス</a> class called <code>サインウェーブボイス</code>. A voice class renders one of the voices of the synthesiser mixing it with the other sounding voices in a <a href="https://docs.juce.com/master/classSynthesiser" target="_blank" rel="noopener noreferrer" title="Base class for a musical device that can play sounds.">シンセサイザー</a> object. A single instance of a voice class renders one voice.</li>
<li><code>正弦波サウンド</code>: This contains a custom <a href="https://docs.juce.com/master/classSynthesiserSound" target="_blank" rel="noopener noreferrer" title="Describes one of the sounds that a Synthesiser can play.">シンセサイザーサウンド</a> class called <code>正弦波サウンド</code>. A sound class is effectively a description of the sound that can be created as a voice. For example, this may contain the sample data for a sampler voice or the wavetable data for a wavetable synthesiser.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up-the-keyboard">Setting up the keyboard<a href="#setting-up-the-keyboard" class="hash-link" aria-label="Setting up the keyboard への直接リンク" title="Setting up the keyboard への直接リンク">​</a></h2>
<p>Our <code>メインコンテンツコンポーネント</code> class contains the following data members.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">juce::MidiKeyboardState keyboardState；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SynthAudioSource synthAudioSource；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    juce::MidiKeyboardComponent keyboardComponent；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    JUCE_DECLARE_NON_COPYABLE_WITH_LEAK_DETECTOR (MainContentComponent).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>シンセオーディオソース</code> and <code>キーボードコンポーネント</code> members are initialised in the <code>メインコンテンツコンポーネント</code> constructor.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">MainContentComponent()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        : synthAudioSource (keyboardState)、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          keyboardComponent (keyboardState, juce::MidiKeyboardComponent::horizontalKeyboard)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        addAndMakeVisible (keyboardComponent)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        setAudioChannels (0, 2)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        setSize (600, 160)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        startTimer (400)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>See <a href="/juce-tutorial-ja/synth/tutorial_handling_midi_events/">チュートリアル：MIDIイベントの処理</a> for more information on the <a href="https://docs.juce.com/master/classMidiKeyboardComponent" target="_blank" rel="noopener noreferrer" title="A component that displays a piano keyboard, whose notes can be clicked on.">MidiKeyboardComponent</a> class.</p>
<p>コンピュータのキーボードからキーボードの演奏を開始するために、アプリケーションの起動直後にキーボード・フォーカスを取得します。そのために、400ミリ秒後に起動する単純なタイマーを使います：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void timerCallback() オーバーライド</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        keyboardComponent.grabKeyboardFocus()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        stopTimer()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="audioappcomponent-functions">AudioAppComponent functions<a href="#audioappcomponent-functions" class="hash-link" aria-label="AudioAppComponent functions への直接リンク" title="AudioAppComponent functions への直接リンク">​</a></h2>
<p>The application uses the <a href="https://docs.juce.com/master/classAudioAppComponent" target="_blank" rel="noopener noreferrer" title="A base class for writing audio apps that stream from the audio i/o devices.">オーディオコンポーネント</a> to set up a simple audio application (see <a href="/juce-tutorial-ja/synth/tutorial_simple_synth_noise/">チュートリアルホワイトノイズ・ジェネレーターを作る</a> for the most basic application). The three required <a href="http://www.learncpp.com/cpp-tutorial/126-pure-virtual-functions-abstract-base-classes-and-interface-classes/" target="_blank" rel="noopener noreferrer">ピュアバーチャル</a> functions simply call the corresponding functions in our custom <a href="https://docs.juce.com/master/classAudioSource" target="_blank" rel="noopener noreferrer" title="Base class for objects that can produce a continuous stream of audio.">オーディオソース</a> class:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void prepareToPlay (int samplesPerBlockExpected, double sampleRate) override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        synthAudioSource.prepareToPlay (samplesPerBlockExpected, sampleRate)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void getNextAudioBlock (const juce::AudioSourceChannelInfo&amp; bufferToFill) override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        synthAudioSource.getNextAudioBlock (bufferToFill)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void releaseResources() オーバーライド</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        synthAudioSource.releaseResources()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-synthaudiosource-class">The SynthAudioSource class<a href="#the-synthaudiosource-class" class="hash-link" aria-label="The SynthAudioSource class への直接リンク" title="The SynthAudioSource class への直接リンク">​</a></h2>
<p>The <code>シンセオーディオソース</code> class does a little more work:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class SynthAudioSource : public juce::AudioSource</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SynthAudioSource (juce::MidiKeyboardState&amp; keyState)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        : keyboardState (keyState)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (auto i = 0; i &lt; 4; ++i) // [1].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            synth.addVoice (new SineWaveVoice())；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        synth.addSound (new SineWaveSound()); // [2].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void setUsingSineWaveSound()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        synth.clearSounds()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void prepareToPlay (int /*samplesPerBlockExpected*/, double sampleRate) override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        synth.setCurrentPlaybackSampleRate (sampleRate); // [3].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void releaseResources() override {}.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void getNextAudioBlock (const juce::AudioSourceChannelInfo&amp; bufferToFill) override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        bufferToFill.clearActiveBufferRegion()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        juce::MidiBuffer incomingMidi；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        keyboardState.processNextMidiBuffer (incomingMidi, bufferToFill.startSample、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                             bufferToFill.numSamples, true); // [4].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        synth.renderNextBlock (*bufferToFill.buffer, incomingMidi、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                               bufferToFill.startSample, bufferToFill.numSamples); // [5］</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    juce::MidiKeyboardState&amp; keyboardState；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    juce::Synthesiser synth；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>[1]: We add some voices to our synthesiser. This number of voices added determines the polyphony of the synthesiser.</li>
<li>[2]: We add the sound so that the synthesiser knows which sounds it can play.</li>
<li>[3]: The synthesiser needs to know the sample rate of the audio output.</li>
<li>[4]: In the <code>getNextAudioBlock()</code> function we pull buffers of MIDI data from the <a href="https://docs.juce.com/master/classMidiKeyboardState" target="_blank" rel="noopener noreferrer" title="Represents a piano keyboard, keeping track of which keys are currently pressed.">ミディキーボードステート</a> object.</li>
<li>[5]: These buffers of MIDI are passed to the synthesiser which will be used to render the voices using the timestamps of the note-on and note-off messages (and other MIDI channel voice messages).</li>
</ul>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>警告</div><div class="admonitionContent_BuS1"><p><a href="https://docs.juce.com/master/classSynthesiserVoice" target="_blank" rel="noopener noreferrer" title="Represents a voice that a Synthesiser can use to play a SynthesiserSound.">シンセサイザー・ボイス</a> objects must be added to one and only one <a href="https://docs.juce.com/master/classSynthesiser" target="_blank" rel="noopener noreferrer" title="Base class for a musical device that can play sounds.">シンセサイザー</a> object. The <a href="https://docs.juce.com/master/classSynthesiser" target="_blank" rel="noopener noreferrer" title="Base class for a musical device that can play sounds.">シンセサイザー</a> object manages the lifetime of the voices.</p></div></div>
<p><a href="https://docs.juce.com/master/classSynthesiserSound" target="_blank" rel="noopener noreferrer" title="Describes one of the sounds that a Synthesiser can play.">シンセサイザーサウンド</a> objects can be shared between <a href="https://docs.juce.com/master/classSynthesiser" target="_blank" rel="noopener noreferrer" title="Base class for a musical device that can play sounds.">シンセサイザー</a> objects if you wish. The <a href="https://docs.juce.com/master/classSynthesiserSound" target="_blank" rel="noopener noreferrer" title="Describes one of the sounds that a Synthesiser can play.">シンセサイザーサウンド</a> class is a type of <a href="https://docs.juce.com/master/classReferenceCountedObject" target="_blank" rel="noopener noreferrer" title="A base class which provides methods for reference-counting.">参照カウントオブジェクト</a> class therefore the lifetime of <a href="https://docs.juce.com/master/classSynthesiserSound" target="_blank" rel="noopener noreferrer" title="Describes one of the sounds that a Synthesiser can play.">シンセサイザーサウンド</a> objects is handled automatically.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注記</div><div class="admonitionContent_BuS1"><p>If you need to keep a pointer to a <a href="https://docs.juce.com/master/classSynthesiserSound" target="_blank" rel="noopener noreferrer" title="Describes one of the sounds that a Synthesiser can play.">シンセサイザーサウンド</a> object you should store it in a <code>YourSoundClass::Ptr</code> variable for this memory management to work.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-sinewavesound-class">The SineWaveSound class<a href="#the-sinewavesound-class" class="hash-link" aria-label="The SineWaveSound class への直接リンク" title="The SineWaveSound class への直接リンク">​</a></h2>
<p>Our sound class is very simple, it doesn&#x27;t even need to contain any data. It just needs to report whether this sound should play on particular MIDI channels and specific notes or note ranges on that channel. In our simple case, it just returns <code>真の</code> for both the <code>applicesToNote()。</code> and <code>applicesToChannel()。</code> functions. As mentioned above, the sound class might be where you would store data that is needed to create the sound (such as a wavetable).</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">struct SineWaveSound : public juce::SynthesiserSound</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SineWaveSound(){}（サインウェーブサウンド） {}（サインウェーブサウンド</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bool appliesToNote (int) override { return true; }.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bool appliesToChannel (int) override { return true; }.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sine-wave-voice-state">Sine wave voice state<a href="#sine-wave-voice-state" class="hash-link" aria-label="Sine wave voice state への直接リンク" title="Sine wave voice state への直接リンク">​</a></h2>
<p>The <code>サインウェーブボイス</code> class is a bit more complex. It needs to maintain the state of one of the voices of the synthesiser. For our sine wave, we need these data members:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">private：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    double currentAngle = 0.0, angleDelta = 0.0, level = 0.0, tailOff = 0.0；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>See <a href="/juce-tutorial-ja/synth/tutorial_sine_synth/">チュートリアルサイン波シンセサイザーを作る</a> for information on the first three. The <code>テールオフ</code> member is used to give each voice a slightly softer <em>リリース</em> to its amplitude envelope. This gives each voice a slight fade out at the end rather than stopping abruptly.</p>
<figure><img src="https://docs.juce.com/master/tutorial_synth_using_midi_input_graph1.png" alt="Exponential release envelope"><figcaption><b>Exponential release envelope</b></figcaption></figure>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="checking-which-sound-can-be-played">Checking which sound can be played<a href="#checking-which-sound-can-be-played" class="hash-link" aria-label="Checking which sound can be played への直接リンク" title="Checking which sound can be played への直接リンク">​</a></h2>
<p>The <a title="Must return true if this voice object is capable of playing the given sound." href="/juce-tutorial-ja/synth/tutorial_synth_using_midi_input/classSynthesiserVoice.html/#aa9fb097ca96dc39fae8e6f7b9139df9f">SynthesiserVoice::canPlaySound()</a> function must be overriden to return whether the voice can play a sound. We could just return <code>真の</code> in this case but our example illustrates how to use <code>ダイナミックキャスト</code> to check the type of the sound class being passed in.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    bool canPlaySound (juce::SynthesiserSound* sound) override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return dynamic_cast(sound) != nullptr；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="starting-a-voice">Starting a voice<a href="#starting-a-voice" class="hash-link" aria-label="Starting a voice への直接リンク" title="Starting a voice への直接リンク">​</a></h2>
<p>A voice is started by the owning synthesiser by calling our <a title="Called to start a new note." href="/juce-tutorial-ja/synth/tutorial_synth_using_midi_input/classSynthesiserVoice.html/#af3b872622dd9bb540030420189175762">SynthesiserVoice::startNote()</a> function, which we must override:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    void startNote (int midiNoteNumber, float velocity,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    juce::SynthesiserSound*, int /*currentPitchWheelPosition*/) override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        currentAngle = 0.0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        level = velocity * 0.15;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        tailOff = 0.0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto cyclesPerSecond = juce::MidiMessage::getMidiNoteInHertz (midiNoteNumber);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto cyclesPerSample = cyclesPerSecond / getSampleRate();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        angleDelta = cyclesPerSample * 2.0 * juce::MathConstants::pi；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Again, most of this should be familar to your from <a href="/juce-tutorial-ja/synth/tutorial_sine_synth/">チュートリアルサイン波シンセサイザーを作る</a>. The <code>テールオフ</code> value is set to zero at the start of each voice. We also use the velocity of the MIDI note-on event to control the level of the voice.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="rendering-a-voice">Rendering a voice<a href="#rendering-a-voice" class="hash-link" aria-label="Rendering a voice への直接リンク" title="Rendering a voice への直接リンク">​</a></h2>
<p>The <a title="Renders the next block of data for this voice." href="/juce-tutorial-ja/synth/tutorial_synth_using_midi_input/classSynthesiserVoice.html/#a72ab7856c1e7651b1ce955388645a0a1">SynthesiserVoice::renderNextBlock()</a> function must be overriden to generate the audio.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void renderNextBlock (juce::AudioSampleBuffer&amp; outputBuffer, int startSample, int numSamples) override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (角度デルタ != 0.0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (tailOff &gt; 0.0) // [7].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                while (--numSamples &gt;= 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    auto currentSample = (float) (std::sin (currentAngle) * level * tailOff)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    for (auto i = outputBuffer.getNumChannels(); --i &gt;= 0;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        outputBuffer.addSample (i, startSample, currentSample)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    currentAngle += angleDelta；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    ++startSample；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    tailOff *= 0.99; // [8].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if (tailOff &lt;= 0.005)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        clearCurrentNote(); // [9].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        angleDelta = 0.0；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        ブレーク；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                while (--numSamples &gt;= 0) // [6].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    auto currentSample = (float) (std::sin (currentAngle) * level)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    for (auto i = outputBuffer.getNumChannels(); --i &gt;= 0;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        outputBuffer.addSample (i, startSample, currentSample)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    currentAngle += angleDelta；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    ++startSample；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label=" クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>[6]: This loop is used for the <em>通常</em> state of the voice, while the key is being held down. Notice that we use the <a title="Adds a value to a sample in the buffer." href="/juce-tutorial-ja/synth/tutorial_synth_using_midi_input/classAudioBuffer.html/#ab46e9ad400252255daa1086b354454b8">AudioSampleBuffer::addSample()</a> function, which mixes the <code>カレントサンプル</code> value with the value alread at index <code>開始サンプル</code>. This is because the synthesiser will be iterating over all of the voices. It is the responsibility of each voice to mix its output with the current contents of the buffer.</li>
<li>[7]: When the key has been released the <code>テールオフ</code> value will be greater than zero. You can see the synthesis algorithm is similar.</li>
<li>[8]: We use a simple exponential decay envelope shape.</li>
<li>[9]: When the <code>テールオフ</code> value is small we determine that the voice has ended. We <em>マスト</em> call the <a title="Resets the state of this voice after a sound has finished playing." href="/juce-tutorial-ja/synth/tutorial_synth_using_midi_input/classSynthesiserVoice.html/#a55d1e7a062f8dc9a6cd78526b0da049c">SynthesiserVoice::clearCurrentNote()</a> function at this point so that the voice is reset and available to be reused.</li>
</ul>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>警告</div><div class="admonitionContent_BuS1"><p>It is <em>とても</em> important that you take note of the <code>開始サンプル</code> argument. The synthesiser is very likely to call the <code>レンダーネクストブロック()</code> function mid-way through one of its output blocks. This is because the notes may start on any sample. These start times are based on the timestamps of the MIDI data received.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="stopping-a-voice">Stopping a voice<a href="#stopping-a-voice" class="hash-link" aria-label="Stopping a voice への直接リンク" title="Stopping a voice への直接リンク">​</a></h2>
<p>A voice is stopped by the owning synthersiser calling our <a title="Called to stop a note." href="/juce-tutorial-ja/synth/tutorial_synth_using_midi_input/classSynthesiserVoice.html/#ae1faf9289de24cdeb1d42289754601e6">SynthesiserVoice::stopNote()</a> function, which we must override:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void stopNote (float /*velocity*/, bool allowTailOff) override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (allowTailOff)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (tailOff == 0.0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                tailOff = 1.0；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            clearCurrentNote()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            angleDelta = 0.0；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This may include velocity information from the MIDI note-off message, but in many cases we can ignore this. We may be being asked to stop the voice immediately in which case we call the the <a title="Resets the state of this voice after a sound has finished playing." href="/juce-tutorial-ja/synth/tutorial_synth_using_midi_input/classSynthesiserVoice.html/#a55d1e7a062f8dc9a6cd78526b0da049c">SynthesiserVoice::clearCurrentNote()</a> function straight away. Under normal circumstances the synthesiser will allow our voices to end naturally. In our case we have the simple tail-off envelope. We trigger our tail-off by setting our <code>テールオフ</code> member to <code>1.0</code>.</p>
<p>声部が突然始まらないように、ゆっくりしたアタックを加えてみてください。</p>
<h1>Adding external MIDI input</h1>
<p>スクリーン上のキーボードだけでなく、外部MIDIソースからシンセサイザーをコントロールできる機能を追加しよう。</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>警告</div><div class="admonitionContent_BuS1"><p>おそらく、モバイル・プラットフォームではなく、macOS、Windows、Linuxなどのデスクトップ・プラットフォームで試す必要があるだろう。</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="providing-a-midi-input-to-the-synthaudiosource">Providing a MIDI input to the SynthAudioSource<a href="#providing-a-midi-input-to-the-synthaudiosource" class="hash-link" aria-label="Providing a MIDI input to the SynthAudioSource への直接リンク" title="Providing a MIDI input to the SynthAudioSource への直接リンク">​</a></h2>
<p>First add a <a href="https://docs.juce.com/master/classMidiMessageCollector" target="_blank" rel="noopener noreferrer" title="Collects incoming realtime MIDI messages and turns them into blocks suitable for processing by a bloc...">ミディメッセージコレクタ</a> object as a member of the <code>シンセオーディオソース</code> class. This provides somewhere that MIDI messages can be sent and that the <code>シンセオーディオソース</code> class can use them:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">juce::MidiMessageCollector midiCollector；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In order to process the timestamps of the MIDI data the <a href="https://docs.juce.com/master/classMidiMessageCollector" target="_blank" rel="noopener noreferrer" title="Collects incoming realtime MIDI messages and turns them into blocks suitable for processing by a bloc...">ミディメッセージコレクタ</a> class needs to know the audio sample rate. Set this in the <code>SynthAudioSource::prepareToPlay()</code> function [10]:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void prepareToPlay (int /*samplesPerBlockExpected*/, double sampleRate) override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        synth.setCurrentPlaybackSampleRate (sampleRate)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        midiCollector.reset (sampleRate); // [10].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Then you can pull any MIDI messages for each block of audio using the <a title="Removes all the pending messages from the queue as a buffer." href="/juce-tutorial-ja/synth/tutorial_synth_using_midi_input/classMidiMessageCollector.html/#ac72b6cf4965e63b90d1a2402b73b1798">MidiMessageCollector::removeNextBlockOfMessages()</a> function [11]:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void getNextAudioBlock (const juce::AudioSourceChannelInfo&amp; bufferToFill) override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        bufferToFill.clearActiveBufferRegion()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        juce::MidiBuffer incomingMidi；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        midiCollector.removeNextBlockOfMessages (incomingMidi, bufferToFill.numSamples); // [11].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        keyboardState.processNextMidiBuffer (incomingMidi, bufferToFill.startSample、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                             bufferToFill.numSamples, true)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        synth.renderNextBlock (*bufferToFill.buffer, incomingMidi、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                               bufferToFill.startSample, bufferToFill.numSamples)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>We&#x27;ll need access to this <a href="https://docs.juce.com/master/classMidiMessageCollector" target="_blank" rel="noopener noreferrer" title="Collects incoming realtime MIDI messages and turns them into blocks suitable for processing by a bloc...">ミディメッセージコレクタ</a> object from outside the <code>シンセオーディオソース</code> class, so add an accessor to the <code>シンセオーディオソース</code> class like this:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">juce::MidiMessageCollector* getMidiCollector()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &amp;midiCollector；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In our <code>メインコンテンツコンポーネント</code> class we&#x27;ll add this <a href="https://docs.juce.com/master/classMidiMessageCollector" target="_blank" rel="noopener noreferrer" title="Collects incoming realtime MIDI messages and turns them into blocks suitable for processing by a bloc...">ミディメッセージコレクタ</a> object as a <a href="https://docs.juce.com/master/classMidiInputCallback" target="_blank" rel="noopener noreferrer" title="Receives incoming messages from a physical MIDI input device.">MidiInputCallback</a> object to our application&#x27;s <a href="https://docs.juce.com/master/classAudioDeviceManager" target="_blank" rel="noopener noreferrer" title="Manages the state of some audio and midi i/o devices.">オーディオデバイスマネージャー</a> object.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="listing-midi-inputs">Listing MIDI inputs<a href="#listing-midi-inputs" class="hash-link" aria-label="Listing MIDI inputs への直接リンク" title="Listing MIDI inputs への直接リンク">​</a></h2>
<p>To present a list of MIDI input devices to user, we&#x27;ll use some code from <a href="/juce-tutorial-ja/synth/tutorial_handling_midi_events/">チュートリアル：MIDIイベントの処理</a>. Add some members to our <code>メインコンテンツコンポーネント</code> class:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">juce::ComboBox midiInputList；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    juce::Label midiInputListLabel；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int lastInputIndex = 0；</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Then add the following code to the <code>メインコンテンツコンポーネント</code> constructor.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">addAndMakeVisible (midiInputListLabel)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        midiInputListLabel.setText (&quot;MIDI Input:&quot;, juce::dontSendNotification)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        midiInputListLabel.attachToComponent (&amp;midiInputList, true)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto midiInputs = juce::MidiInput::getAvailableDevices()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        addAndMakeVisible (midiInputList)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        midiInputList.setTextWhenNoChoicesAvailable (&quot;No MIDI Inputs Enabled&quot;)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        juce::StringArray midiInputNames；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (auto input : midiInputs)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            midiInputNames.add (input.name)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        midiInputList.addItemList (midiInputNames, 1)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        midiInputList.onChange = [this] { setMidiInput (midiInputList.getSelectedItemIndex()); }；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (auto input : midiInputs)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (deviceManager.isMidiInputDeviceEnabled (input.identifier))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                setMidiInput (midiInputs.indexOf (input))；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                break；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (midiInputList.getSelectedId() == 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            setMidiInput (0)；</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Add the <code>setMidiInput()</code> function that is called in the code above:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void setMidiInput (int index)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto list = juce::MidiInput::getAvailableDevices()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        deviceManager.removeMidiInputDeviceCallback (list[lastInputIndex].identifier、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                     synthAudioSource.getMidiCollector()); // [12].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto newInput = list[index]；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (! deviceManager.isMidiInputDeviceEnabled (newInput.identifier))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            deviceManager.setMidiInputDeviceEnabled (newInput.identifier, true)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        deviceManager.addMidiInputDeviceCallback (newInput.identifier, synthAudioSource.getMidiCollector()); // [13].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        midiInputList.setSelectedId (index + 1, juce::dontSendNotification)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        lastInputIndex = index；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Notice that we add the <a href="https://docs.juce.com/master/classMidiMessageCollector" target="_blank" rel="noopener noreferrer" title="Collects incoming realtime MIDI messages and turns them into blocks suitable for processing by a bloc...">ミディメッセージコレクタ</a> object from our <code>シンセオーディオソース</code> object as a <a href="https://docs.juce.com/master/classMidiInputCallback" target="_blank" rel="noopener noreferrer" title="Receives incoming messages from a physical MIDI input device.">MidiInputCallback</a> object [13] for the specified MIDI input device. We also need to remove the previous <a href="https://docs.juce.com/master/classMidiInputCallback" target="_blank" rel="noopener noreferrer" title="Receives incoming messages from a physical MIDI input device.">MidiInputCallback</a> object for the previously selected MIDI input device if the user changes the selected device using the combo-box [12].</p>
<p>We need to position this <a href="https://docs.juce.com/master/classComboBox" target="_blank" rel="noopener noreferrer" title="A component that lets the user choose from a drop-down list of choices.">コンボボックス</a> object and adjust the position of the <a href="https://docs.juce.com/master/classMidiKeyboardComponent" target="_blank" rel="noopener noreferrer" title="A component that displays a piano keyboard, whose notes can be clicked on.">MidiKeyboardComponent</a> object in our <code>リサイズ</code> function:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void resized() override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        midiInputList .setBounds (200, 10, getWidth() - 210, 20)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        keyboardComponent.setBounds (10, 40, getWidth() - 20, getHeight() - 50)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>もう一度アプリケーションを実行すると、次のようになるはずです：</p>
<figure><img src="https://docs.juce.com/master/tutorial_synth_using_midi_input_screenshot2.png" alt="The application window showing the MIDI input device list"><figcaption><b>The application window showing the MIDI input device list</b></figcaption></figure>
<p>もちろん、表示されるデバイスはシステム構成によって異なります。</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注記</div><div class="admonitionContent_BuS1"><p>The source code for this modified version of the application can be found in the <code>SynthUsingMidiInputTutorial_02.h</code> file of the demo project.</p></div></div>
<p>各ボイスのテールオフの長さをコントロールするスライダーを追加してみてください。また、アタックの長さをコントロールするスライダーを追加することもできます。</p>
<h1>Summary</h1>
<p>This tutorial has introduced the <a href="https://docs.juce.com/master/classSynthesiser" target="_blank" rel="noopener noreferrer" title="Base class for a musical device that can play sounds.">シンセサイザー</a> class. After reading this tutorial you should be able to:</p>
<ul>
<li>Set up a <a href="https://docs.juce.com/master/classSynthesiser" target="_blank" rel="noopener noreferrer" title="Base class for a musical device that can play sounds.">シンセサイザー</a> class within an <a href="https://docs.juce.com/master/classAudioSource" target="_blank" rel="noopener noreferrer" title="Base class for objects that can produce a continuous stream of audio.">オーディオソース</a> subclass for generating audio.</li>
<li>Create appropriate <a href="https://docs.juce.com/master/classSynthesiserVoice" target="_blank" rel="noopener noreferrer" title="Represents a voice that a Synthesiser can use to play a SynthesiserSound.">シンセサイザー・ボイス</a> and <a href="https://docs.juce.com/master/classSynthesiserSound" target="_blank" rel="noopener noreferrer" title="Describes one of the sounds that a Synthesiser can play.">シンセサイザーサウンド</a> classes and add them to a <a href="https://docs.juce.com/master/classSynthesiser" target="_blank" rel="noopener noreferrer" title="Base class for a musical device that can play sounds.">シンセサイザー</a> object.</li>
<li>Send MIDI message from an on-screen keyboard and external MIDI sources to a <a href="https://docs.juce.com/master/classSynthesiser" target="_blank" rel="noopener noreferrer" title="Base class for a musical device that can play sounds.">シンセサイザー</a> object.</li>
</ul>
<h1>See also</h1>
<ul>
<li><a href="/juce-tutorial-ja/synth/tutorial_handling_midi_events/">チュートリアル：MIDIイベントの処理</a></li>
<li><a href="/juce-tutorial-ja/synth/tutorial_simple_synth_noise/">チュートリアルホワイトノイズ・ジェネレーターを作る</a></li>
<li><a href="/juce-tutorial-ja/synth/tutorial_sine_synth/">チュートリアルサイン波シンセサイザーを作る</a></li>
<li><a href="/juce-tutorial-ja/synth/tutorial_synth_db_level_control/">チュートリアルデシベルを使ってオーディオレベルをコントロールする</a></li>
<li><a href="/juce-tutorial-ja/synth/tutorial_synth_level_control/">チュートリアルオーディオレベルのコントロール</a></li>
<li><a href="/juce-tutorial-ja/synth/tutorial_wavetable_synth/">チュートリアルウェーブテーブルシンセシス</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/m1m0zzz/juce-tutorial-ja/tree/main/docs/synth/tutorial_synth_using_midi_input.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>このページを編集</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="ドキュメントページ"><a class="pagination-nav__link pagination-nav__link--prev" href="/juce-tutorial-ja/synth/tutorial_sine_synth/"><div class="pagination-nav__sublabel">前へ</div><div class="pagination-nav__label">サイン波シンセサイザーを作る</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/juce-tutorial-ja/synth/tutorial_wavetable_synth/"><div class="pagination-nav__sublabel">次へ</div><div class="pagination-nav__label">ウェーブテーブル・シンセシス</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#setting-up-the-keyboard" class="table-of-contents__link toc-highlight">Setting up the keyboard</a></li><li><a href="#audioappcomponent-functions" class="table-of-contents__link toc-highlight">AudioAppComponent functions</a></li><li><a href="#the-synthaudiosource-class" class="table-of-contents__link toc-highlight">The SynthAudioSource class</a></li><li><a href="#the-sinewavesound-class" class="table-of-contents__link toc-highlight">The SineWaveSound class</a></li><li><a href="#sine-wave-voice-state" class="table-of-contents__link toc-highlight">Sine wave voice state</a></li><li><a href="#checking-which-sound-can-be-played" class="table-of-contents__link toc-highlight">Checking which sound can be played</a></li><li><a href="#starting-a-voice" class="table-of-contents__link toc-highlight">Starting a voice</a></li><li><a href="#rendering-a-voice" class="table-of-contents__link toc-highlight">Rendering a voice</a></li><li><a href="#stopping-a-voice" class="table-of-contents__link toc-highlight">Stopping a voice</a></li><li><a href="#providing-a-midi-input-to-the-synthaudiosource" class="table-of-contents__link toc-highlight">Providing a MIDI input to the SynthAudioSource</a></li><li><a href="#listing-midi-inputs" class="table-of-contents__link toc-highlight">Listing MIDI inputs</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Tutorial</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/juce-tutorial-ja/category/getting-started/">Getting Started</a></li></ul></div><div class="col footer__col"><div class="footer__title">JUCE</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://juce.com/learn/tutorials/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Tutorials<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://juce.com/learn/documentation/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Documentation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://forum.juce.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/m1m0zzz/juce-tutorial-ja" target="_blank" rel="noopener noreferrer" class="footer__link-item">repo<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/juce-framework/JUCE" target="_blank" rel="noopener noreferrer" class="footer__link-item">JUCE GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2024 Raw Material Software Limited. translation: mimoz</div></div></div></footer></div>
</body>
</html>