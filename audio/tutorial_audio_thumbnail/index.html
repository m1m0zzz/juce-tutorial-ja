<!doctype html>
<html lang="ja" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-audio/tutorial_audio_thumbnail" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">オーディオ波形を描く | JUCE日本語版チュートリアル</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://m1m0zzz.github.io/juce-tutorial-ja/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://m1m0zzz.github.io/juce-tutorial-ja/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://m1m0zzz.github.io/juce-tutorial-ja/audio/tutorial_audio_thumbnail/"><meta data-rh="true" property="og:locale" content="ja"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="オーディオ波形を描く | JUCE日本語版チュートリアル"><meta data-rh="true" name="description" content="This tutorial introduces the display of audio waveforms using the オーディオサムネイル class. This provides an easy way of drawing any number of waveforms within your audio applications."><meta data-rh="true" property="og:description" content="This tutorial introduces the display of audio waveforms using the オーディオサムネイル class. This provides an easy way of drawing any number of waveforms within your audio applications."><link data-rh="true" rel="icon" href="/juce-tutorial-ja/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://m1m0zzz.github.io/juce-tutorial-ja/audio/tutorial_audio_thumbnail/"><link data-rh="true" rel="alternate" href="https://m1m0zzz.github.io/juce-tutorial-ja/audio/tutorial_audio_thumbnail/" hreflang="ja"><link data-rh="true" rel="alternate" href="https://m1m0zzz.github.io/juce-tutorial-ja/audio/tutorial_audio_thumbnail/" hreflang="x-default"><link rel="stylesheet" href="/juce-tutorial-ja/assets/css/styles.ee4ac6b4.css">
<script src="/juce-tutorial-ja/assets/js/runtime~main.5add7671.js" defer="defer"></script>
<script src="/juce-tutorial-ja/assets/js/main.cf826c6e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="メインコンテンツまでスキップ"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">メインコンテンツまでスキップ</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/juce-tutorial-ja/"><div class="navbar__logo"><img src="/juce-tutorial-ja/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/juce-tutorial-ja/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">JUCE日本語版チュートリアル</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/juce-tutorial-ja/">Tutorial</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/m1m0zzz/juce-tutorial-ja" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="ダークモードを切り替える(現在はライトモード)" aria-label="ダークモードを切り替える(現在はライトモード)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="先頭へ戻る" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/juce-tutorial-ja/">About / このサイトについて</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/getting-started/">Getting Started</a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/juce-tutorial-ja/category/audio/">Audio</a><button aria-label="Collapse sidebar category &#x27;Audio&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/juce-tutorial-ja/audio/tutorial_playing_sound_files/">オーディオプレーヤーの構築</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/juce-tutorial-ja/audio/tutorial_processing_audio_input/">オーディオ入力の処理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/juce-tutorial-ja/audio/tutorial_looping_audio_sample_buffer/">AudioSampleBufferクラスを使ったオーディオのループ再生</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/juce-tutorial-ja/audio/tutorial_looping_audio_sample_buffer_advanced/">AudioSampleBufferクラスを使ったオーディオのループ（上級者向け）</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/juce-tutorial-ja/audio/tutorial_audio_thumbnail/">オーディオ波形を描く</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/juce-tutorial-ja/audio/tutorial_audio_device_manager/">AudioDeviceManagerクラス</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/synth/">Synth</a><button aria-label="Expand sidebar category &#x27;Synth&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/midi/">MIDI</a><button aria-label="Expand sidebar category &#x27;MIDI&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/plugins/">Plugins</a><button aria-label="Expand sidebar category &#x27;Plugins&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/dsp/">DSP</a><button aria-label="Expand sidebar category &#x27;DSP&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/graphics/">Graphics</a><button aria-label="Expand sidebar category &#x27;Graphics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/interface-design/">Interface Design</a><button aria-label="Expand sidebar category &#x27;Interface Design&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/mobile/">Mobile</a><button aria-label="Expand sidebar category &#x27;Mobile&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/juce-tutorial-ja/category/utility-classes/">Utility Classes</a><button aria-label="Expand sidebar category &#x27;Utility Classes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="パンくずリストのナビゲーション"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ホームページ" class="breadcrumbs__link" href="/juce-tutorial-ja/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/juce-tutorial-ja/category/audio/"><span itemprop="name">Audio</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">オーディオ波形を描く</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">このページの見出し</button></div><div class="theme-doc-markdown markdown"><h1>チュートリアルオーディオ波形を描く</h1>
<p>This tutorial introduces the display of audio waveforms using the <a href="https://docs.juce.com/master/classAudioThumbnail" target="_blank" rel="noopener noreferrer" title="Makes it easy to quickly draw scaled views of the waveform shape of an audio file.">オーディオサムネイル</a> class. This provides an easy way of drawing any number of waveforms within your audio applications.</p>
<p>レベル Intermediate</p>
<p>プラットフォーム Windows, macOS, Linux</p>
<p>クラス： <a href="https://docs.juce.com/master/classAudioThumbnail" target="_blank" rel="noopener noreferrer" title="Makes it easy to quickly draw scaled views of the waveform shape of an audio file.">オーディオサムネイル</a>, <a href="https://docs.juce.com/master/classAudioThumbnailCache" target="_blank" rel="noopener noreferrer" title="An instance of this class is used to manage multiple AudioThumbnail objects.">オーディオサムネイルキャッシュ</a>, <a href="https://docs.juce.com/master/classAudioFormatReader" target="_blank" rel="noopener noreferrer" title="Reads samples from an audio file stream.">オーディオフォーマットリーダー</a>, <a href="https://docs.juce.com/master/classChangeListener" target="_blank" rel="noopener noreferrer" title="Receives change event callbacks that are sent out by a ChangeBroadcaster.">変更リスナー</a></p>
<h1>Getting started</h1>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注記</div><div class="admonitionContent_BuS1"><p>This tutorial leads on from <a href="/juce-tutorial-ja/audio/tutorial_playing_sound_files/">チュートリアルオーディオプレーヤーの構築</a>, which you should have read and understood first. It also assumes that you are familiar with the <a href="https://docs.juce.com/master/classGraphics" target="_blank" rel="noopener noreferrer" title="A graphics context, used for drawing a component or image.">グラフィック</a> class and the Component::paint() function for performing drawing within a component (see <a href="/juce-tutorial-ja/audio/tutorial_graphics_class/">チュートリアルGraphicsクラス</a>).</p></div></div>
<p>Download the demo project for this tutorial here: <a href="/juce-tutorial-ja/tutorials/PIPs/AudioThumbnailTutorial.zip/">ピップ</a> | <a href="/juce-tutorial-ja/tutorials/ZIPs/AudioThumbnailTutorial.zip/">ジップ</a>. Unzip the project and open the first header file in the Projucer.</p>
<p>If you need help with this step, see <a href="/juce-tutorial-ja/audio/tutorial_new_projucer_project/">チュートリアルProjucerパート1：Projucerを始める</a>.</p>
<h1>The demo project</h1>
<p>The demo project presents three buttons in the same way as <a href="/juce-tutorial-ja/audio/tutorial_playing_sound_files/">チュートリアルオーディオプ  レーヤーの構築</a> (for opening, playing, and stopping a sound file).</p>
<p>また、サウンドファイルの波形を描画する矩形領域もあります。デフォルトの状態（サウンドファイルがロードされていない状態）では、アプリケーションは以下のようになります：</p>
<figure><img src="https://docs.juce.com/master/tutorial_audio_thumbnail_screenshot1.png" alt="The demo project showing its initial state"><figcaption><b>The demo project showing its initial state</b></figcaption></figure>
<p>サウンドファイルがロードされると、アプリケーションは次のようになる：</p>
<figure><img src="https://docs.juce.com/master/tutorial_audio_thumbnail_screenshot2.png" alt="The demo project showing a file opened and displayed using the AudioThumbnail class"><figcaption><b>The demo project showing a file opened and displayed using the AudioThumbnail class</b></figcaption></figure>
<p>Drawing an audio waveform, especially for long files, generally involves storing a low resolution version of the audio data in a format that makes drawing the waveform efficient and also clear to the user. The <a href="https://docs.juce.com/master/classAudioThumbnail" target="_blank" rel="noopener noreferrer" title="Makes it easy to quickly draw scaled views of the waveform shape of an audio file.">オーディオサムネイル</a> class handles this low resolution version for you and it is created and updated when needed.</p>
<h1>Setting up the AudioThumbnail</h1>
<p>The first important point is that the <a href="https://docs.juce.com/master/classAudioThumbnail" target="_blank" rel="noopener noreferrer" title="Makes it easy to quickly draw scaled views of the waveform shape of an audio file.">オーディオサムネイル</a> class <strong>ではない</strong> a subclass of the <a href="https://docs.juce.com/master/classComponent" target="_blank" rel="noopener noreferrer" title="The base class for all JUCE user-interface objects.">コンポーネント</a> class. The <a href="https://docs.juce.com/master/classAudioThumbnail" target="_blank" rel="noopener noreferrer" title="Makes it easy to quickly draw scaled views of the waveform shape of an audio file.">オーディオサムネイル</a> class is used to perform the drawing of the audio waveform within the <code>ペイント</code> function of another <a href="https://docs.juce.com/master/classComponent" target="_blank" rel="noopener noreferrer" title="The base class for all JUCE user-interface objects.">コンポーネント</a> object. The code below shows how to add this functionality based on the demo project from <a href="/juce-tutorial-ja/audio/tutorial_playing_sound_files/">チュートリアルオーディオプレーヤーの構築</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="additional-objects">Additional objects<a href="#additional-objects" class="hash-link" aria-label="Additional objects への直接リンク" title="Additional objects への直接リンク">​</a></h2>
<p>In our <code>メインコンテンツコンポーネント</code> class we need to add two members: an <a href="https://docs.juce.com/master/classAudioThumbnailCache" target="_blank" rel="noopener noreferrer" title="An instance of this class is used to manage multiple AudioThumbnail objects.">オーディオサムネイルキャッシュ</a> object and an <a href="https://docs.juce.com/master/classAudioThumbnail" target="_blank" rel="noopener noreferrer" title="Makes it easy to quickly draw scaled views of the waveform shape of an audio file.">オーディオサムネイル</a> object. The <a href="https://docs.juce.com/master/classAudioThumbnailCache" target="_blank" rel="noopener noreferrer" title="An instance of this class is used to manage multiple AudioThumbnail objects.">オーディオサムネイルキャッシュ</a> class is used to cache the necessary low resolution version of one or more audio files. This means, for example, if we close a file, open a new file, then return to open the first file, the <a href="https://docs.juce.com/master/classAudioThumbnailCache" target="_blank" rel="noopener noreferrer" title="An instance of this class is used to manage multiple AudioThumbnail objects.">オーディオサムネイルキャッシュ</a> will still contain the low resolution version of the first file and won&#x27;t need to rescan and recalculate the data. Another useful feature is that <a href="https://docs.juce.com/master/classAudioThumbnailCache" target="_blank" rel="noopener noreferrer" title="An instance of this class is used to manage multiple AudioThumbnail objects.">オーディオサムネイルキャッシュ</a> objects can be shared between different instances of the <a href="https://docs.juce.com/master/classAudioThumbnail" target="_blank" rel="noopener noreferrer" title="Makes it easy to quickly draw scaled views of the waveform shape of an audio file.">オーディオサムネイル</a> class</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    juce::TextButton openButton;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    juce::TextButton playButton;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    juce::TextButton stopButton;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    std::unique_ptr chooser;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    juce::AudioFormatManager formatManager;                    // [3]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    std::unique_ptrreaderSource；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    juce::AudioTransportSource transportSource；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    TransportState 状態；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    juce::AudioThumbnailCache thumbnailCache; // [1].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    juce::AudioThumbnail thumbnail; // [2].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    JUCE_DECLARE_NON_COPYABLE_WITH_LEAK_DETECTOR (MainContentComponent).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If statically allocated objects like this are used, it is important that the <a href="https://docs.juce.com/master/classAudioThumbnailCache" target="_blank" rel="noopener noreferrer" title="An instance of this class is used to manage multiple AudioThumbnail objects.">オーディオサムネイルキャッシュ</a> object [1] is listed before the <a href="https://docs.juce.com/master/classAudioThumbnail" target="_blank" rel="noopener noreferrer" title="Makes it easy to quickly draw scaled views of the waveform shape of an audio file.">オーディオサムネイル</a> object [2] since it is passed as an argument to the <a href="https://docs.juce.com/master/classAudioThumbnail" target="_blank" rel="noopener noreferrer" title="Makes it easy to quickly draw scaled views of the waveform shape of an audio file.">オーディオサムネイル</a> <a href="/juce-tutorial-ja/audio/tutorial_audio_thumbnail/classAudioThumbnail.html/#abfa7516538eb0518cddeec4c71cf329d">コンストラクタを使用する。</a> It is also important that the <a href="https://docs.juce.com/master/classAudioFormatManager" target="_blank" rel="noopener noreferrer" title="A class for keeping a list of available audio formats, and for deciding which one to use to open a gi...">オーディオフォーマットマネージャー</a> object [3] is listed before the <a href="https://docs.juce.com/master/classAudioThumbnail" target="_blank" rel="noopener noreferrer" title="Makes it easy to quickly draw scaled views of the waveform shape of an audio file.">オーディオサムネイル</a> object for the same reason.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="initialising-the-objects">Initialising the objects<a href="#initialising-the-objects" class="hash-link" aria-label="Initialising the objects への直接リンク" title="Initialising the objects への直接リンク">​</a></h2>
<p>In the initialiser list for the <code>メインコンテンツコンポーネント</code> constructor we set up these objects:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">MainContentComponent()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       : 状態 (停止)、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         thumbnailCache (5), // [4].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         thumbnail (512, formatManager, thumbnailCache) // [5].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>[4]: The <a href="https://docs.juce.com/master/classAudioThumbnailCache" target="_blank" rel="noopener noreferrer" title="An instance of this class is used to manage multiple AudioThumbnail objects.">オーディオサムネイルキャッシュ</a> objects must be constructed with the number of thumbnails to store.</li>
<li>[5]: The <a href="https://docs.juce.com/master/classAudioThumbnail" target="_blank" rel="noopener noreferrer" title="Makes it easy to quickly draw scaled views of the waveform shape of an audio file.">オーディオサムネイル</a> object itself needs to be constructed by telling it how many source samples will be used to create a single thumbnail sample. This governs the resolution of the low resolution version. The other two arguments are the <a href="https://docs.juce.com/master/classAudioFormatManager" target="_blank" rel="noopener noreferrer" title="A class for keeping a list of available audio formats, and for deciding which one to use to open a gi...">オーディオフォーマットマネージャー</a> and <a href="https://docs.juce.com/master/classAudioThumbnailCache" target="_blank" rel="noopener noreferrer" title="An instance of this class is used to manage multiple AudioThumbnail objects.">オーディオサムネイルキャッシュ</a> objects, as discussed above.</li>
</ul>
<p>The <a href="https://docs.juce.com/master/classAudioThumbnail" target="_blank" rel="noopener noreferrer" title="Makes it easy to quickly draw scaled views of the waveform shape of an audio file.">オーディオサムネイル</a> class is also a type of <a href="https://docs.juce.com/master/classChangeBroadcaster" target="_blank" rel="noopener noreferrer" title="Holds a list of ChangeListeners, and sends messages to them when instructed.">チェンジブロードキャスター</a> class. We can register as a listener for changes [6] (in our <code>メインコンテンツコンポーネント</code> constructor). These changes will be when the <a href="https://docs.juce.com/master/classAudioThumbnail" target="_blank" rel="noopener noreferrer" title="Makes it easy to quickly draw scaled views of the waveform shape of an audio file.">オーディオサムネイル</a> object has changed such that we need to update our drawing of the waveform.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="responding-to-changes">Responding to changes<a href="#responding-to-changes" class="hash-link" aria-label="Responding to changes への直接リンク" title="Responding to changes への直接リンク">​</a></h2>
<p>In our <code>changeListenerCallback()</code> function we need to determine whether the change is being broadcasted from the <a href="https://docs.juce.com/master/classAudioTransportSource" target="_blank" rel="noopener noreferrer" title="An AudioSource that takes a PositionableAudioSource and allows it to be played, stopped,...">オーディオ・トランスポート・ソース</a> object or the <a href="https://docs.juce.com/master/classAudioThumbnail" target="_blank" rel="noopener noreferrer" title="Makes it easy to quickly draw scaled views of the waveform shape of an audio file.">オーディオサムネイル</a> object:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void changeListenerCallback (juce::ChangeBroadcaster* source) override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (source == &amp;transportSource) transportSourceChanged()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (source == &amp;thumbnail) thumbnailChanged()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>transportSourceChanged()</code> function just contains our original code for responding to changes in the <a href="https://docs.juce.com/master/classAudioTransportSource" target="_blank" rel="noopener noreferrer" title="An AudioSource that takes a PositionableAudioSource and allows it to be played, stopped,...">オーディオ・トランスポート・ソース</a> object:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void transportSourceChanged()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        changeState (transportSource.isPlaying() ?Playing : Stopped)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If it is the <a href="https://docs.juce.com/master/classAudioThumbnail" target="_blank" rel="noopener noreferrer" title="Makes it easy to quickly draw scaled views of the waveform shape of an audio file.">オーディオサムネイル</a> object that has changed, we call the Component::repaint() function. This will cause our <code>ペイント</code> function to be called during the next screen drawing operation:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void thumbnailChanged()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        repaint()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="opening-the-file">Opening the file<a href="#opening-the-file" class="hash-link" aria-label="Opening the file への直接リンク" title="Opening the file への直接リンク">​</a></h2>
<p>When we open the sound file successfully we also need to pass the file to the <a href="https://docs.juce.com/master/classAudioThumbnail" target="_blank" rel="noopener noreferrer" title="Makes it easy to quickly draw scaled views of the waveform shape of an audio file.">オーディオサムネイル</a> object [7] within a <a href="https://docs.juce.com/master/classFileInputSource" target="_blank" rel="noopener noreferrer" title="A type of InputSource that represents a normal file.">ファイル入力ソース</a> object.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    void openButtonClicked()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        chooser = std::make_unique (&quot;Select a Wave file to play...&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                       juce::File{},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                       &quot;*.wav&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto chooserFlags = juce::FileBrowserComponent::openMode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                          | juce::FileBrowserComponent::canSelectFiles;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        chooser-&gt;launchAsync (chooserFlags, [this] (const juce::FileChooser&amp; fc)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            auto file = fc.getResult();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (file != juce::File{})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                auto* reader = formatManager.createReaderFor (file);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (reader != nullptr)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    auto newSource = std::make_unique(reader, true)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    transportSource.setSource (newSource.get(), 0, nullptr, reader-&gt;sampleRate)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    playButton.setEnabled (true)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    thumbnail.setSource (new juce::FileInputSource (file)); // [7].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    readerSource.reset (newSource.release())；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="performing-the-drawing">Performing the drawing<a href="#performing-the-drawing" class="hash-link" aria-label="Performing the drawing への直接リンク" title="Performing the drawing への直接リンク">​</a></h2>
<p>In our <code>ペイント</code> function, first we calculate the rectangle into which we will draw. Then we check how many channels the <a href="https://docs.juce.com/master/classAudioThumbnail" target="_blank" rel="noopener noreferrer" title="Makes it easy to quickly draw scaled views of the waveform shape of an audio file.">オーディオサムネイル</a> object contains, which tells us whether we have a file loaded or not:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    void paint (juce::Graphics&amp; g) override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        juce::RectanglethumbnailBounds (10, 100, getWidth() - 20, getHeight() - 120)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (thumbnail.getNumChannels() == 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            paintIfNoFileLoaded (g, thumbnailBounds)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        さもなければ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            paintIfFileLoaded (g, thumbnailBounds)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If we have no file loaded then we display the message <strong>ファイルが読み込まれない</strong> by passing our <code>paintIfNoFileLoaded()</code> function the <a href="https://docs.juce.com/master/classGraphics" target="_blank" rel="noopener noreferrer" title="A graphics context, used for drawing a component or image.">グラフィック</a> object and the bounds rectangle:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    void paintIfNoFileLoaded (juce::Graphics&amp; g, const juce::Rectangle&amp; thumbnailBounds)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        g.setColour (juce::Colours::darkgrey)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        g.fillRect (thumbnailBounds)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        g.setColour (juce::Colours::white)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        g.drawFittedText (&quot;No File Loaded&quot;, thumbnailBounds, juce::Justification::centred, 1)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The important part is next. If we <em>する</em> have a file loaded we can draw the waveform:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    void paintIfFileLoaded (juce::Graphics&amp; g, const juce::Rectangle&amp; thumbnailBounds)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        g.setColour (juce::Colours::white)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        g.fillRect (thumbnailBounds)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        g.setColour (juce::Colours::red); // [8].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        thumbnail.drawChannels (g, // [9]).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                thumbnailBounds、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                0.0, // 開始時間</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                thumbnail.getTotalLength(), // 終了時間</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                1.0f); // 垂直ズーム</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>[8]: Notice that we set the current colour for the <a href="https://docs.juce.com/master/classGraphics" target="_blank" rel="noopener noreferrer" title="A graphics context, used for drawing a component or image.">グラフィック</a> object. This will govern the colour used by the <a href="https://docs.juce.com/master/classAudioThumbnail" target="_blank" rel="noopener noreferrer" title="Makes it easy to quickly draw scaled views of the waveform shape of an audio file.">オーディオサムネイル</a> object to draw the waveform.</li>
<li>[9]: We call the <a title="Draws the waveforms for all channels in the thumbnail." href="/juce-tutorial-ja/audio/tutorial_audio_thumbnail/classAudioThumbnail.html/#a8fc354b03e88e66771ef3b9647fdd9fa">AudioThumbnail::drawChannels()</a> function passing it the <a href="https://docs.juce.com/master/classGraphics" target="_blank" rel="noopener noreferrer" title="A graphics context, used for drawing a component or image.">グラフィック</a> object with which to draw, the rectangle into which it should draw, the start and end times (in seconds), and the vertical zoom factor. Here we use the <a title="Returns the length of the audio file, in seconds." href="/juce-tutorial-ja/audio/tutorial_audio_thumbnail/classAudioThumbnail.html/#a76892e0159356999dfe317fa1c5e044b">オーディオサムネイル::getTotalLength()</a> function to get the file duration so that we can draw the whole file. (We could have obtained the length from our <a href="https://docs.juce.com/master/classAudioTransportSource" target="_blank" rel="noopener noreferrer" title="An AudioSource that takes a PositionableAudioSource and allows it to be played, stopped,...">オーディオ・トランスポート・ソース</a> object using the <a title="Returns the stream&#x27;s length in seconds." href="/juce-tutorial-ja/audio/tutorial_audio_thumbnail/classAudioTransportSource.html/#aa2896785ea5864f2cd961676bfbe21b7">AudioTransportSource::getLengthInSeconds()</a> function to get the same result.)</li>
</ul>
<p>This covers all the basic points for using an <a href="https://docs.juce.com/master/classAudioThumbnail" target="_blank" rel="noopener noreferrer" title="Makes it easy to quickly draw scaled views of the waveform shape of an audio file.">オーディオサムネイル</a> object.</p>
<p>In practice you will commonly want to display only certain regions of the sound files. It should be clear from the <a title="Draws the waveforms for all channels in the thumbnail." href="/juce-tutorial-ja/audio/tutorial_audio_thumbnail/classAudioThumbnail.html/#a8fc354b03e88e66771ef3b9647fdd9fa">AudioThumbnail::drawChannels()</a> function how simple this is to implement using JUCE. Try modifying the code to display only a specific region of the file.</p>
<h1>Adding a time position marker</h1>
<p>このセクションでは、ファイル再生の現在時刻を表示する縦線の追加について説明します。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="adding-a-timer">Adding a timer<a href="#adding-a-timer" class="hash-link" aria-label="Adding a timer への直接リンク" title="Adding a timer への直接リンク">​</a></h2>
<p>First of all we need to add the <a href="https://docs.juce.com/master/classTimer" target="_blank" rel="noopener noreferrer" title="Makes repeated callbacks to a virtual method at a specified time interval.">タイマー</a> class to our list of base classes [10]:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class MainContentComponent : public juce::AudioAppComponent、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                               public juce::ChangeListener、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                               private juce::Timer // [10].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public：</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Then we need to make the timer callback repaint our component. Make sure this code is added to the <code>プライベート</code> section as you will notice we inherited privately from the <a href="https://docs.juce.com/master/classTimer" target="_blank" rel="noopener noreferrer" title="Makes repeated callbacks to a virtual method at a specified time interval.">タイマー</a> class:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void timerCallback() オーバーライド</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        を再描画する；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In the <code>メインコンテンツコンポーネント</code> constructor we need to start the timer [11] — every 40ms should be sufficient:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">startTimer (40); // [11].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>実際、ファイルが正常にオープンされた時点でタイマーをスタートさせれば、タイマーのスタートを遅らせることができる。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="drawing-the-position-line">Drawing the position line<a href="#drawing-the-position-line" class="hash-link" aria-label="Drawing the position line への直接リンク" title="Drawing the position line への直接リンク">​</a></h2>
<p>Finally, to draw the line we need to calculate the position of the line and draw it <em>その後</em> drawing the thumbnail:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    void paintIfFileLoaded (juce::Graphics&amp; g, const juce::Rectangle&amp; thumbnailBounds)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        g.setColour (juce::Colours::white)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        g.fillRect (thumbnailBounds)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        g.setColour (juce::Colours::red)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto audioLength = (float) thumbnail.getTotalLength(); // [12].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        thumbnail.drawChannels (g, thumbnailBounds, 0.0, audioLength, 1.0f)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        g.setColour (juce::Colours::green)；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto audioPosition = (float) transportSource.getCurrentPosition()；</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        auto drawPosition = (audioPosition / audioLength) * (float) thumbnailBounds.getWidth()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            + (float) thumbnailBounds.getX(); // [13].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        g.drawLine (drawPosition, (float) thumbnailBounds.getY(), drawPosition、</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    (float) thumbnailBounds.getBottom(), 2.0f); // [14].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>[12]: Store the length of the file in a variable since we need to use this value twice.</li>
<li>[13]: The position is calculated as a proportion of the total length of the audio file. The position to draw the line needs to be based on the same proportion of the width of the rectangle that the thumbnail is drawn within. We need to offset the drawing position based on the x-coordinate of the rectangle.</li>
<li>[14]: Here we draw a line that is 2 pixels wide between the top (y) and bottom of the rectangle.</li>
</ul>
<p>これでアプリケーションをビルドして実行できるはずだ。</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注記</div><div class="admonitionContent_BuS1"><p>The source code for this modified version of the application can be found in the <code>オーディオサムネイルチュートリアル_02.h</code> file of the demo project.</p><div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>警告</div><div class="admonitionContent_BuS1"><p>この例の問題点は、40ミリ秒ごとにコンポーネントを強制的に再描画していることです。これは単純な例では許容できるかもしれませんが、より複雑なケースではパフォーマンスの問題にぶつかるでしょう。これについては、下の演習を見てください。</p></div></div></div></div>
<p>Separate the drawing into a separate child components (see <a href="/juce-tutorial-ja/audio/tutorial_component_parents_children/">チュートリアル親子コンポーネント</a>). You should have three components:</p>
<ul>
<li>オーディオ波形を描画するコンポーネント。</li>
<li>再生位置を垂直線として描画するコンポーネント。</li>
<li>この2つの子コンポーネントを含むメインの親コンポーネント。</li>
</ul>
<p>こうすることで、コードが簡単になるだけでなく、正しく行えば、フレームごとに波形を再描画する必要がなくなるので、より効率的になります。また、ユーザーが波形をクリックした場合に再生位置を変更する機能を追加することもできる。</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注記</div><div class="admonitionContent_BuS1"><p>The source code for possible implementations of this exercise can be found in the <code>オーディオサムネイルチュートリアル_03.h</code> and <code>オーディオサムネイルチュートリアル_04.h</code> files of the demo project.</p></div></div>
<h1>Summary</h1>
<p>This tutorial has introduced the <a href="https://docs.juce.com/master/classAudioThumbnail" target="_blank" rel="noopener noreferrer" title="Makes it easy to quickly draw scaled views of the waveform shape of an audio file.">オーディオサムネイル</a> class and how it can be integrated into an audio application. In particular we have covered:</p>
<ul>
<li>Initialising <a href="https://docs.juce.com/master/classAudioThumbnail" target="_blank" rel="noopener noreferrer" title="Makes it easy to quickly draw scaled views of the waveform shape of an audio file.">オーディオサムネイル</a> and <a href="https://docs.juce.com/master/classAudioThumbnailCache" target="_blank" rel="noopener noreferrer" title="An instance of this class is used to manage multiple AudioThumbnail objects.">オーディオサムネイルキャッシュ</a> objects.</li>
<li>Using the <a href="https://docs.juce.com/master/classAudioThumbnail" target="_blank" rel="noopener noreferrer" title="Makes it easy to quickly draw scaled views of the waveform shape of an audio file.">オーディオサムネイル</a> class within a component.</li>
<li>コンポーネントを構造化することで、描画が複雑なコンテンツが不必要に再描画されないようにする。</li>
</ul>
<h1>See also</h1>
<ul>
<li><a href="/juce-tutorial-ja/audio/tutorial_graphics_class/">チュートリアルGraphicsクラス</a></li>
<li><a href="/juce-tutorial-ja/audio/tutorial_component_parents_children/">チュートリアル親子コンポーネント</a></li>
<li><a href="/juce-tutorial-ja/audio/tutorial_playing_sound_files/">チュートリアルオーディオプレーヤーの構築</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/m1m0zzz/juce-tutorial-ja/tree/main/docs/audio/tutorial_audio_thumbnail.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>このページを編集</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="ドキュメントページ"><a class="pagination-nav__link pagination-nav__link--prev" href="/juce-tutorial-ja/audio/tutorial_looping_audio_sample_buffer_advanced/"><div class="pagination-nav__sublabel">前へ</div><div class="pagination-nav__label">AudioSampleBufferクラスを使ったオーディオのループ（上級者向け）</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/juce-tutorial-ja/audio/tutorial_audio_device_manager/"><div class="pagination-nav__sublabel">次へ</div><div class="pagination-nav__label">AudioDeviceManagerクラス</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#additional-objects" class="table-of-contents__link toc-highlight">Additional objects</a></li><li><a href="#initialising-the-objects" class="table-of-contents__link toc-highlight">Initialising the objects</a></li><li><a href="#responding-to-changes" class="table-of-contents__link toc-highlight">Responding to changes</a></li><li><a href="#opening-the-file" class="table-of-contents__link toc-highlight">Opening the file</a></li><li><a href="#performing-the-drawing" class="table-of-contents__link toc-highlight">Performing the drawing</a></li><li><a href="#adding-a-timer" class="table-of-contents__link toc-highlight">Adding a timer</a></li><li><a href="#drawing-the-position-line" class="table-of-contents__link toc-highlight">Drawing the position line</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Tutorial</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/juce-tutorial-ja/category/getting-started/">Getting Started</a></li></ul></div><div class="col footer__col"><div class="footer__title">JUCE</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://juce.com/learn/tutorials/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Tutorials<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://juce.com/learn/documentation/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Documentation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://forum.juce.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/m1m0zzz/juce-tutorial-ja" target="_blank" rel="noopener noreferrer" class="footer__link-item">repo<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/juce-framework/JUCE" target="_blank" rel="noopener noreferrer" class="footer__link-item">JUCE GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2024 Raw Material Software Limited. translation: mimoz</div></div></div></footer></div>
</body>
</html>